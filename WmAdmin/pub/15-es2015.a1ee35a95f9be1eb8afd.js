(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{ojYn:function(e,t,i){"use strict";i.r(t),i.d(t,"MonitoringModule",function(){return br}),i.d(t,"createTranslateLoader",function(){return vr});var n=i("TSSN"),c=i("G0yt"),a=i("2ilO"),s=i("/dUA"),r=i("SVse"),o=i("8Y7J"),l=i("Ckfk"),d=i("hhfa"),u=i("xCnN"),h=i("iInd"),p=i("XNiG"),g=i("1G5W");const m=["sublist"],f=["menuitem"],b=function(e){return{"p-hidden":e}};function v(e,t){if(1&e&&o.ac(0,"li",5,6),2&e){const e=o.tc().$implicit;o.Ac("ngClass",o.Gc(1,b,!1===e.visible))}}function y(e,t){if(1&e&&o.ac(0,"span",16),2&e){const e=o.tc(3).$implicit;o.Ac("ngClass",e.icon)}}function C(e,t){if(1&e&&(o.fc(0,"span",17),o.bd(1),o.ec()),2&e){const e=o.tc(3).$implicit;o.Lb(1),o.cd(e.label)}}function S(e,t){if(1&e&&o.ac(0,"span",18),2&e){const e=o.tc(3).$implicit;o.Ac("innerHTML",e.label,o.Sc)}}function x(e,t){1&e&&o.ac(0,"span",19)}const L=function(e){return{"p-menuitem-link":!0,"p-disabled":e}};function w(e,t){if(1&e){const e=o.gc();o.fc(0,"a",11),o.pc("click",function(t){o.Rc(e),o.tc();const i=o.Pc(1),n=o.tc(),c=n.$implicit,a=n.index,s=o.tc();return s.onItemClick(t,c,i,s.getKey(a))}),o.Zc(1,y,1,1,"span",12),o.Zc(2,C,2,1,"span",13),o.Zc(3,S,1,1,"ng-template",null,14,o.ad),o.Zc(5,x,1,0,"span",15),o.ec()}if(2&e){const e=o.Pc(4),t=o.tc(2),i=t.$implicit,n=t.index,c=o.tc();o.Ob(i.styleClass),o.Ac("ngClass",o.Gc(15,L,i.disabled))("ngStyle",i.style),o.Mb("href",i.url?i.url:null,o.Uc)("target",i.target)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0")("aria-haspopup",null!=c.item.items)("aria-expanded",c.isActive(c.getKey(n))),o.Lb(1),o.Ac("ngIf",i.icon),o.Lb(1),o.Ac("ngIf",!1!==i.escape)("ngIfElse",e),o.Lb(3),o.Ac("ngIf",i.items)}}function T(e,t){if(1&e&&o.ac(0,"span",16),2&e){const e=o.tc(3).$implicit;o.Ac("ngClass",e.icon)}}function I(e,t){if(1&e&&(o.fc(0,"span",17),o.bd(1),o.ec()),2&e){const e=o.tc(3).$implicit;o.Lb(1),o.cd(e.label)}}function M(e,t){if(1&e&&o.ac(0,"span",18),2&e){const e=o.tc(3).$implicit;o.Ac("innerHTML",e.label,o.Sc)}}function O(e,t){1&e&&o.ac(0,"span",19)}const _=function(){return{exact:!1}};function D(e,t){if(1&e){const e=o.gc();o.fc(0,"a",20),o.pc("click",function(t){o.Rc(e),o.tc();const i=o.Pc(1),n=o.tc(),c=n.$implicit,a=n.index,s=o.tc();return s.onItemClick(t,c,i,s.getKey(a))}),o.Zc(1,T,1,1,"span",12),o.Zc(2,I,2,1,"span",13),o.Zc(3,M,1,1,"ng-template",null,21,o.ad),o.Zc(5,O,1,0,"span",15),o.ec()}if(2&e){const e=o.Pc(4),t=o.tc(2).$implicit;o.Ob(t.styleClass),o.Ac("routerLink",t.routerLink)("queryParams",t.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",t.routerLinkActiveOptions||o.Fc(22,_))("ngClass",o.Gc(23,L,t.disabled))("ngStyle",t.style)("fragment",t.fragment)("queryParamsHandling",t.queryParamsHandling)("preserveFragment",t.preserveFragment)("skipLocationChange",t.skipLocationChange)("replaceUrl",t.replaceUrl)("state",t.state),o.Mb("target",t.target)("title",t.title)("id",t.id)("tabindex",t.disabled?null:"0"),o.Lb(1),o.Ac("ngIf",t.icon),o.Lb(1),o.Ac("ngIf",!1!==t.escape)("ngIfElse",e),o.Lb(3),o.Ac("ngIf",t.items)}}function P(e,t){if(1&e){const e=o.gc();o.fc(0,"p-contextMenuSub",22),o.pc("leafClick",function(){return o.Rc(e),o.tc(3).onLeafClick()}),o.ec()}if(2&e){const e=o.tc(2),t=e.index,i=e.$implicit,n=o.tc();o.Ac("parentItemKey",n.getKey(t))("item",i)}}const A=function(e,t){return{"p-menuitem":!0,"p-menuitem-active":e,"p-hidden":t}};function k(e,t){if(1&e){const e=o.gc();o.fc(0,"li",7,6),o.pc("mouseenter",function(t){o.Rc(e);const i=o.tc(),n=i.$implicit,c=i.index,a=o.tc();return a.onItemMouseEnter(t,n,a.getKey(c))})("mouseleave",function(t){o.Rc(e);const i=o.tc().$implicit;return o.tc().onItemMouseLeave(t,i)}),o.Zc(2,w,6,17,"a",8),o.Zc(3,D,6,25,"a",9),o.Zc(4,P,1,2,"p-contextMenuSub",10),o.ec()}if(2&e){const e=o.tc(),t=e.index,i=e.$implicit,n=o.tc();o.Ac("ngClass",o.Hc(5,A,n.isActive(n.getKey(t)),!1===i.visible)),o.Mb("data-ik",n.getKey(t)),o.Lb(2),o.Ac("ngIf",!i.routerLink),o.Lb(1),o.Ac("ngIf",i.routerLink),o.Lb(1),o.Ac("ngIf",i.items)}}function R(e,t){if(1&e&&(o.Zc(0,v,2,3,"li",3),o.Zc(1,k,5,8,"li",4)),2&e){const e=t.$implicit;o.Ac("ngIf",e.separator),o.Lb(1),o.Ac("ngIf",!e.separator)}}const E=function(e){return{"p-submenu-list":e}},F=["container"];let B=(()=>{class e{constructor(e){this.leafClick=new o.p,this.contextMenu=e}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe(Object(g.a)(this.contextMenu.ngDestroy$)).subscribe(e=>{this.activeItemKey=e,this.isActive(this.parentItemKey)&&l.b.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(e,t,i){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),!t.disabled){if(t.items){let t=l.b.findSingle(e.currentTarget,".p-submenu-list");l.b.addClass(t,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(i)}}onItemMouseLeave(e,t){t.disabled||this.contextMenu.el.nativeElement.contains(e.toElement)&&(t.items&&this.contextMenu.removeActiveFromSubLists(e.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(e,t,i,n){if(t.disabled)e.preventDefault();else{if(t.url||t.routerLink||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),t.items){let e=l.b.findSingle(i,".p-submenu-list");e&&(this.isActive(n)&&l.b.hasClass(e,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(i):l.b.addClass(e,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(n))}t.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(e){return this.root?String(e):this.parentItemKey+"_"+e}isActive(e){return this.activeItemKey&&(this.activeItemKey.startsWith(e+"_")||this.activeItemKey===e)}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(Object(o.db)(()=>N)))},e.\u0275cmp=o.Tb({type:e,selectors:[["p-contextMenuSub"]],viewQuery:function(e,t){if(1&e&&(o.hd(m,1),o.hd(f,1)),2&e){let e;o.Oc(e=o.qc())&&(t.sublistViewChild=e.first),o.Oc(e=o.qc())&&(t.menuitemViewChild=e.first)}},inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["role","none",3,"ngClass","mouseenter","mouseleave"],["pRipple","",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","ngStyle","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"ngClass","ngStyle","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","ngStyle","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(e,t){1&e&&(o.fc(0,"ul",0,1),o.Zc(2,R,2,2,"ng-template",2),o.ec()),2&e&&(o.Ac("ngClass",o.Gc(2,E,!t.root)),o.Lb(2),o.Ac("ngForOf",t.root?t.item:t.item.items))},directives:[r.m,r.n,r.o,u.a,r.p,h.i,h.h,e],encapsulation:2}),e})(),N=(()=>{class e{constructor(e,t,i,n,c){this.el=e,this.renderer=t,this.cd=i,this.zone=n,this.contextMenuService=c,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new o.p,this.onHide=new o.p,this.ngDestroy$=new p.a}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,e=>{this.show(e),e.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,e=>{this.show(e),e.preventDefault(),e.stopPropagation()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):l.b.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(e){this.clearActiveItem(),this.position(e),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",l.b.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),e&&e.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++l.b.zindex))}toggle(e){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(e)}position(e){if(e){let t=e.pageX+1,i=e.pageY+1,n=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:l.b.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),c=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:l.b.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),a=l.b.getViewport();t+n-document.body.scrollLeft>a.width&&(t-=n),i+c-document.body.scrollTop>a.height&&(i-=c),t<document.body.scrollLeft&&(t=document.body.scrollLeft),i<document.body.scrollTop&&(i=document.body.scrollTop),this.containerViewChild.nativeElement.style.left=t+"px",this.containerViewChild.nativeElement.style.top=i+"px"}}positionSubmenu(e){let t=e.parentElement.parentElement,i=l.b.getViewport(),n=e.offsetParent?e.offsetWidth:l.b.getHiddenElementOuterWidth(e),c=e.offsetHeight?e.offsetHeight:l.b.getHiddenElementOuterHeight(e),a=l.b.getOuterWidth(t.children[0]),s=l.b.getOuterHeight(t.children[0]),r=l.b.getOffset(t.parentElement);e.style.zIndex=++l.b.zindex,parseInt(r.top)+s+c>i.height-l.b.calculateScrollbarHeight()?(e.style.removeProperty("top"),e.style.bottom="0px"):(e.style.removeProperty("bottom"),e.style.top="0px"),e.style.left=parseInt(r.left)+a+n>i.width-l.b.calculateScrollbarWidth()?-n+"px":a+"px"}isItemMatched(e){return l.b.hasClass(e,"p-menuitem")&&!l.b.hasClass(e.children[0],"p-disabled")}findNextItem(e,t){let i=e.nextElementSibling;if(i)return this.isItemMatched(i)?i:this.findNextItem(i,t);{let i=e.parentElement.children[0];return this.isItemMatched(i)?i:t?null:this.findNextItem(i,!0)}}findPrevItem(e,t){let i=e.previousElementSibling;if(i)return this.isItemMatched(i)?i:this.findPrevItem(i,t);{let i=e.parentElement.children[e.parentElement.children.length-1];return this.isItemMatched(i)?i:t?null:this.findPrevItem(i,!0)}}getActiveItem(){let e=this.contextMenuService.activeItemKey;return null==e?null:l.b.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+e+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(e){let t=l.b.find(e,".p-submenu-list-active");for(let i of t)l.b.removeClass(i,"p-submenu-list-active")}removeActiveFromSublist(e){e&&l.b.findSingle(e,".p-submenu-list")&&l.b.hasClass(e,"p-submenu-list-active")&&l.b.removeClass(e,"p-submenu-list-active")}bindGlobalListeners(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",e=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(e)&&!e.ctrlKey&&2!==e.button&&this.hide()})),this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",e=>{let t=this.getActiveItem();switch(e.key){case"ArrowDown":if(t)this.removeActiveFromSublist(t),t=this.findNextItem(t);else{let e=l.b.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;t=this.isItemMatched(e)?e:this.findNextItem(e)}t&&this.contextMenuService.changeKey(t.getAttribute("data-ik")),e.preventDefault();break;case"ArrowUp":if(t)this.removeActiveFromSublist(t),t=this.findPrevItem(t);else{let e=l.b.findSingle(this.containerViewChild.nativeElement,"ul"),i=e.children[e.children.length-1];t=this.isItemMatched(i)?i:this.findPrevItem(i)}t&&this.contextMenuService.changeKey(t.getAttribute("data-ik")),e.preventDefault();break;case"ArrowRight":if(t){let e=l.b.findSingle(t,".p-submenu-list");e&&(l.b.addClass(e,"p-submenu-list-active"),t=l.b.findSingle(e,".p-menuitem-link:not(.p-disabled)").parentElement,t&&this.contextMenuService.changeKey(t.getAttribute("data-ik")))}e.preventDefault();break;case"ArrowLeft":if(t){let e=t.parentElement;e&&l.b.hasClass(e,"p-submenu-list-active")&&(l.b.removeClass(e,"p-submenu-list-active"),t=e.parentElement.parentElement,t&&this.contextMenuService.changeKey(t.getAttribute("data-ik")))}e.preventDefault();break;case"Escape":this.hide(),e.preventDefault();break;case"Enter":t&&this.handleItemClick(e,this.findModelItemFromKey(this.contextMenuService.activeItemKey),t),e.preventDefault()}}))}findModelItemFromKey(e){return null!=e&&this.model?e.split("_").reduce((e,t)=>e?e.items[t]:this.model[t],null):null}handleItemClick(e,t,i){if(t&&!t.disabled){if(t.command&&t.command({originalEvent:e,item:t}),t.items){let e=l.b.findSingle(i,".p-submenu-list");e&&(l.b.hasClass(e,"p-submenu-list-active")?this.removeActiveFromSubLists(i):(l.b.addClass(e,"p-submenu-list-active"),this.positionSubmenu(e)))}t.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(e){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(e){return!(this.containerViewChild.nativeElement.isSameNode(e.target)||this.containerViewChild.nativeElement.contains(e.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(o.n),o.Zb(o.M),o.Zb(o.h),o.Zb(o.G),o.Zb(d.c))},e.\u0275cmp=o.Tb({type:e,selectors:[["p-contextMenu"]],viewQuery:function(e,t){if(1&e&&o.hd(F,1),2&e){let e;o.Oc(e=o.qc())&&(t.containerViewChild=e.first)}},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent",model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(e,t){1&e&&(o.fc(0,"div",0,1),o.ac(2,"p-contextMenuSub",2),o.ec()),2&e&&(o.Ob(t.styleClass),o.Ac("ngClass","p-contextmenu p-component")("ngStyle",t.style),o.Lb(2),o.Ac("item",t.model)("root",!0))},directives:[r.m,r.p,B],styles:[".p-contextmenu{display:none;position:absolute}.p-contextmenu ul{list-style:none;margin:0;padding:0}.p-contextmenu .p-submenu-list{display:none;min-width:100%;position:absolute;z-index:1}.p-contextmenu .p-menuitem-link{align-items:center;cursor:pointer;display:flex;overflow:hidden;position:relative;text-decoration:none}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}"],encapsulation:2,changeDetection:0}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Xb({type:e}),e.\u0275inj=o.Wb({providers:[d.c],imports:[[r.c,h.j,u.b],h.j]}),e})();var H=i("Tr4x"),Z=i("IheW"),z=i("QGev"),j=i("D3+B"),U=i("JIr8"),$=i("LRne"),K=i("wd/R"),Q=i("EApP");let W=(()=>{class e{constructor(e,t,i,n){this.http=e,this.translateService=t,this.dateTimeService=i,this.toastr=n,this.documentsUrl="/admin/monitor"}getDocumentList(e,t,i="AUDITTIMESTRING",n,c,a,s){let r=(new Z.g).set("pageNumber",e).set("pageSize",t).set("sortColumn",i).set("sortAscending",n);if(s&&s.length>0)for(let l=0;l<s.length;l++)if("durationInHours"===s[l].filterBy){const e=this.setStartAndFromDateWithoutSeconds(s[l].filterValue,c,a);c=e.startTime,a=e.endTime,s.splice(l,1);break}c&&(r=r.append("fromDate",c)),a&&(r=r.append("toDate",a)),this.hasIsAnd(s)||(r=r.append("isAnd","TRUE")),r=j.K.getFliterToQueryParam(s,r);const o=j.K.getISBaseUrl();return this.http.get(o+this.documentsUrl+"/document",{params:r})}hasIsAnd(e){if(!e||0===e.length)return!1;for(let t=0;t<e.length;t++)if("isAnd"===e[t].filterBy)return!0;return!1}getDocumentDetails(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.documentsUrl+"/document/"+e+"/details").pipe(Object(U.a)(this.handleError("getDocumentDetails")))}setStartAndFromDateWithoutSeconds(e,t,i){return{startTime:(i=K.utc().startOf("minute")).clone().subtract(e,"hours").valueOf(),endTime:i=i.valueOf()}}getDocumentChartData(e,t,i){let n=new Z.g;if(t||i||e||(e=1),e){const n=this.setStartAndFromDateWithoutSeconds(e,t,i);t=n.startTime,i=n.endTime}t&&(n=n.append("fromDate",t)),i&&(n=n.append("toDate",i)),n=n.append("isAnd","TRUE"),n=n.append("customIntervals","20");const c=j.K.getISBaseUrl();return this.http.get(c+this.documentsUrl+"/document/summary",{params:n})}summarizedChartData(e,t,i,n){if(e){const c=[];let a="";const s=[],r=[],o=[],l=[];a=this.getLabelForBarChartXAxis(t,i,n);for(const t of e.documentArray){const e=t.startTimestamp,i=t.endTimestamp;let n;0===c.length&&(n=n);let a="0",s="0",r="0",o="0";if(t.statusDetails.length>0)for(const c of t.statusDetails)"Failed"===c.status?r=c.numberOfExecutions.toString():"Broker"===c.status?s=c.numberOfExecutions.toString():"Retries Exceeded"===c.status?o=c.numberOfExecutions.toString():"In Doubt"===c.status&&(a=c.numberOfExecutions.toString());const l={Broker:s,BrokerOriginal:s,Failed:r,FailedOriginal:r,"Retries Exceeded":o,"Retries ExceededOriginal":o,"In Doubt":a,"In DoubtOriginal":a,startTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(e),endTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(i)};c.push(l)}for(let e=0;e<c.length;e++)s.push(c[e].brokerType),r.push(c[e].failed),o.push(c[e].inDoubt),l.push(c[e].retriesExceeded);const d=s.reduce((e,t)=>Math.max(e,t)),u=r.reduce((e,t)=>Math.max(e,t)),h=o.reduce((e,t)=>Math.max(e,t)),p=l.reduce((e,t)=>Math.max(e,t)),g=Math.max(d,u,h,p);if(g>0)for(let e=0;e<c.length;e++){if("0"!==c[e].brokerType){let t=Number(c[e].brokerType)/Number(g)*100;for(;t<6;)c[e].brokerType=(Number(c[e].brokerType)+1).toString(),t=Number(c[e].brokerType)/Number(g)*100}if("0"!==c[e].failed){let t=Number(c[e].failed)/Number(g)*100;for(;t<6;)c[e].failed=(Number(c[e].failed)+1).toString(),t=Number(c[e].failed)/Number(g)*100}if("0"!==c[e].inDoubt){let t=Number(c[e].inDoubt)/Number(g)*100;for(;t<6;)c[e].inDoubt=(Number(c[e].inDoubt)+1).toString(),t=Number(c[e].inDoubt)/Number(g)*100}if("0"!==c[e].retriesExceeded){let t=Number(c[e].retriesExceeded)/Number(g)*100;for(;t<6;)c[e].retriesExceeded=(Number(c[e].retriesExceeded)+1).toString(),t=Number(c[e].retriesExceeded)/Number(g)*100}}const m=new Map;return m.set("barData",c),m.set("barChartLabel",a),m.set("donutData",this.getDonutData(e)),m.set("columnKeyColorArray",this.getDocumentBarColumnKeyColorArray(e.totalInDoubt,e.totalBrokerDocs,e.totalFailed,e.totalRetriesExceeded)),m}throw new Error("Invalid response format for integration serivce execution chart")}getDonutData(e){return[{label:"Broker",displayLabel:"monitoring.documents.document.type.broker",value:e.totalBrokerDocs,color:s.COLOR_HEX.BROKER},{label:"Failed",displayLabel:"monitoring.services.service.status.failed",value:e.totalFailed,color:s.COLOR_HEX.FAILED},{label:"Retries Exceeded",displayLabel:"monitoring.documents.document.type.RetriesExceeded",value:e.totalRetriesExceeded,color:s.COLOR_HEX.RETRIES_EXCEEDED},{label:"In Doubt",displayLabel:"monitoring.documents.document.type.InDoubt",value:e.totalInDoubt,color:s.COLOR_HEX.INDOUBT}]}getDocumentBarColumnKeyColorArray(e,t,i,n){return[{key:"Broker",color:s.COLOR_HEX.BROKER,displayValue:"monitoring.documents.document.type.broker",count:t},{key:"Failed",color:s.COLOR_HEX.FAILED,displayValue:"monitoring.services.service.status.failed",count:i},{key:"Retries Exceeded",color:s.COLOR_HEX.RETRIES_EXCEEDED,displayValue:"monitoring.documents.document.type.RetriesExceeded",count:n},{key:"In Doubt",color:s.COLOR_HEX.INDOUBT,displayValue:"monitoring.documents.document.type.InDoubt",count:e}]}getLabelForBarChartXAxis(e,t,i){let n="";return e&&e<=24?n=this.translateService.instant(1===e?"common.chart.label.time.duration.hour":"common.chart.label.time.duration.hours",{value:e}):e&&48===e?n=this.translateService.instant("common.chart.label.time.duration.days",{value:e/24}):e&&e>48?n=this.translateService.instant(168===e?"common.chart.label.time.duration.week":"common.chart.label.time.duration.weeks",{value:e/168}):t&&i&&(n=this.translateService.instant("common.chart.label.time.duration.custom",{value1:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(t),value2:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(i)})),n}getMonitorStatus(){const e=j.K.getISBaseUrl();return this.http.get(e+this.documentsUrl+"/status")}resubmitDocument(e,t,i){const n=j.K.getISBaseUrl()+this.documentsUrl+"/document/"+encodeURIComponent(e)+"?action=resubmit&name="+encodeURIComponent(t);return this.http.post(n,i).pipe(Object(U.a)(this.handleResubmitError))}resubmitDocuments(e){let t=j.K.getISBaseUrl()+this.documentsUrl+"/document?action=resubmit";for(const i of e)t+="&docIDs[]="+encodeURIComponent(i);return this.http.post(t,{})}handleError(e="operation",t){return i=>{console.error(i),this.log(`${e} failed: ${i.message}`);const n=Object(j.L)(i,this.translateService);return this.toastr.error(n),Object($.a)(t)}}handleResubmitError(e){let t=null;return t=e instanceof Response?`${e.status} - ${e.statusText||""} ${e||""}`:e.message?e.message:e.toString(),console.error(t),Object($.a)(t)}log(e){o.fb&&console.log(`DocumentApiService: ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o.mc(Z.b),o.mc(n.d),o.mc(s.DateTimeService),o.mc(Q.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var q=i("2Vo4");class X{constructor(e,t){this.serviceName=e,this.contextId=t}}class G{constructor(e,t){this.documentName=e,this.documentId=t}}let J=(()=>{class e{constructor(e,t,i){this.http=e,this.translateService=t,this.toastr=i,this.serviceInfoSource=new q.a(new X("","")),this.currentServiceInfo=this.serviceInfoSource.asObservable(),this.documentInfoSource=new q.a(new G("","")),this.currentDocumentInfo=this.documentInfoSource.asObservable(),this.servicesUrl="/admin/monitor"}getCurrentServiceInfo(){return this.currentServiceInfo}getCurrentDocumentInfo(){return this.currentDocumentInfo}setCurrentServiceInfo(e,t){this.serviceInfoSource.next(new X(e,t))}setCurrentDocumentInfo(e,t){this.documentInfoSource.next(new G(e,t))}getServiceSignature(e,t){const i=j.K.getISBaseUrl();return this.http.get(i+this.servicesUrl+"/service/"+e+"/input_signature?contextID="+t).pipe(Object(U.a)(this.handleError("getServiceSignature")))}getServicePipeline(e,t){let i=j.K.getISBaseUrl()+this.servicesUrl+"/service/"+e+"/pipeline";return i+=!0===t?"?xmlEncode=true":"?jsonDateEncoding=long",this.http.get(i).pipe(Object(U.a)(this.handleError("getServicePipeline")))}getDocumentPipeline(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.servicesUrl+"/document/"+e).pipe(Object(U.a)(this.handleError("getDocumentPipeline")))}getDocumentSignature(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.servicesUrl+"/document/"+e+"/input_signature").pipe(Object(U.a)(this.handleError("getDocumentSignature")))}handleError(e="operation",t){return i=>{console.error(i),this.log(`${e} failed: ${i.message}`);const n=Object(j.L)(i,this.translateService);return this.toastr.error(n),Object($.a)(t)}}log(e){o.fb&&console.log(`ServiceApiService: ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o.mc(Z.b),o.mc(n.d),o.mc(Q.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Y=(()=>{class e{constructor(e){this.http=e,this.navSource=new q.a(""),this.navLink=this.navSource.asObservable(),this.services="/monitoring/services",this.changeNavItem(this.services)}changeNavItem(e){this.navSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)(o.mc(Z.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ee=i("GX/v"),te=i("YHJu"),ie=i("LvDl");class ne{constructor(e){this.document=e}}class ce{constructor(e){this.inputPipeline=e}}const ae={string:{dataTypeName:"string",bgColor:"#FEF6BE",icon:"str"},table:{dataTypeName:"table",bgColor:"#f4f456",icon:"tab"},record:{dataTypeName:"record",bgColor:"#C0FFE0",icon:"doc"},recref:{dataTypeName:"recref",bgColor:"#C9FBFE",icon:"ref"},object:{dataTypeName:"object",bgColor:"#FFCDD0",icon:"obj"},"java.lang.Short":{dataTypeName:"java.lang.Short",bgColor:"#FFFF00",icon:"16"},"java.lang.Integer":{dataTypeName:"java.lang.Integer",bgColor:"#dfaade",icon:"32"},"java.lang.Long":{dataTypeName:"java.lang.Long",bgColor:"#e8ce97",icon:"64"},"java.lang.Double":{dataTypeName:"java.lang.Double",bgColor:"#e8ce97",icon:"64"},"java.lang.Float":{dataTypeName:"java.lang.Float",bgColor:"#7bff69",icon:"32"},"java.lang.Boolean":{dataTypeName:"java.lang.Boolean",bgColor:"lightblue",icon:"bool"},"java.util.Date":{dataTypeName:"java.util.Date",bgColor:"lightblue",icon:"date"},"com.wm.util.XOPObject":{dataTypeName:"com.wm.util.XOPObject",bgColor:"#FFCDD0",icon:"obj"}},se={string:{dataTypeImage:"assets/images/service-input/string.svg",altText:"serviceinput.data.type.string"},table:{dataTypeImage:"assets/images/service-input/string-table.svg",altText:"serviceinput.data.type.string.table"},record:{dataTypeImage:"assets/images/service-input/document.svg",altText:"serviceinput.data.type.document"},recref:{dataTypeImage:"assets/images/service-input/document-reference.svg",altText:"serviceinput.data.type.document.reference"},object:{dataTypeImage:"assets/images/service-input/object.svg",altText:"serviceinput.data.type.object"},"java.lang.Short":{dataTypeImage:"assets/images/service-input/obj-integer-short.svg",altText:"serviceinput.data.type.short"},"java.lang.Integer":{dataTypeImage:"assets/images/service-input/obj-integer.svg",altText:"serviceinput.data.type.integer"},"java.lang.Long":{dataTypeImage:"assets/images/service-input/obj-integer-long.svg",altText:"serviceinput.data.type.long"},"java.lang.Double":{dataTypeImage:"assets/images/service-input/obj-double.svg",altText:"serviceinput.data.type.double"},"java.lang.Float":{dataTypeImage:"assets/images/service-input/obj-float.svg",altText:"serviceinput.data.type.float"},"java.lang.Boolean":{dataTypeImage:"assets/images/service-input/obj-boolean.svg",altText:"serviceinput.data.type.boolean"},"java.lang.Byte":{dataTypeImage:"assets/images/service-input/obj-byte.svg",altText:"serviceinput.data.type.byte"},"byte []":{dataTypeImage:"assets/images/service-input/obj-byte-array.svg",altText:"serviceinput.data.type.byte.array"},"java.lang.Character":{dataTypeImage:"assets/images/service-input/obj-character.svg",altText:"serviceinput.data.type.character"},"java.util.Date":{dataTypeImage:"assets/images/service-input/obj-date-time.svg",altText:"serviceinput.data.type.date"},"com.wm.util.XOPObject":{dataTypeImage:"assets/images/service-input/obj-integer-short.svg",altText:"com.wm.util.XOPObject"}},re={string:{dataTypeImage:"assets/images/service-input/string-list.svg",altText:"serviceinput.data.type.string.list"},record:{dataTypeImage:"assets/images/service-input/document-list.svg",altText:"serviceinput.data.type.document.list"},recref:{dataTypeImage:"assets/images/service-input/document-reference-list.svg",altText:"serviceinput.data.type.document.reference.list"},object:{dataTypeImage:"assets/images/service-input/object-list.svg",altText:"serviceinput.data.type.object.list"},"java.lang.Short":{dataTypeImage:"assets/images/service-input/obj-integer-short-list.svg",altText:"serviceinput.data.type.short.list"},"java.lang.Integer":{dataTypeImage:"assets/images/service-input/obj-integer-list.svg",altText:"serviceinput.data.type.integer.list"},"java.lang.Long":{dataTypeImage:"assets/images/service-input/obj-integer-long-list.svg",altText:"serviceinput.data.type.long.list"},"java.lang.Double":{dataTypeImage:"assets/images/service-input/obj-double-list.svg",altText:"serviceinput.data.type.double.list"},"java.lang.Float":{dataTypeImage:"assets/images/service-input/obj-float-list.svg",altText:"serviceinput.data.type.float.list"},"java.lang.Boolean":{dataTypeImage:"assets/images/service-input/obj-boolean-list.svg",altText:"serviceinput.data.type.boolean.list"},"java.lang.Byte":{dataTypeImage:"assets/images/service-input/obj-byte-list.svg",altText:"serviceinput.data.type.byte.list"},"java.lang.Character":{dataTypeImage:"assets/images/service-input/obj-character-list.svg",altText:"serviceinput.data.type.character.list"},"java.util.Date":{dataTypeImage:"assets/images/service-input/obj-date-time-list.svg",altText:"serviceinput.data.type.date.list"},"com.wm.util.XOPObject":{dataTypeImage:"assets/images/service-input/object-list.svg",altText:"com.wm.util.XOPObject.list"}};class oe{static isString(e){return"string"==typeof e}static isNumber(e){return"number"==typeof e}static isInteger(e){return e%1==0}static isBoolean(e){return"boolean"==typeof e}static isPrimitiveType(e){return this.isString(e)||this.isNumber(e)||this.isBoolean(e)}static isObject(e){return"object"==typeof e}static isArray(e){return Array.isArray(e)}static getListWithKeys(e){return e?Object.keys(e):[]}static hasKeys(e){return Object.keys(e).length>0}static getFieldType(e){let t="object";return this.isString(e)?t="string":this.isNumber(e)?t=oe.__handleNumbers(e):this.isBoolean(e)?t="java.lang.Boolean":this.isObject(e)&&(t=oe.__handleObject(e)),t}static __handleObject(e){let t="record";return this.isArray(e)&&(t=oe.__handleArray(e)),t}static __handleArray(e){let t="object";return e.length&&this.isArray(e[0])&&(e[0][0]&&e[0][0].fieldValue&&this.isArray(e[0][0].fieldValue)||this.isDocument(e[0])?t="record":e[0][0]&&e[0][0].fieldValue&&(t=this.getFieldType(e[0][0].fieldValue))),t}static __handleNumbers(e){let t="java.lang.Double";return this.isInteger(e)&&(t="java.lang.Integer"),t}static isDocument(e){let t=!1;if(Array.isArray(e)&&e.length>1){const i=e[0],n=e[1],c=i.fieldName?i.fieldName.split("[")[0]:void 0;t=!c||n.fieldName.split("[")[0]!==c}return t}static computeJSONTree(e,t){const i=[];return this.__getKeys(e).map((n,c)=>{const a={index:c,fieldName:void 0===t?n:`${t} [ ${n} ]`},s=e[n];s instanceof Array||s instanceof Object?this.__handleComplexTypes(s,n,a):this.__handleSimpleTypes(s,a),i.push(a)}),i}static __getKeys(e){let t;return e instanceof Object?t=Object.keys(e):e instanceof Array&&(t=e.values()),t}static __handleSimpleTypes(e,t){"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e||(t.fieldValue=e,t.hasChildren=!1)}static __handleComplexTypes(e,t,i){const n=[];n.push(this.computeJSONTree(e,e instanceof Array?t:void 0)),i.fieldValue=n,i.hasChildren=!0}static validateDouble(e,t){if(e){const i=t.instant("serviceinput.validate.double.error.msg");if(isNaN(e))return i;{const t=parseFloat(e);if(isNaN(t))return i}}return null}static validateFloat(e,t){if(e){const i=t.instant("serviceinput.validate.double.error.msg");if(isNaN(e))return i;{const t=parseFloat(e);if(isNaN(t))return i}}return null}static validateLong(e,t){if(e){ie.isString(e)||(e+="");const i=t.instant("serviceinput.validate.long.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return i;let n=e;const c=n.startsWith("-");c&&(n=n.substring(1));const a=n.length,s=parseInt(n.substring(0,n.length%10),10);if(isNaN(s))return i;const r=n.length%10;if(r<n.length){const e=parseInt(n.substring(r),10);if(isNaN(e))return i;if(!c&&(a>19||19===a&&(s>922337203||922337203===s&&e>6854775807)))return i;if(c&&(a>19||19===a&&(s>922337203||922337203===s&&e>6854775808)))return i}}return null}static validateInteger(e,t){if(e){ie.isString(e)||(e+="");const i=t.instant("serviceinput.validate.integer.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return i;{const t=parseInt(e,10);if(isNaN(t))return i;if(t>2147483647||t<-2147483648)return i}}return null}static validateShort(e,t){if(e){ie.isString(e)||(e+="");const i=t.instant("serviceinput.validate.short.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return i;{const t=parseInt(e,10);if(isNaN(t))return i;if(t>32767||t<-32768)return i}}return null}static validateCharacter(e,t){return e&&e.length>1?t.instant("serviceinput.validate.character.error.msg"):null}static validateByte(e,t,i){if(t){if(null==oe.parseByteValue(t+""))return i.instant("serviceinput.validate.byte.error.msg");"0"===e.field_dim&&(e.value=+t)}return null}static parseByteValue(e){try{const t=e.indexOf("-");let i=0,n=0;if(0===t?(i=-1,e=e.substring(1)):t===e.length-1?(e=e.substring(0,e.length-1),i=-1):i=1,0===e.indexOf("0")&&1===e.indexOf("x")){const t=e.substring(2);if(!oe.isHexadecimal(t))return null;n=parseInt(t,16)}else if(0===e.indexOf("/")||0===e.indexOf("\\"))if(1===e.indexOf("x")){const t=e.substring(2);if(!oe.isHexadecimal(t))return null;n=parseInt(t,16)}else if(1===e.indexOf("o")){const t=e.substring(2);if(!oe.isOctal(t))return null;n=parseInt(t,8)}else n=parseInt(e.substring(1));else n=parseInt(e,16);if(isNaN(n))return null;let c=n;return c*=i,c>=-128&&c<128?c:null}catch(t){return null}}static isHexadecimal(e){return!!/^[0-9a-fA-F]+$/.test(e)}static isOctal(e){return!!/^[0-7]+$/.test(e)}static specialByteFormat(e){let t="",i=!1;for(128==(128&e)?(t+=(0-e).toString(16).toUpperCase(),i=!0):t+=e.toString(16).toUpperCase();t.length<2;)t="0"+t;return t="0x"+t,i&&(t="-"+t),t}static validateDate(e,t){if(e){const n=t.instant("serviceinput.validate.date.error.msg");if((e.length>0||e.toString().length>0)&&!this.isNumeric(e))try{const t=Date.parse(e);if(isNaN(t))return n}catch(i){return n}}return null}static getValueBasedOnDataType(e,t){let i=null;if("object"===e.field_type)if("java.lang.Boolean"===e.wrapper_type){i=null;let e=null;t.value?e=t.value:t.originalEvent&&t.originalEvent.value?e=t.originalEvent.value:t.target.textContent&&t.target.textContent.length>0&&"empty"!==t.target.textContent&&(e=t.target.textContent),i=!0===e||!1===e?String(e):e}else"java.util.Date"===e.wrapper_type?t.picker&&t.picker.startDate&&t.picker.startDate._d&&(i=Date.parse(t.picker.startDate._d)):"java.lang.Byte"===e.wrapper_type?t.target&&t.target.value&&(i=oe.parseByteValue(t.target.value)):"java.lang.Short"===e.wrapper_type||"java.lang.Long"===e.wrapper_type||"java.lang.Integer"===e.wrapper_type?t.target&&t.target.value&&(i=parseInt(t.target.value,10)):"java.lang.Double"!==e.wrapper_type&&"java.lang.Float"!==e.wrapper_type||(i=t.target.value.toUpperCase().indexOf("E")>-1?Number(t.target.value):parseFloat(t.target.value));return null!=i&&0!==i.length||(t.target&&t.target.value?i=t.target.value:t.data?i=t.data:t.value?i=t.value:t.originalEvent&&t.originalEven.value&&(t=t.originalEvent.value)),i}static isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}static isNodeBoolean(e){return"java.lang.Boolean"===e.wrapper_type}static isNodeNumeric(e){return"java.lang.Short"===e.wrapper_type||"java.lang.Integer"===e.wrapper_type||"java.lang.Long"===e.wrapper_type||"java.lang.Double"===e.wrapper_type||"java.lang.Float"===e.wrapper_type}static isNodeDate(e){return"java.util.Date"===e.wrapper_type}}class le{static createPath(e,t){if(null==e)return"";let i=e.parentNode;if(null==i)return"";if(e===i)return"";"recref"===e.field_type&&"recref"===i.field_type&&"1"===i.field_dim&&(i=i.parentNode);let n="";if(i.path&&(n+=this.createPath(i,-1)),e.path)return e.path;n+="/",n+=this.encodePathName(e.field_name);const c=this.getPosition(e);return c>=0&&(n+="(",n+=c,n+=")"),t>-1&&("recref"===i.field_type&&i.parentNode&&"1"===i.parentNode.field_dim||(n+="[",n+=t,n+="]")),n+=";",n+=e.field_type,null!=e.wrapper_type&&0!==e.wrapper_type&&(n+=".",n+=e.wrapper_type),n+=";",n+=e.field_dim,"recref"===e.field_type&&e.rec_ref&&(n+=";",n+=e.rec_ref),e.level||(e.level=(n.match(/\//g)||[]).length),n}static encodePathName(e){return this.containsSep(e)?'"'+this.checkForQuotes(e)+'"':e}static containsSep(e){if(null==e)return!1;for(let t=0;t<'/;[]()"'.length;t++)if(e.indexOf('/;[]()"'.charAt(t))>=0)return!0;return!1}static checkForQuotes(e){let t="",i=0,n=0;for(;i>=0;)i=e.indexOf('"'.charAt(0),n),i>=0&&(t+=e.substring(n,i),t+='\\\\"',n=i+1);return t+=e.substring(n),t.toString()}static getPosition(e){if(null==parent)return-1;const t=this.getFieldsByName(e.parentNode,e.field_name);if(null==t||t.length<1)return-1;for(let i=0;i<t.length;i++)if(e.uid===t[i].uid)return i;return-1}static getFieldsByName(e,t){const i=new Array;if(e&&e.rec_fields&&e.rec_fields.length>0)for(const n of e.rec_fields)n.field_name===t&&i.push(n);return i}static getKeyFromPath(e,t){const i=e.path.split("/");let n=[],c=0;if(e.parentNode&&e.parentNode.valueKey&&e.parentNode.valueKey.length>0&&(e.parentNode.valueKey[e.parentNode.valueKey.length-1].endsWith("]")&&(n=Object(ie.cloneDeep)(e.parentNode.valueKey),c=i.length-1),e.parentNode.valueKey.length>0&&(n=Object(ie.cloneDeep)(e.parentNode.valueKey),n[n.length-1]===e.field_name&&("recref"!==e.field_type&&"record"!==e.field_type||"1"===e.parentNode.field_dim)&&n.pop(),c=i.length-1)),i&&i.length>0)for(let a=c;a<i.length;a++){const c=i[a].split(";");let s="";if(c&&c.length>2){if("record.IData"===c[1]||"recref.IData"===c[1]||"record"===c[1]||"recref"===c[1])c[0].indexOf(")")>0?s+=c[0].substring(0,c[0].lastIndexOf("("))+c[0].substring(c[0].indexOf(")")+1):s+=c[0],"recref"===e.field_type&&e.parentNode&&"recref"===e.parentNode.field_type&&"1"===e.parentNode.field_dim||t>-1&&(s+="["+t+"]");else if("string"===c[1]||c[1].startsWith("object")){const t=c[0].indexOf("["),i=c[0].indexOf("]"),a=c[0].indexOf("("),r=c[0].indexOf(")");let o="";if(a>-1&&r>a?(o=c[0].substring(a,r+1),"(0)"===o?s+=c[0].substring(0,a):o=""):t>-1&&i>t&&(o=c[0].substring(t,i+1),s+=c[0].substring(0,t)),0===o.length&&(s+=c[0]),e.parentNode&&e.parentNode.rec_fields&&e.parentNode.rec_fields.length>0&&n.length>0&&n[n.length-1].endsWith("]")){const t=n[n.length-1].lastIndexOf("[");t>0&&(n[n.length-1]=n[n.length-1].substring(0,t));for(let i=0;i<e.parentNode.rec_fields.length;i++)if(e.parentNode.rec_fields[i].id===e.id){n.push(i+"");break}}}n.push(s)}}return n}}var de=i("7Cbv");let ue=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Ub({type:e,selectors:[["","treeNode",""]]}),e})();const he=["treeNode"];function pe(e,t){if(1&e){const e=o.gc();o.fc(0,"button",12),o.pc("keydown.arrowright",function(t){o.Rc(e);const i=o.tc(3).$implicit;return o.tc(2).expandNode(i,t)})("click",function(t){o.Rc(e);const i=o.tc(3).$implicit;return o.tc(2).expandNode(i,t)}),o.uc(1,"translate"),o.uc(2,"translate"),o.ac(3,"i",13),o.ec()}if(2&e){const e=o.tc(3).$implicit;o.Cc("id","expandTreeNode_",e.path,""),o.Bc("pTooltip",o.vc(1,3,"common.expand")),o.Mb("aria-label",o.vc(2,5,"common.expand"))}}function ge(e,t){if(1&e){const e=o.gc();o.fc(0,"button",14),o.pc("keydown.arrowleft",function(t){o.Rc(e);const i=o.tc(3).$implicit;return o.tc(2).collapseNode(i,t)})("click",function(t){o.Rc(e);const i=o.tc(3).$implicit;return o.tc(2).collapseNode(i,t)}),o.uc(1,"translate"),o.uc(2,"translate"),o.ac(3,"i",15),o.ec()}if(2&e){const e=o.tc(3).$implicit;o.Cc("id","collapseTreeNode_",e.path,""),o.Bc("pTooltip",o.vc(1,3,"common.collapse")),o.Mb("aria-label",o.vc(2,5,"common.collapse"))}}function me(e,t){if(1&e&&(o.fc(0,"span"),o.Zc(1,pe,4,7,"button",10),o.Zc(2,ge,4,7,"button",11),o.ec()),2&e){const e=o.tc(2).$implicit;o.Lb(1),o.Ac("ngIf",e&&e.state&&!e.state.open),o.Lb(1),o.Ac("ngIf",e&&e.state&&e.state.open)}}function fe(e,t){if(1&e&&(o.dc(0),o.ac(1,"img",16),o.cc()),2&e){const e=o.tc(2).$implicit,t=o.tc(2);o.Lb(1),o.Ac("src",t.getImage(e),o.Uc)("alt",t.getAltText(e))}}function be(e,t){1&e&&o.bc(0)}function ve(e,t){1&e&&o.bc(0)}const ye=function(e){return{$implicit:e}};function Ce(e,t){if(1&e&&(o.dc(0),o.Zc(1,ve,1,0,"ng-container",3),o.cc()),2&e){const e=o.tc(2).$implicit,t=o.tc(2),i=o.Pc(3);o.Lb(1),o.Ac("ngTemplateOutlet",i)("ngTemplateOutletContext",o.Gc(2,ye,t.getChildNodes(e)))}}const Se=function(e,t,i){return{"tree-node-selected":e,"tree-branch":t,"index-border":i}},xe=function(e){return{showBorder:e}};function Le(e,t){if(1&e){const e=o.gc();o.fc(0,"div",6),o.pc("click",function(t){o.Rc(e);const i=o.tc().$implicit;return o.tc(2).selectNode(t,i)}),o.fc(1,"div",7),o.Zc(2,me,3,2,"span",8),o.ec(),o.Zc(3,fe,2,2,"ng-container",8),o.fc(4,"div",9),o.Zc(5,be,1,0,"ng-container",3),o.ec(),o.Zc(6,Ce,2,4,"ng-container",8),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Ac("ngClass",o.Ic(9,Se,t.selectedNode&&t.selectedNode.id===e.id,t.showBranch,e&&e.state&&e.state.open)),o.Mb("aria-expanded",e.expanded)("id",e.id?e.id:null),o.Lb(2),o.Ac("ngIf",e&&t.hasChildren(e)),o.Lb(1),o.Ac("ngIf",t.getFieldType),o.Lb(1),o.Ac("ngClass",o.Gc(13,xe,e.state.open&&t.getChildNodes(e)&&t.getChildNodes(e).length>0)),o.Lb(1),o.Ac("ngTemplateOutlet",t.treeNodeTemplate)("ngTemplateOutletContext",o.Gc(15,ye,e)),o.Lb(1),o.Ac("ngIf",e&&e.state&&e.state.open)}}function we(e,t){if(1&e&&(o.dc(0),o.Zc(1,Le,7,17,"div",5),o.cc()),2&e){const e=t.$implicit,i=o.tc(2);o.Lb(1),o.Ac("ngIf",i.getNodeVisibility(e))}}function Te(e,t){1&e&&o.Zc(0,we,2,1,"ng-container",4),2&e&&o.Ac("ngForOf",t.$implicit)}function Ie(e,t){1&e&&o.bc(0)}const Me=function(e,t){return{height:e,width:t,overflow:"hidden","padding-left":"2px"}},Oe=function(e){return{"compact-view":e}};let _e=(()=>{class e{constructor(e,t,i){this.cd=e,this.translate=t,this.sharedMessageService=i,this.childKey="children",this.enableCompactView=!0,this.nodeExpanded=new o.p,this.allNodeExpanded=new o.p,this.nodeCollapsed=new o.p,this.nodeSelected=new o.p,this.afterViewInit=new o.p,this.nodeCollapseStart=new o.p,this.changesEvent=new o.p,this.filterNodesEvent=new o.p,this.compactView=!0,this.treeData=[],this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){this.treeData=this.input,this._setState(this.treeData,null,!1)}ngAfterViewInit(){this.afterViewInit.emit(this),setTimeout(()=>{this.cd.detectChanges()},300)}_setState(e,t,i){e.forEach((e,n)=>{e.state=i?{open:!1}:e.state?e.state:{open:!1},e.index=n,e.parentIndex=t})}ngOnChanges(e){e.input&&(this.treeData=e.input.currentValue,this._setState(this.treeData,null,!1)),this.changesEvent.emit(this)}__getNodeIndex(e){return this.treeData.indexOf(e.id)}expandNode(e,t,i){if(t&&t.stopPropagation(),!e)return null;e.state=e.state?e.state:{},e.state.open=!0,this.nodeExpanded&&(!0===i||setTimeout(()=>{this.nodeExpanded.emit(e);const t=document.getElementById("collapseTreeNode_"+e.path);t&&t.focus()},100))}getChildNodes(e){const t=this.getChildren(e);return this._setState(t,e.index,!1),t}collapseNode(e,t){if(this.nodeCollapseStart&&this.nodeCollapseStart.emit(e),t&&t.stopPropagation(),!e)return null;e.state.open=!1,this.nodeCollapsed&&setTimeout(()=>{this.nodeCollapsed.emit(e);const t=document.getElementById("expandTreeNode_"+e.path);t&&t.focus()},100)}selectNode(e,t){this.selectedNode=t,this.nodeSelected&&this.nodeSelected.emit(t)}toggleNode(e){e.state.open?this.collapseNode(e):this.expandNode(e)}focusHandler(e,t,i){0===i&&(this.selectedNode=t)}enterKeyHandler(e,t,i){t.state.open?this.collapseNode(t,e):this.expandNode(t,e)}getIcon(e){let t="";if(this.getFieldType){const i=this.getFieldType(e);t=ae[i]?ae[i].icon:""}return t}getIconBackground(e){let t="";if(this.getFieldType){const i=this.getFieldType(e);t=ae[i]?ae[i].bgColor:""}return t}getImage(e){let t="";if(this.getFieldType){const i=this.getFieldType(e);t=this.isList(e)?re[i]?re[i].dataTypeImage:"":se[i]?se[i].dataTypeImage:""}return t}getAltText(e){let t="serviceinput.data.type.unknown";if(this.getFieldType){const i=this.getFieldType(e);t=this.isList(e)?re[i]?re[i].altText:"":se[i]?se[i].altText:""}return this.translate.instant(t)}expandAll(e,t){this.__expandedNodes(this.treeData,e,t),this.cd.detectChanges(),this.allNodeExpanded&&setTimeout(()=>{this.allNodeExpanded.emit()},100)}expandToLevel(e,t){this.__expandedNodes(this.treeData,t,null,e),this.cd.detectChanges()}__expandedNodes(e,t,i,n){let c=!1,a=null;e.forEach(e=>{t?e[t]&&(c=!0,a=e[t]):(c=this.hasChildren(e),a=this.getChildNodes(e)),c&&(!n||n&&n>e.index?(this.expandNode(e,!1,i),this.__expandedNodes(a,t,i,n)):this.collapseNode(e))})}setData(e){this.treeData=e,this._setState(this.treeData,null,!1),this.cd.detectChanges()}filterNodes(e,t,i,n){this.searchText=e,this.searchKey=t,this.childKey=i,this.secondarySearchKey=n,this.cd.detectChanges(),this.filterNodesEvent.emit()}_filterData(e,t,i,n,c){return e.filter(e=>(e[n]&&(e[n]=this._filterData(e[n],t,i,n,c),e.state={open:!0},e[n].length>0&&this._updateNodeState(this.treeData,e,n)),c?e[i].toLowerCase().includes(t.toLowerCase())||e[c].toLowerCase().includes(t.toLowerCase())||e[n]&&e[n].length>0:e[i].toLowerCase().includes(t.toLowerCase())||e[n]&&e[n].length>0))}_updateNodeState(e,t,i){const n=ie.find(e,{field_name:t.field_name});n&&(n.state={open:!0},t[i].length>0&&t[i].forEach(e=>{if(e[i]){const t=ie.find(n[i],{field_name:e.field_name});t&&(t.state={open:!0})}}))}getNodeVisibility(e){const t=this.searchText,i=this.childKey,n=this.searchKey;let c=ie.cloneDeep(e[i]),a=!0;return this.isNodeVisible&&(a=this.isNodeVisible(e)),this.searchText&&a?(c&&Array.isArray(c)&&(c=this._filterData(c,t,n,i,this.secondarySearchKey),e.state={open:!0}),e[n].toLowerCase().includes(t.toLowerCase())||c&&c.length>0):a}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(o.h),o.Zb(n.d),o.Zb(j.B))},e.\u0275cmp=o.Tb({type:e,selectors:[["svc-tree"]],contentQueries:function(e,t,i){if(1&e&&o.Sb(i,o.T,1),2&e){let e;o.Oc(e=o.qc())&&(t.treeNodeTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&o.hd(he,1),2&e){let e;o.Oc(e=o.qc())&&(t.treeNode=e.first)}},inputs:{input:"input",height:"height",hasChildren:"hasChildren",getChildren:"getChildren",getNodeId:"getNodeId",getFieldType:"getFieldType",isList:"isList",isNodeVisible:"isNodeVisible",showBranch:"showBranch",showBorder:"showBorder",width:"width",selectedNode:"selectedNode",childKey:"childKey",enableCompactView:"enableCompactView"},outputs:{nodeExpanded:"nodeExpanded",allNodeExpanded:"allNodeExpanded",nodeCollapsed:"nodeCollapsed",nodeSelected:"nodeSelected",afterViewInit:"afterViewInit",nodeCollapseStart:"nodeCollapseStart",changesEvent:"changesEvent",filterNodesEvent:"filterNodesEvent"},features:[o.Jb],decls:5,vars:11,consts:[[1,"tree",3,"ngStyle","ngClass"],["treeNode",""],["recursiveList",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],["class","tree-node",3,"ngClass","click",4,"ngIf"],[1,"tree-node",3,"ngClass","click"],[1,"tree-icon-container"],[4,"ngIf"],[1,"tree-context",3,"ngClass"],["tabIndex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1tree","showDelay","250",3,"id","pTooltip","keydown.arrowright","click",4,"ngIf"],["tabIndex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1tree","showDelay","250",3,"id","pTooltip","keydown.arrowleft","click",4,"ngIf"],["tabIndex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1tree",3,"id","pTooltip","keydown.arrowright","click"],[1,"dlt-icon-caret-right","dlg-icon-btn","dlt-icon"],["tabIndex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1tree",3,"id","pTooltip","keydown.arrowleft","click"],[1,"dlt-icon-caret-down","dlg-icon-btn","dlt-icon"],["tabindex","-1",1,"type-icon",3,"src","alt"]],template:function(e,t){if(1&e&&(o.fc(0,"div",0,1),o.Zc(2,Te,1,1,"ng-template",null,2,o.ad),o.Zc(4,Ie,1,0,"ng-container",3),o.ec()),2&e){const e=o.Pc(3);o.Ac("ngStyle",o.Hc(4,Me,t.height,t.width))("ngClass",o.Gc(7,Oe,t.enableCompactView&&t.compactView)),o.Lb(4),o.Ac("ngTemplateOutlet",e)("ngTemplateOutletContext",o.Gc(9,ye,t.treeData))}},directives:[r.p,r.m,r.t,r.n,r.o,ee.a],pipes:[n.c],styles:['.tree[_ngcontent-%COMP%]{overflow:auto;position:relative}.tree-node[_ngcontent-%COMP%]{outline:0;padding-bottom:4px;white-space:nowrap}.tree-node[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]{margin:0 1rem}.tree-branch[_ngcontent-%COMP%]{border-left:1px solid #e5e5e4;position:relative;margin:0 .5rem;padding-left:0}.tree-branch[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]{margin:0 0 0 1.88rem}.tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]{margin-left:-8px;position:absolute;left:0;padding:11px 4px 0 0;color:#a5a4a4}.tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]   .tree-icon[_ngcontent-%COMP%]:before{background:#fff}.tree-branch[_ngcontent-%COMP%]:before{position:relative;top:-.2rem;height:1.6rem;width:1.2rem;color:#fff;border-bottom:1px solid #e5e5e4;border-top:0 transparent;border-right:0 transparent;border-radius:0 0 0 8px;content:"";display:inline-block;left:-1px;vertical-align:top}.tree-branch[_ngcontent-%COMP%]:first-child:before{border-left:1px solid #fff!important;border-radius:0}.tree-branch[_ngcontent-%COMP%]:last-child{border-left:1px solid transparent;padding-bottom:0}.tree-branch[_ngcontent-%COMP%]:last-child:before{border-left:1px solid #e5e5e4}.tree-branch[_ngcontent-%COMP%]:last-child   .type-icon[_ngcontent-%COMP%]{margin-left:1px}.tree-context[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-bottom;padding-top:10px}.tree-icon-container[_ngcontent-%COMP%]{width:.8rem;color:var(--wmio-primary-color,#1776bf)}.tree-icon-container[_ngcontent-%COMP%], .type-icon[_ngcontent-%COMP%]{display:inline-block;padding:0;vertical-align:top}.type-icon[_ngcontent-%COMP%]{border-radius:0 6px 6px 0;margin-top:12px;margin-right:13px;min-width:16px;text-align:center;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#686868}.tree-icon[_ngcontent-%COMP%]{cursor:pointer}button.btn-1tree[_ngcontent-%COMP%]{margin-top:-8px;margin-left:-3px;margin-right:0;font-size:1.25rem;font-weight:400;vertical-align:middle;background-color:transparent;border-color:transparent;background-repeat:no-repeat;-webkit-box-shadow:none;-moz-box-shadow:none;width:22px;height:22px}',".tree.compact-view[_ngcontent-%COMP%]{padding-left:3px}.tree.compact-view[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]{padding-bottom:0}.tree.compact-view[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]{padding:5px 4px 0 0}.tree.compact-view[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]:before{height:1.15rem}.tree.compact-view[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{margin-top:5px}.tree.compact-view[_ngcontent-%COMP%]   .tree-context[_ngcontent-%COMP%]{padding-top:3px}"],changeDetection:0}),e})();var De=i("y1st"),Pe=i("s7LF");const Ae=["inputRef"];function ke(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"textarea",8,9),o.pc("change",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(3,"translate"),o.bd(4,"        "),o.ec(),o.cc()}if(2&e){const e=o.tc(2);o.Lb(1),o.Bc("cols",e.numCols),o.Bc("placeholder",o.vc(3,4,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function Re(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"input",10,9),o.pc("change",function(t){o.Rc(e);const i=o.tc(3);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(3).blurHandler(t)}),o.uc(3,"translate"),o.ec(),o.cc()}if(2&e){const e=o.tc(3);o.Lb(1),o.Bc("placeholder",o.vc(3,3,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function Ee(e,t){if(1&e&&o.Zc(0,Re,4,5,"ng-container",4),2&e){o.tc();const e=o.Pc(7),t=o.tc();o.Ac("ngIf",t.node.node_hints&&"true"===t.node.node_hints.field_password)("ngIfElse",e)}}function Fe(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"p-dropdown",11,9),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).picklistVal=t})("onChange",function(t){o.Rc(e);const i=o.tc(3);return i.inputChangeHandler(t,i.node)})("onBlur",function(t){return o.Rc(e),o.tc(3).blurHandler(t)}),o.uc(3,"translate"),o.ec(),o.cc()}if(2&e){const e=o.tc(3);o.Lb(1),o.Bc("placeholder",o.vc(3,9,"serviceinput.select.value.placeholder")),o.Cc("id","pickListVal_",e.node.path,""),o.Cc("inputId","dataValue_",e.node.path,""),o.Ac("options",e.pickListItems)("ngModel",e.picklistVal)("editable",e.node.node_hints&&"true"==e.node.node_hints.field_usereditable)("virtualScroll",!0)("autoZIndex",!0)("showClear",!0)}}function Be(e,t){if(1&e&&o.Zc(0,Fe,4,11,"ng-container",4),2&e){o.tc();const e=o.Pc(9),t=o.tc();o.Ac("ngIf",t.pickListItems&&t.pickListItems.length>0&&t.node.field_options&&t.node.field_options.length>0)("ngIfElse",e)}}function Ne(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"textarea",12,9),o.pc("change",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(3,"translate"),o.bd(4,"          "),o.ec(),o.cc()}if(2&e){const e=o.tc(2);o.Lb(1),o.Bc("cols",e.numCols),o.Bc("placeholder",o.vc(3,4,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function Ve(e,t){if(1&e&&(o.dc(0),o.fc(1,"div",2,3),o.Zc(3,ke,5,6,"ng-container",4),o.Zc(4,Ee,1,2,"ng-template",null,5,o.ad),o.Zc(6,Be,1,2,"ng-template",null,6,o.ad),o.Zc(8,Ne,5,6,"ng-template",null,7,o.ad),o.ec(),o.cc()),2&e){const e=o.Pc(5),t=o.tc();o.Lb(3),o.Ac("ngIf",t.node.node_hints&&"true"===t.node.node_hints.field_largerEditor)("ngIfElse",e)}}function He(e,t){if(1&e){const e=o.gc();o.fc(0,"input",22,9),o.pc("keypress",function(t){return o.Rc(e),o.tc(2).keyPressForInteger(t)})("input",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc(2);o.Bc("placeholder",o.vc(2,3,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function Ze(e,t){if(1&e){const e=o.gc();o.fc(0,"input",23,9),o.pc("keypress",function(t){return o.Rc(e),o.tc(2).keyPressForFloat(t)})("input",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc(2);o.Bc("placeholder",o.vc(2,3,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function ze(e,t){if(1&e){const e=o.gc();o.fc(0,"input",23,9),o.pc("keypress",function(t){return o.Rc(e),o.tc(2).keyPressForFloat(t)})("input",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc(2);o.Bc("placeholder",o.vc(2,3,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function je(e,t){if(1&e){const e=o.gc();o.fc(0,"input",24,9),o.pc("keypress",function(t){return o.Rc(e),o.tc(2).keyPressForInteger(t)})("input",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc(2);o.Bc("placeholder",o.vc(2,3,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function Ue(e,t){if(1&e){const e=o.gc();o.fc(0,"input",25,9),o.pc("keypress",function(t){return o.Rc(e),o.tc(2).keyPressForInteger(t)})("input",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc(2);o.Bc("placeholder",o.vc(2,3,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function $e(e,t){if(1&e){const e=o.gc();o.fc(0,"input",26,9),o.pc("change",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc(2);o.Bc("placeholder",o.vc(2,3,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function Ke(e,t){if(1&e){const e=o.gc();o.fc(0,"input",27,9),o.pc("change",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return o.Rc(e),o.tc(2).blurHandler(t)}),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc(2);o.Bc("placeholder",o.vc(2,3,"serviceinput.enter.value.placeholder")),o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.byteVal?e.byteVal:"")}}function Qe(e,t){if(1&e&&o.ac(0,"input",28,9),2&e){const e=o.tc(2);o.Cc("id","dataValue_",e.node.path,""),o.Ac("value",e.value?e.value:"")}}function We(e,t){if(1&e){const e=o.gc();o.fc(0,"div",29),o.fc(1,"p-dropdown",30,9),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(2).booleanVal=t})("onChange",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)}),o.uc(3,"translate"),o.ec(),o.ec()}if(2&e){const e=o.tc(2);o.Lb(1),o.Bc("placeholder",o.vc(3,8,"serviceinput.select.value.placeholder")),o.Cc("id","booleanVal_",e.node.path,""),o.Cc("inputId","dataValue_",e.node.path,""),o.Ac("options",e.booleanVals)("ngModel",e.booleanVal)("editable",!1)("autoZIndex",!0)("showClear",!0)}}function qe(e,t){if(1&e&&(o.dc(0),o.bd(1),o.uc(2,"preferredDateTime"),o.cc()),2&e){const e=o.tc(3);o.Lb(1),o.dd(" ",o.xc(2,1,e.dateDVal,e.preferencesService,e.dateTimePreferenceService)," ")}}function Xe(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",31),o.Zc(2,qe,3,5,"ng-container",32),o.ec(),o.fc(3,"button",33),o.pc("showDaterangepicker",function(t){return o.Rc(e),o.tc(2).showDaterangepicker(t)})("applyDaterangepicker",function(t){o.Rc(e);const i=o.tc(2);return i.inputChangeHandler(t,i.node)})("change",function(t){o.Rc(e);const i=o.tc(2);return i.changeDaterangepicker(t,i.node)}),o.uc(4,"translate"),o.uc(5,"translate"),o.ac(6,"i",34),o.ec(),o.fc(7,"button",35),o.pc("click",function(t){o.Rc(e);const i=o.tc(2);return i.clearDateVal(t,i.node)}),o.uc(8,"translate"),o.uc(9,"translate"),o.ac(10,"i",36),o.ec(),o.cc()}if(2&e){const e=o.tc(2);o.Lb(2),o.Ac("ngIf",e.dateDVal),o.Lb(1),o.Cc("id","svcInputCalendar_",e.node.path,""),o.Bc("pTooltip",o.vc(4,9,"serviceinput.date.selection.button")),o.Bc("value",e.dateDVal),o.Ac("options",e.dateOptions),o.Mb("aria-label",o.vc(5,11,"serviceinput.date.selection.button")),o.Lb(4),o.Cc("id","clearCalendarDate_",e.node.path,""),o.Bc("pTooltip",o.vc(8,13,"serviceinput.date.clear.button")),o.Mb("aria-label",o.vc(9,15,"serviceinput.date.clear.button"))}}function Ge(e,t){if(1&e&&(o.dc(0),o.fc(1,"div",13),o.Zc(2,He,3,5,"input",14),o.Zc(3,Ze,3,5,"input",15),o.Zc(4,ze,3,5,"input",15),o.Zc(5,je,3,5,"input",16),o.Zc(6,Ue,3,5,"input",17),o.Zc(7,$e,3,5,"input",18),o.Zc(8,Ke,3,5,"input",19),o.Zc(9,Qe,2,2,"input",20),o.Zc(10,We,4,10,"div",21),o.Zc(11,Xe,11,17,"ng-container",1),o.ec(),o.cc()),2&e){const e=o.tc();o.Lb(1),o.Ac("ngSwitch",e.node.wrapper_type),o.Lb(1),o.Ac("ngSwitchCase","java.lang.Integer"),o.Lb(1),o.Ac("ngSwitchCase","java.lang.Float"),o.Lb(1),o.Ac("ngSwitchCase","java.lang.Double"),o.Lb(1),o.Ac("ngSwitchCase","java.lang.Long"),o.Lb(1),o.Ac("ngSwitchCase","java.lang.Short"),o.Lb(1),o.Ac("ngSwitchCase","java.lang.Character"),o.Lb(1),o.Ac("ngSwitchCase","java.lang.Byte"),o.Lb(1),o.Ac("ngSwitchCase","byte []"),o.Lb(1),o.Ac("ngSwitchCase","java.lang.Boolean"),o.Lb(1),o.Ac("ngSwitchCase","java.util.Date")}}let Je=(()=>{class e{constructor(e,t,i,n,c,a,s){this.datePipe=e,this.route=t,this.router=i,this.translate=n,this.sharedMessageService=c,this.toastr=a,this.preferencesService=s,this.inputChange=new o.p,this.focusOut=new o.p,this.dateOptions={singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,timePickerSeconds:!0,showCustomRangeLabel:!1,showDropdowns:!0,autoUpdateInput:!1,startDate:K(),endDate:K()},this.booleanVal="",this.byteVal="",this.fromFormat="EEE MMM dd hh:mm:ss zzzz yyyy",this.toFormat="M/d/yyyy HH:mm:ss",this.picklistVal="",this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}),this.substitutionComp=!1,this.booleanVals=[{label:"false",value:"false"},{label:"true",value:"true"}]}ngOnInit(){if(this.numCols||(this.numCols=100),this.node.field_options&&this.node.field_options.length>0){this.pickListItems=new Array(this.node.field_options.length);for(let e=0;e<this.node.field_options.length;e++){const t=this.node.field_options[e];this.pickListItems[e]={label:t,value:t,title:t}}}this.handleSpecialTypes()}ngAfterViewInit(){this.makeComponentsAccessible()}ngOnChanges(e){e&&null!=e.value&&e.value.currentValue&&(!0!==e.value.firstChange||"null"!==e.value.currentValue||e.value.perviousValue?(this.value=e.value.currentValue,this.handleSpecialTypes()):this.value=null)}handleSpecialTypes(){if("object"===this.node.field_type){if("java.util.Date"===this.node.wrapper_type)null!=this.value?(this.dateDVal=this.value,this.dateOptions.startDate=this.clonedDateTime(this.dateDVal),this.dateOptions.endDate=this.dateOptions.startDate):(this.dateOptions.startDate=K(),this.dateOptions.endDate=this.dateOptions.startDate);else if("java.lang.Boolean"===this.node.wrapper_type)this.booleanVal=!0===this.value||!1===this.value?String(this.value):this.value;else if("java.lang.Byte"===this.node.wrapper_type&&null!=this.value)if(this.value+="",1===this.value.indexOf("x")||1===this.value.indexOf("o")){const e=oe.parseByteValue(this.value);if(null!=e){const t=oe.specialByteFormat(e);this.byteVal=t}}else if(!isNaN(this.value)){const e=parseInt(this.value,10).toString(16);null!=e&&(this.byteVal=oe.specialByteFormat(e))}}else this.node.field_options&&this.node.field_options.length>0&&this.value&&(this.picklistVal=this.value)}makeComponentsAccessible(){setTimeout(()=>{let e=document.getElementById("booleanVal_"+this.node.path);e&&j.K.makeDropdownAccessible(e,this.translate.instant("serviceinput.select.value.placeholder")),e=document.getElementById("pickListVal_"+this.node.path),e&&j.K.makeDropdownAccessible(e,this.translate.instant("serviceinput.select.value.placeholder"))},200)}showPlaceHolder(){let e=!0;return this.value&&this.value.length>0?e=!1:"object"===this.node.field_type&&("java.lang.Boolean"===this.node.wrapper_type?"true"!==this.value&&"false"!==this.value||(e=!1):this.value&&(e=!1)),e}setValue(e,t){this.itemIndexToEdit>-1?(this.node.value[this.itemIndexToEdit]=t,e.value[this.itemIndexToEdit]=this.node.value[this.itemIndexToEdit]):(this.node.value=t,e.value=this.node.value)}inputChangeHandler(e,t){if("object"===this.node.field_type)if("java.util.Date"===this.node.wrapper_type){let i=null;e.picker&&(i=e.picker),i&&i.startDate&&i.startDate._d&&(this.dateDVal=Date.parse(i.startDate._d),this.setValue(t,this.dateDVal))}else if("java.lang.Boolean"===this.node.wrapper_type){null==e.value&&null!=e.originalEvent&&(e=e.originalEvent),this.value=""===e.value?null:!0===e.value||!1===e.value?String(this.booleanVal):"true"===e.value||"false"===e.value?this.booleanVal:null;let i=this.value;null!=this.value&&(i=JSON.parse(this.value)),this.setValue(t,i)}else"java.lang.Byte"===this.node.wrapper_type&&this.blurHandler(e);else this.node.field_options&&this.node.field_options.length>0&&(e.value||e.originalEvent&&(e=e.originalEvent),this.value=e.value&&e.value.length>0?this.picklistVal:null,this.setValue(t,this.value));this.inputChange.emit({event:e,node:t})}keyPressForFloat(e){const t=String.fromCharCode(e.keyCode);/[0-9\e\E\+\-\.\ ]/.test(t)||e.preventDefault()}keyPressForInteger(e){const t=String.fromCharCode(e.keyCode);/[0-9\+\-\ ]/.test(t)||e.preventDefault()}focusInput(){setTimeout(()=>{this.inputRef&&this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()})}blurHandler(e){let t=null;if(e.target&&e.target.value&&"object"===this.node.field_type)if("java.lang.Short"===this.node.wrapper_type)t=oe.validateShort(e.target.value,this.translate);else if("java.lang.Integer"===this.node.wrapper_type)t=oe.validateInteger(e.target.value,this.translate);else if("java.lang.Long"===this.node.wrapper_type)t=oe.validateLong(e.target.value,this.translate);else if("java.lang.Double"===this.node.wrapper_type)t=oe.validateDouble(e.target.value,this.translate);else if("java.lang.Float"===this.node.wrapper_type)t=oe.validateFloat(e.target.value,this.translate);else if("java.util.Date"===this.node.wrapper_type)t=oe.validateDate(e.target.value,this.translate);else if("java.lang.Character"===this.node.wrapper_type)t=oe.validateCharacter(e.target.value,this.translate);else if("java.lang.Byte"===this.node.wrapper_type)if(t=oe.validateByte(this.node,e.target.value,this.translate),t);else{const t=oe.parseByteValue(e.target.value);if(t){const i=oe.specialByteFormat(t);e.target.value=i}}if(t){const i=this.translate.instant("serviceinput.validate.invalid.entry");return this.toastr.error(t,i),void(this.itemIndexToEdit>-1?this.node.value[this.itemIndexToEdit]=e.target.value:"0"===this.node.field_dim&&(this.node.value=e.target.value))}const i=oe.getValueBasedOnDataType(this.node,e);"0"===this.node.field_dim&&(this.node.value=i),setTimeout(()=>{this.focusOut.emit(e)},100)}clearDateVal(e,t){this.dateDVal=void 0,this.setValue(t,null),this.dateOptions.startDate=K(),this.dateOptions.endDate=this.dateOptions.startDate,setTimeout(()=>{this.inputChange.emit({event:e,node:t})},100)}showDaterangepicker(e){}changeDaterangepicker(e,t){}clonedDateTime(e){return e?K(e).clone():K(e)}removeFocus(e){this.focusOut.emit(e)}browseInputField(e){}modalCloseEvent(){}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(r.e),o.Zb(h.a),o.Zb(h.f),o.Zb(n.d),o.Zb(j.B),o.Zb(Q.b),o.Zb(s.PreferencesService))},e.\u0275cmp=o.Tb({type:e,selectors:[["svc-input-control"]],viewQuery:function(e,t){if(1&e&&o.hd(Ae,1),2&e){let e;o.Oc(e=o.qc())&&(t.inputRef=e.first)}},inputs:{node:"node",value:"value",itemIndexToEdit:"itemIndexToEdit",numCols:"numCols"},outputs:{inputChange:"inputChange",focusOut:"focusOut"},features:[o.Jb],decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"dlt-form-group","run-input-control"],["inputControlRef",""],[4,"ngIf","ngIfElse"],["passwordField",""],["pickListField",""],["inputField",""],["tabindex","0","rows","6","pInputTextarea","",3,"cols","placeholder","value","id","change","blur"],["inputRef",""],["type","password","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["appendTo","body","tabIndex","0","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","editable","placeholder","id","virtualScroll","autoZIndex","inputId","showClear","ngModelChange","onChange","onBlur"],["tabindex","0","rows","1","pInputTextarea","",3,"cols","placeholder","value","id","change","blur"],[1,"dlt-form-group","run-input-control",3,"ngSwitch"],["type","text","required","","maxlength","11","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","class","dlt-text-input",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","maxlength","20","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","maxlength","6","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","maxlength","1","class","dlt-text-input","required","",3,"placeholder","value","id","change","blur",4,"ngSwitchCase"],["type","text","maxlength","4","class","dlt-text-input","required","",3,"placeholder","value","id","change","blur",4,"ngSwitchCase"],["type","text","class","dlt-text-input","readonly","",3,"value","id",4,"ngSwitchCase"],["class","dlt-switch-item switch-item",4,"ngSwitchCase"],["type","text","required","","maxlength","11","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","","maxlength","20","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","","maxlength","6","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","maxlength","1","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["type","text","maxlength","4","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["type","text","readonly","",1,"dlt-text-input",3,"value","id"],[1,"dlt-switch-item","switch-item"],["appendTo","body","tabIndex","0","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","placeholder","editable","autoZIndex","id","inputId","showClear","ngModelChange","onChange"],[1,"date-field","form-control"],[4,"ngIf"],["tabindex","0","type","button","pButton","","showDelay","250","daterangepicker","",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","options","value","showDaterangepicker","applyDaterangepicker","change"],[1,"dlt-icon-calendar","dlg-icon-btn","dlt-icon"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-close","dlg-icon-btn","dlt-icon-sm"]],template:function(e,t){1&e&&(o.dc(0,0),o.Zc(1,Ve,10,2,"ng-container",1),o.Zc(2,Ge,12,11,"ng-container",1),o.cc()),2&e&&(o.Ac("ngSwitch",t.node.field_type),o.Lb(1),o.Ac("ngSwitchCase","string"),o.Lb(1),o.Ac("ngSwitchCase","object"))},directives:[r.q,r.r,r.o,De.a,Pe.n,Pe.q,s.DaterangePickerComponent,ee.a],pipes:[n.c,j.u],styles:[".placeholder[_ngcontent-%COMP%]{color:#666;text-align:left;display:inline-block;margin-left:9px;margin-top:-22px;z-index:1}.date-field[_ngcontent-%COMP%], .placeholder[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px}.date-field[_ngcontent-%COMP%]{height:calc(1.6em);padding:0 .5rem;display:block;background-color:#eaeaea}textarea[_ngcontent-%COMP%]{width:100%;min-height:29px;background-color:#fff;z-index:9999;box-sizing:border-box}"]}),e})(),Ye=(()=>{class e{constructor(e,t){this.sharedMessageService=e,this.translate=t,this.addItem=new o.p,this.deleteItem=new o.p,this.inputChange=new o.p,this.listRowCount=0,this.uid=this.$generateUUID(),this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}listRowCountChanged(e){this.inputChange.emit(e)}increaseListCount(e){e&&this.addItem.emit(this.listRowCount+1)}decreaseListCount(e){e&&this.deleteItem.emit(this.listRowCount)}addItemHandler(e){e&&(this.addItem.emit(this.listRowCount+1),this.setRowCount())}deleteItemHandler(e){e&&(this.deleteItem.emit(this.listRowCount),this.setRowCount())}setRowCount(){setTimeout(()=>{this.listRowCount=this.input&&this.input.length>-1?this.input.length:0},100)}ngOnChanges(){this.setRowCount()}$generateUUID(){return Object(de.a)()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(j.B),o.Zb(n.d))},e.\u0275cmp=o.Tb({type:e,selectors:[["svc-action-toolbar"]],inputs:{input:"input"},outputs:{addItem:"addItem",deleteItem:"deleteItem",inputChange:"inputChange"},features:[o.Jb],decls:30,vars:36,consts:[[1,"pane"],[1,"tb1"],[1,"td1"],[1,"dlt-form-label","toolbar-label",3,"for"],[1,"dlt-form-group"],["type","number","min","0","max","100",1,"dlt-number-input","spinner1",3,"id","ngModel","size","ngModelChange","change"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip","click"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip","click"],[1,"dlt-icon-caret-down","number-step-down-icon"],[1,"td1a"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-row","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-delete","dlg-icon-btn","dlt-icon"]],template:function(e,t){1&e&&(o.fc(0,"div",0),o.fc(1,"table",1),o.fc(2,"tr"),o.fc(3,"td",2),o.fc(4,"label",3),o.bd(5),o.uc(6,"translate"),o.ec(),o.ec(),o.fc(7,"td",2),o.fc(8,"div",4),o.fc(9,"input",5),o.pc("ngModelChange",function(e){return t.listRowCount=e})("change",function(e){return t.listRowCountChanged(e)}),o.uc(10,"translate"),o.ec(),o.fc(11,"div",6),o.fc(12,"button",7),o.pc("click",function(e){return t.increaseListCount(e)}),o.uc(13,"translate"),o.uc(14,"translate"),o.ac(15,"i",8),o.ec(),o.fc(16,"button",9),o.pc("click",function(e){return t.decreaseListCount(e)}),o.uc(17,"translate"),o.uc(18,"translate"),o.ac(19,"i",10),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(20,"td",11),o.fc(21,"button",12),o.pc("click",function(e){return t.addItemHandler(e)}),o.uc(22,"translate"),o.uc(23,"translate"),o.ac(24,"i",13),o.ec(),o.ec(),o.fc(25,"td",11),o.fc(26,"button",12),o.pc("click",function(e){return t.deleteItemHandler(e)}),o.uc(27,"translate"),o.uc(28,"translate"),o.ac(29,"i",14),o.ec(),o.ec(),o.ec(),o.ec(),o.ec()),2&e&&(o.Lb(4),o.Cc("for","pipelineListCountValueInputId_",t.uid,""),o.Lb(1),o.dd(" ",o.vc(6,16,"serviceinput.list.size.caption")," "),o.Lb(4),o.Cc("id","pipelineListCountValueInputId_",t.uid,""),o.Ac("ngModel",t.listRowCount)("size",4),o.Mb("aria-label",o.vc(10,18,"serviceinput.list.size.caption")),o.Lb(3),o.Bc("pTooltip",o.vc(14,22,"common.spinner.increase")),o.Mb("aria-label",o.vc(13,20,"common.spinner.increase")),o.Lb(4),o.Bc("pTooltip",o.vc(18,26,"common.spinner.decrease")),o.Mb("aria-label",o.vc(17,24,"common.spinner.decrease")),o.Lb(5),o.Cc("id","addListRowBtn_",t.uid,""),o.Bc("pTooltip",o.vc(22,28,"serviceinput.list.add.row.end.list.button")),o.Mb("aria-label",o.vc(23,30,"serviceinput.list.add.row.end.list.button")),o.Lb(5),o.Cc("id","removeListRowBtn_",t.uid,""),o.Bc("pTooltip",o.vc(27,32,"serviceinput.list.remove.row.button")),o.Mb("aria-label",o.vc(28,34,"serviceinput.list.remove.row.button")))},directives:[Pe.s,Pe.c,Pe.n,Pe.q,ee.a],pipes:[n.c],styles:[".toolbar-label[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#333;text-align:left;margin-top:10px;margin-right:4px}.toolbar-action-controls[_ngcontent-%COMP%]{padding-top:4px}.spinner1[_ngcontent-%COMP%]{width:4rem;margin-top:5px}table.tb1[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:100%}td.td1[_ngcontent-%COMP%]{padding:0 0 0 3px;margin:0;vertical-align:bottom;vertical-align:middle}td.td1a[_ngcontent-%COMP%]{padding:0;margin:0;vertical-align:bottom;width:100%;text-align:right}span.ar[_ngcontent-%COMP%]{font-weight:800;padding-right:.2rem}div.pane[_ngcontent-%COMP%]{display:inline-block;width:100%;padding-left:.3rem;border-bottom:1px solid grey;background:#eee;height:43px}"]}),e})();const et=["inputRef"];function tt(e,t){if(1&e){const e=o.gc();o.fc(0,"span",17),o.pc("click",function(){o.Rc(e);const t=o.tc(2).index;return o.tc().editContent(t)}),o.bd(1),o.ec()}if(2&e){const e=o.tc(2),t=e.$implicit,i=e.index,n=o.tc();o.Bc("pTooltip",t),o.Dc("id","listValue_",n.node.path,"_",i,""),o.Lb(1),o.cd(t)}}function it(e,t){if(1&e){const e=o.gc();o.fc(0,"span",17),o.pc("click",function(){o.Rc(e);const t=o.tc(2).index;return o.tc().editContent(t)}),o.bd(1),o.ec()}if(2&e){const e=o.tc(2),t=e.$implicit,i=e.index,n=o.tc();o.Bc("pTooltip",t),o.Dc("id","listValue_",n.node.path,"_",i,""),o.Lb(1),o.cd(t)}}function nt(e,t){if(1&e){const e=o.gc();o.fc(0,"span",18),o.pc("click",function(){o.Rc(e);const t=o.tc(2).index;return o.tc().editContent(t)}),o.bd(1),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Dc("id","listValue_",t.node.path,"_",e,""),o.Lb(1),o.cd(o.vc(2,3,"serviceinput.select.value.placeholder"))}}function ct(e,t){if(1&e){const e=o.gc();o.fc(0,"span",19),o.pc("click",function(){o.Rc(e);const t=o.tc(2).index;return o.tc().editContent(t)}),o.uc(1,"preferredDateTime"),o.bd(2),o.uc(3,"preferredDateTime"),o.ec()}if(2&e){const e=o.tc(2).$implicit,t=o.tc();o.Bc("pTooltip",o.xc(1,2,e,t.preferencesService,t.dateTimePreferenceService)),o.Lb(2),o.cd(o.xc(3,6,e,t.preferencesService,t.dateTimePreferenceService))}}function at(e,t){1&e&&(o.fc(0,"span",20),o.uc(1,"translate"),o.bd(2,"xxxxxxxx"),o.ec()),2&e&&o.Bc("pTooltip",o.vc(1,1,"serviceinput.enter.value.placeholder"))}function st(e,t){1&e&&(o.fc(0,"span",21),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.cd(o.vc(2,1,"serviceinput.enter.value.placeholder")))}function rt(e,t){if(1&e&&(o.fc(0,"span"),o.Zc(1,tt,2,4,"span",12),o.Zc(2,it,2,4,"span",12),o.Zc(3,nt,3,5,"span",13),o.Zc(4,ct,4,10,"span",14),o.Zc(5,at,3,3,"span",15),o.Zc(6,st,3,3,"span",16),o.ec()),2&e){const e=o.tc(),t=e.$implicit,i=e.index,n=o.tc();o.Lb(1),o.Ac("ngIf","java.util.Date"!=n.node.wrapper_type&&"java.lang.Boolean"!=n.node.wrapper_type&&t),o.Lb(1),o.Ac("ngIf","java.lang.Boolean"===n.node.wrapper_type&&("true"===t||"false"===t)),o.Lb(1),o.Ac("ngIf","java.lang.Boolean"===n.node.wrapper_type&&null===t),o.Lb(1),o.Ac("ngIf","java.util.Date"===n.node.wrapper_type&&t&&t>0),o.Lb(1),o.Ac("ngIf","java.util.Date"===n.node.wrapper_type&&(!t||0==t)),o.Lb(1),o.Ac("ngIf",n.showPlaceHolder(i))}}function ot(e,t){if(1&e){const e=o.gc();o.fc(0,"svc-input-control",22,23),o.pc("inputChange",function(t){o.Rc(e);const i=o.tc().index;return o.tc().onInputChange(t,i)})("focusOut",function(t){return o.Rc(e),o.tc(2).onBlur(t)}),o.ec()}if(2&e){const e=o.tc(),t=e.$implicit,i=e.index,n=o.tc();o.Ac("node",n.node)("value",t)("itemIndexToEdit",i)}}const lt=function(e){return{"item-selected":e}},dt=function(e){return{"padding-left":e}};function ut(e,t){if(1&e){const e=o.gc();o.fc(0,"li",4),o.pc("keydown.enter",function(){o.Rc(e);const i=t.index;return o.tc().editContent(i)})("click",function(i){o.Rc(e);const n=t.index;return o.tc().selectItem(i,n)}),o.fc(1,"span",5),o.bd(2),o.ec(),o.fc(3,"div",6),o.Zc(4,rt,7,6,"span",7),o.Zc(5,ot,2,3,"ng-template",null,8,o.ad),o.ec(),o.fc(7,"div",9),o.fc(8,"span",10),o.pc("click",function(i){o.Rc(e);const n=t.index;return o.tc().addItem(i,n-1)})("keydown.enter",function(i){o.Rc(e);const n=t.index;return o.tc().addItem(i,n)}),o.uc(9,"translate"),o.uc(10,"translate"),o.ec(),o.fc(11,"span",11),o.pc("click",function(i){o.Rc(e);const n=t.index;return o.tc().deleteItem(i,n)})("keydown.enter",function(i){o.Rc(e);const n=t.index;return o.tc().deleteItem(i,n)}),o.uc(12,"translate"),o.uc(13,"translate"),o.ec(),o.ec(),o.ec()}if(2&e){const e=t.index,i=o.Pc(6),n=o.tc();o.Ac("ngClass",o.Gc(17,lt,n.isItemSelected(e))),o.Lb(2),o.cd(e),o.Lb(1),o.Ac("ngStyle",o.Gc(19,dt,n.itemIndexToEdit!==e?"23px":"14px")),o.Lb(1),o.Ac("ngIf",n.itemIndexToEdit!==e)("ngIfElse",i),o.Lb(4),o.Bc("pTooltip",o.vc(9,9,"serviceinput.list.insert.row.above.button")),o.Mb("aria-label",o.vc(10,11,"serviceinput.list.insert.row.above.button")),o.Lb(3),o.Bc("pTooltip",o.vc(12,13,"serviceinput.list.remove.row.button")),o.Mb("aria-label",o.vc(13,15,"serviceinput.list.remove.row.button"))}}let ht=(()=>{class e{constructor(e){this.preferencesService=e,this.updateListValue=new o.p,this.itemIndexToEdit=-1,this.selectedItem=-1}ngOnInit(){this.input=this.node.value?ie.cloneDeep(this.node.value):[],this.ensureInputIsString(),this.handleSpecialTypes()}ngOnChanges(e){e&&e.value&&e.value.currentValue&&Array.isArray(e.value.currentValue)&&(this.input=e.value.currentValue?ie.cloneDeep(e.value.currentValue):[],this.ensureInputIsString(),this.handleSpecialTypes())}ensureInputIsString(){if("java.util.Date"!==this.node.wrapper_type)for(let e=0;e<this.input.length;e++)null!=this.input[e]&&(this.input[e]=""+this.input[e])}handleSpecialTypes(){if("object"===this.node.field_type&&"java.lang.Byte"===this.node.wrapper_type&&this.input&&this.input.length>0)for(let e=0;e<this.input.length;e++)if(null!=this.input[e]&&1===this.input[e].indexOf("x")||null!=this.input[e]&&1===this.input[e].indexOf("o")){const t=oe.parseByteValue(this.input[e]);if(null!=t){const i=oe.specialByteFormat(t);this.input[e]=i}}else if(null==this.input[e]||isNaN(this.input[e]))"null"===this.input[e]&&(this.input[e]=null);else{const t=parseInt(this.input[e],10).toString(16);null!=t&&(this.input[e]=oe.specialByteFormat(t))}}showPlaceHolder(e){let t=!0;return(this.input[e]&&this.input[e].length>0||"object"===this.node.field_type&&("java.util.Date"===this.node.wrapper_type||"java.lang.Boolean"===this.node.wrapper_type||this.input[e]))&&(t=!1),t}getValue(){return this.value}updateStringList(e){const t=parseInt(e.target.value);if(t>this.input.length){const i=t-this.input.length;for(let t=0;t<i;t++)this.addListItem(e)}else this.input.splice(t,this.input.length-t),this.updateListValue.emit(this.input)}addListItem(e){this.input.push(null),this.updateListValue.emit(this.input)}editContent(e){this.selectedItem=e,this.itemIndexToEdit=e,setTimeout(()=>{this.inputRef&&this.inputRef.focusInput()},100)}removeEdit(e){this.itemIndexToEdit=-1,this.selectedItem=-1}onInputChange(e,t){const i=e.event;if(this.input[t]=i.target&&null!=i.target.value?i.target.value:null,"object"===this.node.field_type)if("java.lang.Boolean"===this.node.wrapper_type){if(this.input[t]=null,null!=i.value){this.input[t]=!0===i.value||!1===i.value?JSON.parse(i.value):i.value;let e=this.input[t];null!=this.input[t]&&(e=JSON.parse(this.input[t])),this.node.value[t]=e}setTimeout(()=>{this.inputRef.removeFocus(i),this.removeEdit(i)},100)}else if("java.util.Date"===this.node.wrapper_type)this.input[t]=e.node&&e.node.value&&i.picker&&i.picker.startDate&&i.picker.startDate._d?Date.parse(i.picker.startDate._d):null,setTimeout(()=>{this.inputRef.removeFocus(i),this.removeEdit(i)},100);else if("java.lang.Byte"===this.node.wrapper_type){if(i&&i.target&&null!=i.target.value){const e=oe.parseByteValue(i.target.value);if(null!=e){const i=oe.specialByteFormat(e);this.input[t]=i,this.node.value[t]=oe.parseByteValue(i)}}else this.input[t]=null;setTimeout(()=>{this.removeEdit(i)},100)}else if(oe.isNodeNumeric(this.node))for(let n=0;n<this.input.length;n++){const e=+this.input[n];isNaN(this.value)||(this.input[n]=e),this.node.value[n]=this.input[n]}this.updateListValue.emit(this.input),this.editContent(t)}addItem(e,t){this.input.splice(t+1,0,null),this.node.value||(this.node.value=[]),this.node.value.splice(t+1,0,null),this.selectItem(e,t+1),null!=e&&"object"==typeof e&&e.stopPropagation(),this.updateListValue.emit(this.input)}deleteItem(e,t){if(t<0)if(this.selectedItem>-1)t=this.selectedItem;else{if(!(this.input&&this.input.length>0))return;t=this.input.length-1}this.input.splice(t,1),null!=e&&"object"==typeof e&&e.stopPropagation(),this.node.value.splice(t,1),this.removeEdit(e),this.updateListValue.emit(this.input)}deleteAllItems(){this.input=[],this.updateListValue.emit(this.input)}selectItem(e,t){this.selectedItem=t,this.editContent(t)}isItemSelected(e){return this.selectedItem===e}onBlur(e){e&&e.target&&"daterangepicker"===e.target.id||this.removeEdit(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(s.PreferencesService))},e.\u0275cmp=o.Tb({type:e,selectors:[["list-control"]],viewQuery:function(e,t){if(1&e&&o.hd(et,1),2&e){let e;o.Oc(e=o.qc())&&(t.inputRef=e.first)}},inputs:{node:"node",value:"value"},outputs:{updateListValue:"updateListValue"},features:[o.Jb],decls:4,vars:2,consts:[[1,"run-list-container"],[3,"input","addItem","deleteItem","inputChange"],[1,"run-list-group"],["class","run-list-item","tabindex","0",3,"ngClass","keydown.enter","click",4,"ngFor","ngForOf"],["tabindex","0",1,"run-list-item",3,"ngClass","keydown.enter","click"],[1,"list-index"],[2,"flex-grow","1",3,"ngStyle"],[4,"ngIf","ngIfElse"],["showControl",""],[1,"action-controls"],["tabindex","0","showDelay","250",1,"run-input-list-addicon","dlt-icon-row",3,"pTooltip","click","keydown.enter"],["tabindex","0","showDelay","250",1,"run-input-list-deleteicon","dlt-icon-delete",3,"pTooltip","click","keydown.enter"],["class","value-txt","showDelay","250",3,"pTooltip","id","click",4,"ngIf"],["class","value-txt",3,"id","click",4,"ngIf"],["class","value-txt","showDelay","250",3,"pTooltip","click",4,"ngIf"],["showDelay","250","class","empty-value-txt",3,"pTooltip",4,"ngIf"],["class","placeholder",4,"ngIf"],["showDelay","250",1,"value-txt",3,"pTooltip","id","click"],[1,"value-txt",3,"id","click"],["showDelay","250",1,"value-txt",3,"pTooltip","click"],["showDelay","250",1,"empty-value-txt",3,"pTooltip"],[1,"placeholder"],[3,"node","value","itemIndexToEdit","inputChange","focusOut"],["inputRef",""]],template:function(e,t){1&e&&(o.fc(0,"div",0),o.fc(1,"svc-action-toolbar",1),o.pc("addItem",function(e){return t.addItem(e,t.input.length-1)})("deleteItem",function(e){return t.deleteItem(e,-1)})("inputChange",function(e){return t.updateStringList(e)}),o.ec(),o.fc(2,"ul",2),o.Zc(3,ut,14,21,"li",3),o.ec(),o.ec()),2&e&&(o.Lb(1),o.Ac("input",t.input),o.Lb(2),o.Ac("ngForOf",t.input))},directives:[Ye,r.n,r.m,r.p,r.o,ee.a,Je],pipes:[n.c,j.u],styles:[".run-list-container[_ngcontent-%COMP%]{border:1px solid grey;min-width:510px}.run-list-group[_ngcontent-%COMP%]{padding:0;margin:0;margin-top:-6px!important}.list-index[_ngcontent-%COMP%]{padding-top:3px;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#333;text-align:left;line-height:20px}.run-list-item[_ngcontent-%COMP%]{display:flex;padding:.2rem 9px .2rem 19px;height:33px}.run-list-item[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]   empty-value-txt[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#666;text-align:left;line-height:20px;display:inline-block;padding-top:3px}.run-list-item[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%]{color:#333;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;position:absolute}.run-list-item[_ngcontent-%COMP%]   .empty-value-txt[_ngcontent-%COMP%]{background-color:#fff;opacity:0}.run-list-item[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]{height:inherit;width:310px}.run-list-item[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:25px}.run-list-item[_ngcontent-%COMP%]:first-child{border-top:1px solid #d8d8d8}.run-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #d8d8d8}.run-list-item[_ngcontent-%COMP%]:focus, .run-list-item[_ngcontent-%COMP%]:focus-within, .run-list-item[_ngcontent-%COMP%]:hover{height:100%;min-height:33px}.run-list-item[_ngcontent-%COMP%]:focus   .action-controls[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]:focus-within   .action-controls[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]:hover   .action-controls[_ngcontent-%COMP%]{opacity:1}.action-controls[_ngcontent-%COMP%]{opacity:0}.run-input-list-addicon[_ngcontent-%COMP%], .run-input-list-deleteicon[_ngcontent-%COMP%]{cursor:pointer;color:#666;font-size:14px}.action-controls[_ngcontent-%COMP%]   .run-input-list-addicon[_ngcontent-%COMP%]{margin-right:8px}"]}),e})();const pt=["stringTableRowCountValueInputSpinner"],gt=["stringTableColCountValueInputSpinner"],mt=["stringTableContainer"],ft=["inputRef"];function bt(e,t){if(1&e){const e=o.gc();o.fc(0,"button",14),o.pc("click",function(t){return o.Rc(e),o.tc().expandTable(t)}),o.uc(1,"translate"),o.uc(2,"translate"),o.ac(3,"i",24),o.ec()}if(2&e){const e=o.tc();o.Cc("id","expandStringTableBtn_",e.uid,""),o.Bc("pTooltip",o.vc(1,3,"serviceinput.table.expand.button")),o.Mb("aria-label",o.vc(2,5,"serviceinput.table.expand.button"))}}function vt(e,t){if(1&e){const e=o.gc();o.fc(0,"button",14),o.pc("click",function(t){return o.Rc(e),o.tc().collapseTable(t)}),o.uc(1,"translate"),o.uc(2,"translate"),o.ac(3,"i",25),o.ec()}if(2&e){const e=o.tc();o.Cc("id","collapseStringTableBtn_",e.uid,""),o.Bc("pTooltip",o.vc(1,3,"serviceinput.table.collapse.button")),o.Mb("aria-label",o.vc(2,5,"serviceinput.table.collapse.button"))}}function yt(e,t){1&e&&(o.dc(0),o.ac(1,"tr"),o.cc())}function Ct(e,t){if(1&e){const e=o.gc();o.fc(0,"span",35),o.pc("keydown.enter",function(t){o.Rc(e);const i=o.tc().index,n=o.tc().index;return o.tc().selectCell(t,n,i)})("click",function(t){o.Rc(e);const i=o.tc().index,n=o.tc().index;return o.tc().selectCell(t,n,i)}),o.fc(1,"span",36),o.bd(2),o.ec(),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Lb(1),o.Xc("width",t.cellValueWidth,"px"),o.Bc("pTooltip",e),o.Lb(1),o.dd(" ",e," ")}}function St(e,t){if(1&e){const e=o.gc();o.fc(0,"svc-input-control",37,38),o.pc("inputChange",function(t){o.Rc(e);const i=o.tc().index,n=o.tc().index;return o.tc().onInputChange(t,n,i)})("focusOut",function(t){return o.Rc(e),o.tc(3).onBlur(t)}),o.ec()}if(2&e){const e=o.tc(),t=e.index,i=e.$implicit,n=o.tc().index,c=o.tc();o.Ec("id","tableCell_",c.uid,"_",n,"_",t,""),o.Ac("node",c.node)("value",i)}}const xt=function(e){return{width:e}},Lt=function(e){return{"item-selected":e}},wt=function(e){return{"padding-left":e,"max-width":"310px"}};function Tt(e,t){if(1&e){const e=o.gc();o.fc(0,"td",27),o.pc("keydown.enter",function(i){o.Rc(e);const n=t.index,c=o.tc().index;return o.tc().selectCell(i,c,n)})("click",function(i){o.Rc(e);const n=t.index,c=o.tc().index;return o.tc().selectCell(i,c,n)}),o.fc(1,"div",28),o.fc(2,"div",29),o.Zc(3,Ct,3,4,"span",30),o.Zc(4,St,2,5,"ng-template",null,31,o.ad),o.ec(),o.fc(6,"div",32),o.fc(7,"span",33),o.pc("click",function(t){o.Rc(e);const i=o.tc().index;return o.tc().addRow(t,i-1)})("keydown.enter",function(t){o.Rc(e);const i=o.tc().index;return o.tc().addRow(t,i,!1)}),o.uc(8,"translate"),o.uc(9,"translate"),o.ec(),o.fc(10,"span",34),o.pc("click",function(t){o.Rc(e);const i=o.tc().index;return o.tc().deleteRow(t,i)})("keydown.enter",function(t){o.Rc(e);const i=o.tc().index;return o.tc().deleteRow(t,i)}),o.uc(11,"translate"),o.uc(12,"translate"),o.ec(),o.ec(),o.ec(),o.ec()}if(2&e){const e=t.index,i=o.Pc(5),n=o.tc().index,c=o.tc();o.Ac("ngStyle",o.Gc(17,xt,c.inputDataWidth)),o.Lb(1),o.Ac("ngClass",o.Gc(19,Lt,c.isCellSelected(n,e))),o.Lb(1),o.Ac("ngStyle",o.Gc(21,wt,c.cellIndexToEdit&&c.cellIndexToEdit.rowIdx==n&&c.cellIndexToEdit.columnIdx==e?"3px":"6px")),o.Lb(1),o.Ac("ngIf",!c.cellIndexToEdit||c.cellIndexToEdit.rowIdx!=n||c.cellIndexToEdit.columnIdx!=e)("ngIfElse",i),o.Lb(4),o.Bc("pTooltip",o.vc(8,9,"serviceinput.table.insert.row.above.button")),o.Mb("aria-label",o.vc(9,11,"serviceinput.table.insert.row.above.button")),o.Lb(3),o.Bc("pTooltip",o.vc(11,13,"serviceinput.table.remove.row.button")),o.Mb("aria-label",o.vc(12,15,"serviceinput.table.remove.row.button"))}}function It(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,Tt,13,23,"td",26),o.ec()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngForOf",e)}}let Mt=(()=>{class e{constructor(e,t){this.sharedMessageService=e,this.translate=t,this.updateTableValue=new o.p,this.expand=new o.p,this.collapse=new o.p,this.showExpand=!1,this.showCollapse=!1,this.input=[],this.cellIndexToEdit={columnIdx:-1,rowIdx:-1},this.selectedCell={columnIdx:-1,rowIdx:-1},this.cellValueWidth=0,this.translate.setDefaultLang("en"),this.uid=this.$generateUUID(),this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){this.input=this.node.value?this.node.value:[],this.handleCounts()}ngAfterViewInit(){this.makeComponentsAccessible()}ngOnChanges(e){e&&e.value&&e.value.currentValue&&Array.isArray(e.value.currentValue)&&(this.input=e.value.currentValue,this.handleCounts())}handleCounts(){setTimeout(()=>{this.tableRowCount=0,this.tableColCount=0,this.input.length&&(this.tableRowCount=this.input.length,this.input.length>0&&(this.tableColCount=this.input[0].length)),0===this.tableColCount&&(this.tableRowCount=0);const e=document.getElementById("stringTableRowCountValueInputId_"+this.uid);e&&(e.value=this.tableRowCount);const t=document.getElementById("stringTableColCountValueInputId_"+this.uid);t&&(t.value=this.tableColCount),this.setCellWidths()},100)}makeComponentsAccessible(){setTimeout(()=>{let e=document.getElementById("stringTableRowCountValueInputId_"+this.uid);e&&j.K.makeSpinnerAccessible(e,null,this.translate.instant("common.spinner.increase"),this.translate.instant("common.spinner.decrease")),e=document.getElementById("stringTableColCountValueInputId_"+this.uid),e&&j.K.makeSpinnerAccessible(e,null,this.translate.instant("common.spinner.increase"),this.translate.instant("common.spinner.decrease"))},200)}addRow(e,t){this.removeEdit(e),this.input&&this.input.length>0&&this.input[0].length<1&&(this.input=[],t=-1);const i=t+1;if(this.input.splice(i,0,""),i>0){this.input[i]=new Array(this.input[0].length);for(let e=0;e<this.input[t].length;e++)this.input[i][e]=""}else this.input[i]=new Array(1);this.handleCounts(),this.selectCell(e,i,0),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}addColumn(e,t){this.removeEdit(e),0===this.input.length?this.addRow(e,-1):this.input.forEach((e,t)=>{e.push("")}),this.handleCounts(),this.selectCell(e,0,t),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}deleteRow(e,t){if(t<0)if(this.selectedCell&&this.selectedCell.rowIdx>-1)t=this.selectedCell.rowIdx;else{if(!(this.input&&this.input.length>0))return;t=this.input.length-1}this.input.splice(t,1),e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}deleteColumn(e,t){if(t<0)if(this.selectedCell&&this.selectedCell.columnIdx>-1)t=this.selectedCell.columnIdx;else{if(!(this.input&&this.input.length>0&&this.input[0].length>1))return void(this.input.length>0&&1===this.input[0].length&&(this.input=[],e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),this.updateTableValue.emit(this.input)));t=this.input[0].length-1}this.input.forEach((e,i)=>{this.input[i].splice(t,1)}),e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}onInputChange(e,t,i){const n=e.event;this.input[t][i]=n.target&&n.target.value?n.target.value:null,this.handleCounts(),this.editContent(t,i),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}editContent(e,t){this.selectedCell={columnIdx:t,rowIdx:e},this.cellIndexToEdit={columnIdx:t,rowIdx:e},this.setInputFocus(e,t)}setInputFocus(e,t){setTimeout(()=>{this.setCellWidths(),this.inputRef&&this.inputRef.focusInput()},100)}selectCell(e,t,i){e.stopPropagation(),this.selectedCell={columnIdx:i,rowIdx:t},this.editContent(t,i),this.setCellWidths()}isCellSelected(e,t){return this.selectedCell&&this.selectedCell.columnIdx===t&&this.selectedCell.rowIdx===e}expandTable(e){this.expand.emit()}collapseTable(e){this.collapse.emit()}rowCountChanged(e){if(e&&e.target){let t=e.target.value;if(t>-1){let i=t-this.input.length;if(this.stringTableRowCountValueInputSpinner&&this.stringTableRowCountValueInputSpinner.value&&(t=this.stringTableRowCountValueInputSpinner.value,i=t-this.input.length),i>0)for(let t=0;t<i;t++)this.addRow(e,this.input.length-1);else if(i<0)for(let t=0;t<Math.abs(i);t++)this.deleteRow(e,this.input.length-1)}}}increaseRowCount(e){e&&this.addRow(e,this.input.length-1)}decreaseRowCount(e){e&&this.input&&this.input.length>0&&this.deleteRow(e,this.input.length-1)}colCountChanged(e){let t=0;if(this.input&&this.input.length&&this.input.length>0&&(t=this.input[0].length),e&&e.target){let i=e.target.value;if(i>-1){let n=i-t;if(this.stringTableColCountValueInputSpinner&&this.stringTableColCountValueInputSpinner.value&&(i=this.stringTableColCountValueInputSpinner.value,n=i-t),n>0)for(let t=0;t<n;t++)this.addColumn(e,this.input[0].length);else if(n<0)for(let t=0;t<Math.abs(n);t++)this.deleteColumn(e,this.input[0].length-1);this.setCellWidths()}}}increaseColCount(e){if(e){let t=0;this.input.length>0&&(t=this.input[0].length),this.addColumn(e,t)}}decreaseColCount(e){e&&this.input&&this.input.length>0&&this.input[0].length>0&&this.deleteColumn(e,this.input[0].length-1)}setCellWidths(){setTimeout(()=>{this.stringTableContainer&&this.input&&this.input.length>0&&this.input[0].length>0&&(this.cellValueWidth=this.stringTableContainer.nativeElement.offsetWidth/this.input[0].length-50,this.inputDataWidth=this.cellValueWidth-140+"px")},100)}removeEdit(e){this.cellIndexToEdit={columnIdx:-1,rowIdx:-1},this.selectedCell={columnIdx:-1,rowIdx:-1},this.setCellWidths()}onBlur(e){this.removeEdit(e),this.setCellWidths()}getValue(e){return parseInt(e.target.value)}$generateUUID(){return Object(de.a)()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(j.B),o.Zb(n.d))},e.\u0275cmp=o.Tb({type:e,selectors:[["string-table"]],viewQuery:function(e,t){if(1&e&&(o.hd(pt,1),o.hd(gt,1),o.hd(mt,1),o.hd(ft,1)),2&e){let e;o.Oc(e=o.qc())&&(t.stringTableRowCountValueInputSpinner=e.first),o.Oc(e=o.qc())&&(t.stringTableColCountValueInputSpinner=e.first),o.Oc(e=o.qc())&&(t.stringTableContainer=e.first),o.Oc(e=o.qc())&&(t.inputRef=e.first)}},inputs:{node:"node",value:"value",showExpand:"showExpand",showCollapse:"showCollapse"},outputs:{updateTableValue:"updateTableValue",expand:"expand",collapse:"collapse"},features:[o.Jb],decls:66,vars:76,consts:[[1,"run-list-container"],[1,"pane"],[1,"tb1"],[1,"td1"],[1,"dlt-form-label","toolbar-label",3,"for"],[1,"dlt-form-group"],["type","number","min","0","max","100",1,"dlt-number-input","spinner1",3,"id","ngModel","size","ngModelChange","change"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip","click"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip","click"],[1,"dlt-icon-caret-down","number-step-down-icon"],[1,"dlt-form-label","toolbar-label","toolbar-label1",3,"for"],[1,"td1a"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-row","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-delete","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-column","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-building","dlg-icon-btn","dlt-icon"],["tabindex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1","showDelay","250",3,"id","pTooltip","click",4,"ngIf"],["cellspacing","0","cellpadding","0",1,"string-table"],["stringTableContainer",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"dlt-icon-expand","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-collapse","dlg-icon-btn","dlt-icon"],["tabIndex","0",3,"ngStyle","keydown.enter","click",4,"ngFor","ngForOf"],["tabIndex","0",3,"ngStyle","keydown.enter","click"],[1,"run-table-cell",3,"ngClass"],[2,"flex-grow","1",3,"ngStyle"],[3,"keydown.enter","click",4,"ngIf","ngIfElse"],["showControl",""],[1,"table-action-controls"],["tabindex","0","showDelay","250",1,"run-input-table-addicon","dlt-icon-row",3,"pTooltip","click","keydown.enter"],["tabindex","0","showDelay","250",1,"run-input-table-deleteicon","dlt-icon-delete",3,"pTooltip","click","keydown.enter"],[3,"keydown.enter","click"],["showDelay","250",1,"value-txt",3,"pTooltip"],[3,"id","node","value","inputChange","focusOut"],["inputRef",""]],template:function(e,t){1&e&&(o.fc(0,"div",0),o.fc(1,"div",1),o.fc(2,"table",2),o.fc(3,"tr"),o.fc(4,"td",3),o.fc(5,"label",4),o.bd(6),o.uc(7,"translate"),o.ec(),o.ec(),o.fc(8,"td",3),o.fc(9,"div",5),o.fc(10,"input",6),o.pc("ngModelChange",function(e){return t.tableRowCount=e})("change",function(e){return t.rowCountChanged(e)}),o.uc(11,"translate"),o.ec(),o.fc(12,"div",7),o.fc(13,"button",8),o.pc("click",function(e){return t.increaseRowCount(e)}),o.uc(14,"translate"),o.uc(15,"translate"),o.ac(16,"i",9),o.ec(),o.fc(17,"button",10),o.pc("click",function(e){return t.decreaseRowCount(e)}),o.uc(18,"translate"),o.uc(19,"translate"),o.ac(20,"i",11),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(21,"td",3),o.fc(22,"label",12),o.bd(23),o.uc(24,"translate"),o.ec(),o.ec(),o.fc(25,"td",3),o.fc(26,"div",5),o.fc(27,"input",6),o.pc("ngModelChange",function(e){return t.tableColCount=e})("change",function(e){return t.colCountChanged(e)}),o.uc(28,"translate"),o.ec(),o.fc(29,"div",7),o.fc(30,"button",8),o.pc("click",function(e){return t.increaseColCount(e)}),o.uc(31,"translate"),o.uc(32,"translate"),o.ac(33,"i",9),o.ec(),o.fc(34,"button",10),o.pc("click",function(e){return t.decreaseColCount(e)}),o.uc(35,"translate"),o.uc(36,"translate"),o.ac(37,"i",11),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(38,"td",13),o.fc(39,"button",14),o.pc("click",function(e){return t.addRow(e,t.input.length-1)}),o.uc(40,"translate"),o.uc(41,"translate"),o.ac(42,"i",15),o.ec(),o.ec(),o.fc(43,"td",13),o.fc(44,"button",14),o.pc("click",function(e){return t.deleteRow(e,-1)}),o.uc(45,"translate"),o.uc(46,"translate"),o.ac(47,"i",16),o.ec(),o.ec(),o.fc(48,"td",13),o.fc(49,"button",14),o.pc("click",function(e){return t.addColumn(e,t.tableColCount-1)}),o.uc(50,"translate"),o.uc(51,"translate"),o.ac(52,"i",17),o.ec(),o.ec(),o.fc(53,"td",13),o.fc(54,"button",14),o.pc("click",function(e){return t.deleteColumn(e,-1)}),o.uc(55,"translate"),o.uc(56,"translate"),o.ac(57,"i",18),o.ec(),o.ec(),o.fc(58,"td",13),o.Zc(59,bt,4,7,"button",19),o.Zc(60,vt,4,7,"button",19),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(61,"table",20,21),o.fc(63,"tbody"),o.Zc(64,yt,2,0,"ng-container",22),o.Zc(65,It,2,1,"tr",23),o.ec(),o.ec(),o.ec()),2&e&&(o.Lb(5),o.Cc("for","stringTableRowCountValueInputId_",t.uid,""),o.Lb(1),o.dd(" ",o.vc(7,36,"serviceinput.table.rows.caption")," "),o.Lb(4),o.Cc("id","stringTableRowCountValueInputId_",t.uid,""),o.Ac("ngModel",t.tableRowCount)("size",4),o.Mb("aria-label",o.vc(11,38,"serviceinput.table.rows.caption")),o.Lb(3),o.Bc("pTooltip",o.vc(15,42,"common.spinner.increase")),o.Mb("aria-label",o.vc(14,40,"common.spinner.increase")),o.Lb(4),o.Bc("pTooltip",o.vc(19,46,"common.spinner.decrease")),o.Mb("aria-label",o.vc(18,44,"common.spinner.decrease")),o.Lb(5),o.Cc("for","stringTableColCountValueInputId_",t.uid,""),o.Lb(1),o.dd(" ",o.vc(24,48,"serviceinput.table.columns.caption")," "),o.Lb(4),o.Cc("id","stringTableColCountValueInputId_",t.uid,""),o.Nb("aria-label"," ",o.vc(28,50,"serviceinput.table.columns.caption"),""),o.Ac("ngModel",t.tableColCount)("size",4),o.Lb(3),o.Bc("pTooltip",o.vc(32,54,"common.spinner.increase")),o.Mb("aria-label",o.vc(31,52,"common.spinner.increase")),o.Lb(4),o.Bc("pTooltip",o.vc(36,58,"common.spinner.decrease")),o.Mb("aria-label",o.vc(35,56,"common.spinner.decrease")),o.Lb(5),o.Cc("id","addStringTableRowBtn_",t.uid,""),o.Bc("pTooltip",o.vc(40,60,"serviceinput.table.add.row.button")),o.Mb("aria-label",o.vc(41,62,"serviceinput.table.add.row.button")),o.Lb(5),o.Cc("id","delStringTableRowBtn_",t.uid,""),o.Bc("pTooltip",o.vc(45,64,"serviceinput.table.remove.row.button")),o.Mb("aria-label",o.vc(46,66,"serviceinput.table.remove.row.button")),o.Lb(5),o.Cc("id","addStringTableColBtn_",t.uid,""),o.Bc("pTooltip",o.vc(50,68,"serviceinput.table.add.column.button")),o.Mb("aria-label",o.vc(51,70,"serviceinput.table.add.column.button")),o.Lb(5),o.Cc("id","delStringTableColBtn_",t.uid,""),o.Bc("pTooltip",o.vc(55,72,"serviceinput.table.remove.column.button")),o.Mb("aria-label",o.vc(56,74,"serviceinput.table.remove.column.button")),o.Lb(5),o.Ac("ngIf",t.showExpand),o.Lb(1),o.Ac("ngIf",t.showCollapse),o.Lb(4),o.Ac("ngIf",!t.input||0===t.input.length),o.Lb(1),o.Ac("ngForOf",t.input))},directives:[Pe.s,Pe.c,Pe.n,Pe.q,ee.a,r.o,r.n,r.p,r.m,Je],pipes:[n.c],styles:[".table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;background:#fff;border:1px solid grey}.table-toolbar[_ngcontent-%COMP%]{display:inline-block;width:100%;border-top:1px solid grey;border-left:1px solid grey;border-right:1px solid grey;background:#eee}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-label[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;padding-top:15px}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-number-item[_ngcontent-%COMP%]{flex-direction:row;width:auto}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{display:inline-block}.table-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 .4rem;text-decoration:none}.table-toolbar[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]{display:inline-block;float:right}.string-table[_ngcontent-%COMP%]{width:100%;margin-top:-7px;color:#333;border-collapse:collapse}.string-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-weight:700}.string-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;border-right:1px solid hsla(0,0%,50%,.3)}.string-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-weight:400}.string-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,50%,.3);border-width:0 1px 1px 0;width:100%;min-height:1.5rem}.string-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid hsla(0,0%,50%,.3);min-height:2rem;width:1%;max-width:350px}.string-table[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%], .string-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:100%;vertical-align:middle;white-space:nowrap}.string-table[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]{float:left;display:flex;line-height:2rem;padding-left:8px;overflow:hidden;text-overflow:ellipsis}.table-action-controls[_ngcontent-%COMP%]{align-self:right;opacity:0}.run-table-cell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:stretch;padding:.2rem 9px .2rem 0;min-height:33px}.run-table-cell[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]   empty-value-txt[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#666;text-align:left;line-height:20px;display:inline-block;padding-top:3px}.run-table-cell[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%]{color:#333;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;position:absolute}.run-table-cell[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]{height:inherit;width:310px}.run-table-cell[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:25px}.run-table-cell[_ngcontent-%COMP%]:focus   .table-action-controls[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]:focus-within   .table-action-controls[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]:hover   .table-action-controls[_ngcontent-%COMP%]{opacity:1}.run-input-table-addicon[_ngcontent-%COMP%], .run-input-table-deleteicon[_ngcontent-%COMP%]{cursor:pointer;color:#666;font-size:14px}.table-action-controls[_ngcontent-%COMP%]   .run-input-table-addicon[_ngcontent-%COMP%]{margin-right:8px}.table-zoom[_ngcontent-%COMP%]{position:fixed;top:10%;height:70%;transform:scale(1.2);left:16%;background:#fff;z-index:1}div.pane[_ngcontent-%COMP%]{display:inline-block;width:100%;padding-left:.3rem;border-bottom:1px solid grey;background:#eee;height:43px}table.tb1[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:100%}td.td1[_ngcontent-%COMP%]{padding:0 0 0 3px;margin:0;vertical-align:bottom;vertical-align:middle}td.td1a[_ngcontent-%COMP%]{padding:0;margin:0;vertical-align:bottom;width:100%;text-align:right}.spinner1[_ngcontent-%COMP%]{width:4rem;margin-top:5px}.toolbar-label[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#333;text-align:left;margin-top:10px;margin-right:4px}.toolbar-label1[_ngcontent-%COMP%]{margin-left:10px}.run-list-container[_ngcontent-%COMP%]{border:1px solid grey;min-width:510px}"]}),e})();const Ot=["modalRef"],_t=["valueSetModalRef"],Dt=["treeRef"],Pt=["valueSetInputRef"];function At(e,t){1&e&&(o.dc(0),o.bd(1,"[ ]"),o.cc())}function kt(e,t){1&e&&(o.dc(0),o.fc(1,"span",10),o.bd(2," * "),o.ec(),o.cc())}function Rt(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"svc-input-control",11),o.pc("inputChange",function(t){return o.Rc(e),o.tc(5).onInputChange(t)}),o.ec(),o.cc()}if(2&e){const e=o.tc(2).$implicit;o.Lb(1),o.Ac("node",e)("value",e.value)}}function Et(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"list-control",12),o.pc("updateListValue",function(t){o.Rc(e);const i=o.tc(2).$implicit;return o.tc(3).updateStringValue(t,i)}),o.ec(),o.cc()}if(2&e){const e=o.tc(2).$implicit;o.Lb(1),o.Ac("node",e)("value",e.value)}}const Ft=function(e){return{"table-zoom":e}};function Bt(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",13),o.fc(2,"string-table",14),o.pc("updateTableValue",function(t){o.Rc(e);const i=o.tc(2).$implicit;return o.tc(3).updateStringValue(t,i)})("expand",function(){return o.Rc(e),o.tc(5).expandTable()})("collapse",function(){return o.Rc(e),o.tc(5).collapseTable()}),o.ec(),o.ec(),o.cc()}if(2&e){const e=o.tc(2).$implicit,t=o.tc(3);o.Lb(1),o.Ac("ngClass",o.Gc(5,Ft,t.expand)),o.Lb(1),o.Ac("node",e)("value",e.value)("showExpand",!t.expand)("showCollapse",t.expand)}}function Nt(e,t){if(1&e&&(o.dc(0),o.Zc(1,Rt,2,2,"ng-container",2),o.Zc(2,Et,2,2,"ng-container",2),o.Zc(3,Bt,3,7,"ng-container",2),o.cc()),2&e){const e=o.tc().$implicit;o.Lb(1),o.Ac("ngIf","0"===e.field_dim),o.Lb(1),o.Ac("ngIf","1"===e.field_dim),o.Lb(1),o.Ac("ngIf","2"===e.field_dim)}}function Vt(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"svc-input-control",11),o.pc("inputChange",function(t){return o.Rc(e),o.tc(5).onInputChange(t)}),o.ec(),o.cc()}if(2&e){const e=o.tc(2).$implicit;o.Lb(1),o.Ac("node",e)("value",e.value)}}function Ht(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"list-control",12),o.pc("updateListValue",function(t){o.Rc(e);const i=o.tc(2).$implicit;return o.tc(3).updateObjectListValue(t,i)}),o.ec(),o.cc()}if(2&e){const e=o.tc(2).$implicit;o.Lb(1),o.Ac("node",e)("value",e.value)}}function Zt(e,t){if(1&e&&(o.dc(0),o.Zc(1,Vt,2,2,"ng-container",2),o.Zc(2,Ht,2,2,"ng-container",2),o.cc()),2&e){const e=o.tc().$implicit;o.Lb(1),o.Ac("ngIf","0"===e.field_dim&&("recordarray"!==e.parentType||e.added_for_array)),o.Lb(1),o.Ac("ngIf","1"===e.field_dim)}}function zt(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",15),o.fc(2,"span",16),o.pc("click",function(){o.Rc(e);const t=o.tc(2).$implicit;return o.tc(3).addNode(t,null)}),o.ec(),o.fc(3,"span",17),o.pc("click",function(){o.Rc(e);const t=o.tc(2).$implicit;return o.tc(3).deleteNode(t)}),o.ec(),o.ec(),o.cc()}}const jt=function(){return[]};function Ut(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",18),o.fc(2,"svc-action-toolbar",19),o.pc("addItem",function(){o.Rc(e);const t=o.tc(2).$implicit;return o.tc(3).addDocArrayValue(t)})("deleteItem",function(){o.Rc(e);const t=o.tc(2).$implicit;return o.tc(3).deleteDocArrayValue(t)})("inputChange",function(t){o.Rc(e);const i=o.tc(2).$implicit;return o.tc(3).updateDocArrayValue(t,i)}),o.ec(),o.ec(),o.cc()}if(2&e){const e=o.tc(2).$implicit,t=o.tc(3);o.Lb(1),o.Ac("ngClass",t.getListContainerClass(e)),o.Lb(1),o.Ac("input",e.child_added_for_array?e.rec_fields:o.Fc(2,jt))}}function $t(e,t){if(1&e&&(o.dc(0),o.fc(1,"span",20),o.bd(2),o.ec(),o.cc()),2&e){const e=o.tc(2).$implicit;o.Lb(2),o.cd(e.index)}}function Kt(e,t){if(1&e&&(o.dc(0),o.Zc(1,zt,4,0,"ng-container",2),o.Zc(2,Ut,3,3,"ng-container",2),o.Zc(3,$t,3,1,"ng-container",2),o.cc()),2&e){const e=o.tc().$implicit;o.Lb(1),o.Ac("ngIf",e.added_for_array),o.Lb(1),o.Ac("ngIf","1"===e.field_dim),o.Lb(1),o.Ac("ngIf",e.added_for_array)}}function Qt(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",15),o.fc(2,"span",16),o.pc("click",function(){o.Rc(e);const t=o.tc(2).$implicit;return o.tc(3).addNode(t,null)}),o.ec(),o.fc(3,"span",17),o.pc("click",function(){o.Rc(e);const t=o.tc(2).$implicit;return o.tc(3).deleteNode(t)}),o.ec(),o.ec(),o.cc()}}function Wt(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",18),o.fc(2,"svc-action-toolbar",19),o.pc("addItem",function(){o.Rc(e);const t=o.tc(2).$implicit;return o.tc(3).addDocArrayValue(t)})("deleteItem",function(){o.Rc(e);const t=o.tc(2).$implicit;return o.tc(3).deleteDocArrayValue(t)})("inputChange",function(t){o.Rc(e);const i=o.tc(2).$implicit;return o.tc(3).updateDocArrayValue(t,i)}),o.ec(),o.ec(),o.cc()}if(2&e){const e=o.tc(2).$implicit,t=o.tc(3);o.Lb(1),o.Ac("ngClass",t.getListContainerClass(e)),o.Lb(1),o.Ac("input",e.child_added_for_array?e.rec_fields:o.Fc(2,jt))}}function qt(e,t){if(1&e&&(o.dc(0),o.fc(1,"span",20),o.bd(2),o.ec(),o.cc()),2&e){const e=o.tc(2).$implicit;o.Lb(2),o.cd(e.index)}}function Xt(e,t){if(1&e&&(o.dc(0),o.Zc(1,Qt,4,0,"ng-container",2),o.Zc(2,Wt,3,3,"ng-container",2),o.Zc(3,qt,3,1,"ng-container",2),o.cc()),2&e){const e=o.tc().$implicit;o.Lb(1),o.Ac("ngIf",e.added_for_array),o.Lb(1),o.Ac("ngIf","1"===e.field_dim),o.Lb(1),o.Ac("ngIf",e.added_for_array)}}function Gt(e,t){if(1&e&&(o.fc(0,"div"),o.fc(1,"div",6),o.fc(2,"label",7),o.bd(3),o.Zc(4,At,2,0,"ng-container",2),o.Zc(5,kt,3,0,"ng-container",2),o.ec(),o.dc(6,8),o.Zc(7,Nt,4,3,"ng-container",9),o.Zc(8,Zt,3,2,"ng-container",9),o.Zc(9,Kt,4,3,"ng-container",9),o.Zc(10,Xt,4,3,"ng-container",9),o.cc(),o.ec(),o.ec()),2&e){const e=t.$implicit;o.Lb(2),o.Cc("for","dataValue_",e.path,""),o.Lb(1),o.dd(" ",e.field_name," "),o.Lb(1),o.Ac("ngIf","1"===e.field_dim&&!e.added_for_array),o.Lb(1),o.Ac("ngIf","true"!==e.field_opt||null===e.field_opt),o.Lb(1),o.Ac("ngSwitch",e.field_type),o.Lb(1),o.Ac("ngSwitchCase","string"),o.Lb(1),o.Ac("ngSwitchCase","object"),o.Lb(1),o.Ac("ngSwitchCase","record"),o.Lb(1),o.Ac("ngSwitchCase","recref")}}function Jt(e,t){if(1&e&&(o.dc(0),o.fc(1,"svc-tree",3,4),o.Zc(3,Gt,11,9,"div",5),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(1),o.Ac("input",e.topLevelParentNode.rec_fields)("showBranch",!0)("hasChildren",e._hasChildren)("getChildren",e._getChildren)("getNodeId",e._getNodeId)("getFieldType",e._getFieldType)("isList",e._isList)}}function Yt(e,t){if(1&e&&(o.fc(0,"div",1),o.Zc(1,Jt,4,7,"ng-container",2),o.ec()),2&e){const e=o.tc();o.Lb(1),o.Ac("ngIf",e.topLevelParentNode&&e.topLevelParentNode.rec_fields&&e.topLevelParentNode.rec_fields.length>0)}}let ei=(()=>{class e{constructor(e,t,i,n,c,a){this.serviceExecutionService=e,this.preferencesService=t,this.toastr=i,this.translate=n,this.sharedMessageService=c,this.changeDetectorRef=a,this.svcInputLoaded=new o.p,this.showTree=!1,this.values=null,this.valueSet={},this.valueSetList=[],this.documents={},this.valueSetName="",this.assetName=null,this.contextId=null,this.isDebugMode=!1,this.selectedValueSetRadioOption="0",this.subscriptions=[],this.loading=!1,this.canceled=!1,this.loading=!0,this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}))}populateServiceTreeAndData(){this.subscriptions.push(this.preferencesService.getDocumentExpansion().subscribe(e=>{this.documentExpansion=e,this.subscriptions.push(this.serviceExecutionService.getCurrentServiceInfo().subscribe(e=>{this.assetName=e.serviceName,this.subscriptions.push(this.serviceExecutionService.getServicePipeline(e.contextId,!1).subscribe(t=>{this.subscriptions.push(this.serviceExecutionService.getServiceSignature(this.assetName,e.contextId).subscribe(e=>{this.populateTreeAndData(e),this.servicePipeline=t,this.setValues(t),this.tempPipeline=ie.cloneDeep(t),setTimeout(()=>{this.svcInputLoaded.emit()},400)}))}))}))}))}reopen(){this.canceled&&(this.removeUncheckedValues(this.topLevelParentNode),this.setValues(ie.cloneDeep(this.tempPipeline)),this.changeDetectorRef.detectChanges()),this.canceled=!1}setCanceled(){this.canceled=!0}getListContainerClass(e){if(e)return("record"===e.field_type||"recref"===e.field_type)&&e.field_dim>"0"?"run-list-container-doc-list":"run-list-container"}populateDocumentTreeAndData(){this.subscriptions.push(this.preferencesService.getDocumentExpansion().subscribe(e=>{this.documentExpansion=e,this.subscriptions.push(this.serviceExecutionService.getCurrentDocumentInfo().subscribe(e=>{this.assetName=e.documentName,this.subscriptions.push(this.serviceExecutionService.getDocumentPipeline(e.documentId).subscribe(e=>{this.subscriptions.push(this.serviceExecutionService.getDocumentSignature(this.assetName).subscribe(t=>{this.populateTreeAndData(t),e&&e.document&&e.document.length>0&&(e=new ne(e.document[0])),this.servicePipeline=e,this.setValues(e),this.tempPipeline=ie.cloneDeep(e),setTimeout(()=>{this.svcInputLoaded.emit()},400)}))}))}))}))}populateTreeAndData(e){this.getLocalStorageValueSetData(e),this._hasChildren=this._hasChildren.bind(this),this._getChildren=this._getChildren.bind(this),this._getNodeId=this._getNodeId.bind(this),this._getFieldType=this._getFieldType.bind(this),this._isList=this._isList.bind(this),this.expand=!1}getPipelineForResubmit(){return new ce(this.values)}getDocumentForResubmit(){return new ne(this.values)}ngOnChanges(){}toggleTree(){this.showTree=!this.showTree}savePipeline(){return!!this.validateTree(this.topLevelParentNode)&&(this.tempPipeline=ie.cloneDeep(this.getPipelineForResubmit()),!0)}saveDocument(){this.tempPipeline=ie.cloneDeep(this.getDocumentForResubmit())}showTreeContent(){return!this.scheduleInvoke||this.showTree}getLocalStorageValueSetData(e){this.valueSetName&&(this.values=ie.cloneDeep(this.valueSet[this.assetName][this.valueSetName])),this._getServiceSignature(e)}getValues(){return this.values}setValueName(e){this.valueName=e}getValueName(){return this.valueName}isValueChanged(){return this.valueSet[this.assetName]&&this.valueSet[this.assetName][this.valueSetName]&&!ie.isEqual(this.values,this.valueSet[this.assetName][this.valueSetName])}_setValueSetDropdownList(){this.assetName&&this.valueSet&&this.valueSet[this.assetName]&&(this.valueSetList=Object.keys(this.valueSet[this.assetName]))}_getServiceSignature(e){let t=null;if(e&&e.documents&&e.documents.topLevelDocument&&e.documents.topLevelDocument.rec_fields){t=e.documents.topLevelDocument;for(const t in e.documents)e.documents[t]&&(this.documents[t]=e.documents[t])}else if(e&&e.inputDocument&&e.documents){const i=e.documents[e.inputDocument];i&&i.rec_fields&&(t=i);for(const t in e.documents)e.documents[t]&&(this.documents[t]=e.documents[t])}else if(e&&e.documents){const i=e.documents[this.assetName];i&&i.rec_fields&&(t=i)}t.uid=this.$generateUUID(),t.level=0,this._updateNodeData(t),this.topLevelParentNode=t,this.inputSignature=ie.cloneDeep(this.topLevelParentNode.rec_fields),this.values&&this._constructTree(),this.loading=!1}_updateNodeData(e){if(!(e.level>this.documentExpansion.recursiveDocumentExpansionLevel)&&e.rec_fields){let t=-1;e.rec_fields.forEach((i,n,c)=>{const a=ie.cloneDeep(i);c[n]=a,a.id=a.field_name,e&&(a.parentNode=e,a.uid=this.$generateUUID()),a.parentNode&&a.parentNode.field_dim>0&&("record"===a.parentNode.field_type||"recref"===a.parentNode.field_type)&&(t++,a.index=t),a.path=le.createPath(a,-1),this.handleRecordReference(a),a.rec_fields&&Array.isArray(a.rec_fields)&&a.rec_fields.length>0&&(this.loading&&(a.state={open:!0}),this._updateNodeData(a))})}}handleRecordReference(e){if("recref"===e.field_type){const t=this.documents[e.rec_ref];if(t&&(e.rec_fields=ie.cloneDeep(t.rec_fields),e.rec_fields&&e.rec_fields.length>0))for(const i of e.rec_fields)i.level=e.level+1,i.path=null}}_hasChildren(e){return!("record"!==e.field_type&&"recref"!==e.field_type||"0"!==e.field_dim&&!e.child_added_for_array||!(e.level<=this.documentExpansion.recursiveDocumentExpansionLevel))}_getChildren(e){return e.rec_fields&&e.level<=this.documentExpansion.recursiveDocumentExpansionLevel?this._getRecFields(e):[]}_getRecFields(e){return("record"===e.field_type||"recref"===e.field_type)&&"0"===e.field_dim||"1"===e.field_dim&&e.child_added_for_array?(this._updateArrayChildParentType(e),e.rec_fields):[]}_updateArrayChildParentType(e){e.added_for_array&&"recref"!==e.parentType&&e.rec_fields.forEach(e=>{e.parentType="recordarray"})}_getNodeId(e){return e.field_name}_getFieldType(e){return"object"===e.field_type&&e.wrapper_type?e.wrapper_type:"2"===e.field_dim&&"string"===e.field_type?"table":e.field_type}_isList(e){return"1"===e.field_dim}addNode(e,t,i){let n=e;e.added_for_array&&(n=e.parentNode),n.rec_fields&&("record"!==n.field_type&&"recref"!==n.field_type||n.child_added_for_array)||(n.rec_fields=[]);const c=this._createNewNode(n,e,t);e.added_for_array?(n.rec_fields.splice(e.index+1,0,c),this._updateSiblingNodes(e.index+1,n.rec_fields,n)):n.rec_fields.push(c),c.path=null;let a=-1;"recref"===c.field_type&&c.parentNode&&"recref"===c.parentNode.field_type&&"1"===c.parentNode.field_dim&&(a=t),c.path=le.createPath(c,a),(t<0||i)&&this._initializeNodeValue(n,c,t),c.rec_fields&&c.rec_fields.length>0&&(c.state={open:!1},n.state={open:!1},this.expandNode(c)),this.expandNode(n)}_createNewNode(e,t,i){const n={};n.field_name=e.field_name,n.index=e.rec_fields.length,t.added_for_array&&(n.index=t.index+1,n.field_name=e.field_name),n.added_for_array=!0,n.field_dim="0",n.field_type=e.field_type,n.rec_fields=null,n.parentType=e.field_type,n.valueIndex=i,n.uid=this.$generateUUID(),n.state="record"===n.field_type||"recref"===n.field_type?{open:!0}:{open:!1},n.parentNode=e;let c=-1;return"recref"===n.field_type&&n.parentNode&&"recref"===n.parentNode.field_type&&"1"===n.parentNode.field_dim&&(c=i),n.path=le.createPath(n,c),n.value=this.getValue(n,i),"object"===e.field_type&&(n.wrapper_type=e.wrapper_type),"record"!==e.field_type&&"recref"!==e.field_type||this._createRecordArray(n,e,i),n}_createRecordArray(e,t,i){e.rec_fields=[];const n=this.getNodeById(t),c=ie.cloneDeep(n.rec_fields);if(c&&c.length>0){e.rec_fields=c;let t=-1;c.forEach(c=>{t++,c.parentNode=e,c.path=le.createPath(c,t),c.dim&&"1"!==c.dim&&(i=-1),c.valueIndex=i,c.value=this.getValue(c,i),c.parentType=n.field_type,"record"===c.field_type||"recref"===c.field_type?this._updateNodeValueForRecord(c):c.value&&Array.isArray(c.value)&&this._createNodeArray(c,c.value)})}e.rec_fields=c,t.child_added_for_array||(t.child_added_for_array=!0)}_initializeNodeValue(e,t,i){t.valueKey=le.getKeyFromPath(t,i),this.updateRunValue(t.valueKey,"record"===e.field_type||"recref"===e.field_type?{}:"")}expandNode(e){this.treeRef&&e&&e.state&&!e.state.open&&this.treeRef.expandNode(e,null)}_updateSiblingNodes(e,t,i){for(let n=e;n<t.length;n++){t[n].field_name=i.field_name,t[n].index=n,t[n].path=le.createPath(t[n],n),t[n].valueKey=le.getKeyFromPath(t[n],-1);const e=t[n].path.split("/");t[n].value&&ie.set(this.values,e,t[n].value)}}deleteNode(e){const t=e.index;if(e.parentNode&&e.parentNode.rec_fields){if(1===e.parentNode.rec_fields.length)e.parentNode.rec_fields=[],"record"!==e.parentNode.field_type&&"recref"!==e.parentNode.field_type||"1"!==e.parentNode.field_dim||(e.parentNode.rec_fields=this.getNodeById(e.parentNode).rec_fields,e.parentNode.child_added_for_array=!1);else{e.parentNode.rec_fields.splice(e.index,1);for(let i=t;i<e.parentNode.rec_fields.length;i++)e.parentNode.rec_fields[i].field_name=e.parentNode.field_name,e.parentNode.rec_fields[i].index=i,e.parentNode.rec_fields[i].path=le.createPath(e.parentNode.rec_fields[i],i)}this.deleteValue(e)}}deleteAllDocArrayValue(e,t){e.rec_fields=[],e.valueKey=le.getKeyFromPath(e,t),ie.set(this.values,e.valueKey,[]),e.rec_fields=this.getNodeById(e.parentNode).rec_fields,e.child_added_for_array=!1}onInputChange(e){const t=e.event,i=e.node;try{t.stopPropagation()}catch(a){}let n=oe.getValueBasedOnDataType(i,t);"java.lang.Boolean"===i.wrapper_type&&(null!=n&&(n=JSON.parse(n)),t&&null!=t.value&&(t.value=n)),i.uncheckedValue=this.getUncheckedValue(t);let c=-1;i.valueIndex>-1&&(c=i.valueIndex),i.valueKey=le.getKeyFromPath(i,c),this.updateRunValue(i.valueKey,n)}getUncheckedValue(e){return e&&e.target&&null!=e.target.value?e.target.value:null!=e.value?e.value:e.originalEvent&&null!=e.originalEvent.value?e.originalEvent.value:e.target&&e.target.textContent&&e.target.textContent.length>0&&"empty"!==e.target.textContent?e.target.textContent:e.picker&&e.picker.startDate&&e.picker.startDate._d?e.picker.startDate._d:null}updateRunValue(e,t){this.values||(this.values={}),ie.set(this.values,e,t)}getNodeById(e,t){t||(t=this.inputSignature);for(let i=0;i<t.length;i++){if(e.field_name===t[i].field_name)return t[i];if(t[i].rec_fields){const n=this.getNodeById(e,t[i].rec_fields);if(n)return n}}}deleteValue(e){ie.get(this.values,e.parentNode.valueKey).splice(e.index,1)}saveValues(){this.valueSet[this.assetName]||(this.valueSet[this.assetName]={}),this.valueName&&(this.valueSetName=this.valueName),this.valueSetName&&""!==this.valueSetName&&(this.valueSet[this.assetName][this.valueSetName]=this.values,localStorage.setItem("valueSet",JSON.stringify(this.valueSet)))}clearRunInput(){this._updateNodeData(this.topLevelParentNode)}updateStringValue(e,t){let i=-1;t.valueIndex>-1&&(i=t.valueIndex),t.valueKey=le.getKeyFromPath(t,i),this.updateRunValue(t.valueKey,e)}updateObjectListValue(e,t){let i=new Array;if(oe.isNodeBoolean(t)){if(e&&e.length>0)for(let t=0;t<e.length;t++)"true"===e[t]||"false"===e[t]?i.push(JSON.parse(e[t])):null!==e[t]&&"null"!==e[t]||i.push(null)}else if(oe.isNodeNumeric(t)){if(e&&e.length>0)for(let t=0;t<e.length;t++)"null"===e[t]?i.push(null):"string"==typeof e[t]?isNaN(e[t])||isNaN(parseFloat(e[t]))?i.push(null):i.push(JSON.parse(e[t])):i.push(null)}else i=e;this.updateRunValue(t.valueKey,i)}onValueNameSelection(e){const t=e.target.value;this.valueSetName=t,this.values=ie.cloneDeep(this.valueSet[this.assetName][t]),this.values&&this._constructTree()}setValues(e){let t=[];e&&e.inputPipeline?t=e.inputPipeline:e&&e.document&&(t=e.document),this.values=t,this.values&&this._constructTree()}_constructTree(){this._updateNodeData(this.topLevelParentNode),this._updateTreeBasedOnValue(this.topLevelParentNode.rec_fields)}_updateTreeBasedOnValue(e){e.forEach(e=>{if(null!=e.path){e.valueKey=le.getKeyFromPath(e,-1);const t=ie.get(this.values,e.valueKey);t?"string"===e.field_type||"object"===e.field_type?e.value=t:"record"!==e.field_type&&"recref"!==e.field_type||this._updateNodeValueForRecord(e):"object"===e.field_type&&"java.lang.Boolean"===e.wrapper_type&&!1===t&&(e.value=!1)}})}_updateNodeValueForRecord(e){e.valueKey=le.getKeyFromPath(e,-1);const t=ie.get(this.values,e.valueKey);t&&"1"===e.field_dim&&t.length>0?this._createNodeArray(e,t):"0"===e.field_dim&&e.rec_fields&&e.rec_fields.length>0&&this._updateTreeBasedOnValue(e.rec_fields)}_createNodeArray(e,t){e.rec_fields=[];let i=-1;t.forEach(()=>{i++,this.addNode(e,i)})}getValue(e,t){return this.values||(this.values={}),e.valueKey=le.getKeyFromPath(e,t),ie.get(this.values,e.valueKey)||("string"===e.field_type&&"2"===e.field_dim?[]:null)}updateDocArrayValue(e,t){const i=parseInt(e.target.value);let n=t.rec_fields.length;if(t.child_added_for_array||(n=0),!t.child_added_for_array&&i>0||t.child_added_for_array)if(i>n){const e=i-n;for(let i=0;i<e;i++)this.addDocArrayValue(t)}else{const e=t.rec_fields.length-i;for(let i=0;i<e;i++)this.deleteDocArrayValue(t)}}addDocArrayValue(e){let t=0;null==e.valueKey&&(e.valueKey=le.getKeyFromPath(e,-1));const i=ie.get(this.values,e.valueKey);Array.isArray(i)&&(t=i.length),this.addNode(e,t,!0)}deleteDocArrayValue(e){e.child_added_for_array&&this.deleteNode(e.rec_fields[e.rec_fields.length-1])}expandTable(){this.expand=!0}collapseTable(){this.expand=!1}expandtolevel(e){this.treeRef.expandtolevel(2)}validateTree(e){let t=!0;return e&&e.rec_fields&&e.rec_fields.length>0&&e.rec_fields.forEach(e=>{let i=null;if(e.uncheckedValue?i=e.uncheckedValue:e.value&&(i=e.value),i)if("0"===e.field_dim){if(!this.validateValue(e,i))return void(t=!1)}else if("1"===e.field_dim&&Array.isArray(i)){if(i.forEach(i=>{this.validateValue(e,i)||(t=!1)}),!t)return;if("java.lang.Byte"===e.wrapper_type){const t=new Array(i.length);let n=-1;i.forEach(e=>{if(n++,null!=e){const i=e+"";t[n]=1===i.indexOf("x")||1===i.indexOf("o")?oe.parseByteValue(e):+e}else t[n]=e}),ie.set(this.values,e.valueKey,t)}}this.validateTree(e)||(t=!1)}),t}removeUncheckedValues(e){e&&e.rec_fields&&e.rec_fields.length>0&&e.rec_fields.forEach(e=>{e.uncheckedValue&&(e.uncheckedValue=null),this.removeUncheckedValues(e),this.changeDetectorRef.detectChanges()})}validateValue(e,t){let i=null;if("object"===e.field_type&&("java.lang.Short"===e.wrapper_type?i=oe.validateShort(t,this.translate):"java.lang.Integer"===e.wrapper_type?i=oe.validateInteger(t,this.translate):"java.lang.Long"===e.wrapper_type?i=oe.validateLong(t,this.translate):"java.lang.Double"===e.wrapper_type?i=oe.validateDouble(t,this.translate):"java.lang.Float"===e.wrapper_type?i=oe.validateFloat(t,this.translate):"java.util.Date"===e.wrapper_type?i=oe.validateDate(t,this.translate):"java.lang.Character"===e.wrapper_type?i=oe.validateCharacter(t,this.translate):"java.lang.Byte"===e.wrapper_type&&(i=oe.validateByte(e,t,this.translate),null===i&&"0"===e.field_dim&&ie.set(this.values,e.valueKey,e.value))),i){const e=this.translate.instant("serviceinput.validate.invalid.entry");return this.toastr.error(i,e),!1}return!0}$generateUUID(){return Object(de.a)()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(J),o.Zb(s.PreferencesService),o.Zb(Q.b),o.Zb(n.d),o.Zb(j.B),o.Zb(o.h))},e.\u0275cmp=o.Tb({type:e,selectors:[["service-run-input"]],viewQuery:function(e,t){if(1&e&&(o.hd(Ot,1),o.hd(_t,1),o.hd(Dt,1),o.hd(Pt,1)),2&e){let e;o.Oc(e=o.qc())&&(t.modalRef=e.first),o.Oc(e=o.qc())&&(t.valueSetModalRef=e.first),o.Oc(e=o.qc())&&(t.treeRef=e.first),o.Oc(e=o.qc())&&(t.valueSetInputRef=e.first)}},inputs:{scheduleInvoke:"scheduleInvoke",treeInput:"treeInput"},outputs:{svcInputLoaded:"svcInputLoaded"},features:[o.Jb],decls:1,vars:1,consts:[["class","run-tree-container",4,"ngIf"],[1,"run-tree-container"],[4,"ngIf"],[3,"input","showBranch","hasChildren","getChildren","getNodeId","getFieldType","isList"],["treeRef",""],[4,"treeNode"],[1,"node-template"],[1,"dlt-form-label","test-input-label",3,"for"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"field-required"],[3,"node","value","inputChange"],[3,"node","value","updateListValue"],[1,"p-0","table-container",3,"ngClass"],[3,"node","value","showExpand","showCollapse","updateTableValue","expand","collapse"],[1,"arr-action-control"],[1,"test-input-addicon","fa","fa-plus-circle","p-0",3,"click"],[1,"test-input-deleteicon","fa","fa-trash",3,"click"],[3,"ngClass"],[3,"input","addItem","deleteItem","inputChange"],[1,"array-index"]],template:function(e,t){1&e&&o.Zc(0,Yt,2,1,"div",0),2&e&&o.Ac("ngIf",t.showTreeContent())},directives:[r.o,_e,ue,r.q,r.r,Je,ht,r.m,Mt,Ye],styles:['.value-set-container[_ngcontent-%COMP%]{display:inline-block;width:100%;padding:0 0 1.5rem;margin-top:12px}.value-set-container[_ngcontent-%COMP%]   .dlt-form-item[_ngcontent-%COMP%]{width:352px;display:inline-block}.save-value-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.run-tree-container[_ngcontent-%COMP%]{overflow:hidden;padding:0}.run-list-container[_ngcontent-%COMP%]{border:1px solid grey;width:352px}.run-list-container-doc-list[_ngcontent-%COMP%]{border:1px solid grey;min-width:600px;height:43px}  .run-tree-container .tree-context{width:80%;position:relative}  .run-tree-container .tree-node{padding-bottom:.5rem}  .run-tree-container .showBorder:before{content:"";border-left:1px solid #e5e5e4;position:absolute;bottom:-2px;width:.75em;left:-1.46rem;top:28px}  .run-tree-container .index-border{border-left:1px solid #e5e5e4}  .run-input-control{width:500px}  input{box-shadow:none}.value-set-label[_ngcontent-%COMP%]{font-family:Roboto-Medium,Helvetica,Arial,sans-serif;line-height:16px}.test-input-label[_ngcontent-%COMP%], .value-set-label[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:left}.test-input-label[_ngcontent-%COMP%]{font-family:Roboto-Regular,Helvetica,Arial,sans-serif;line-height:20px;padding-bottom:2px}.test-input-addicon[_ngcontent-%COMP%], .test-input-deleteicon[_ngcontent-%COMP%]{font-size:1rem;display:none;cursor:pointer}.test-input-addicon[_ngcontent-%COMP%]{margin-right:8px}.node-template[_ngcontent-%COMP%]{padding:0 .5rem 0 0}.node-template[_ngcontent-%COMP%]:hover   .test-input-addicon[_ngcontent-%COMP%], .node-template[_ngcontent-%COMP%]:hover   .test-input-deleteicon[_ngcontent-%COMP%]{display:inline-block}.btn-groups[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.m-20[_ngcontent-%COMP%]{margin:0 1rem}.mr-8[_ngcontent-%COMP%]{margin-right:8px!important}.run-input-switch[_ngcontent-%COMP%]{margin:.3rem 0}.input-control[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;padding:0}.field-required[_ngcontent-%COMP%]{color:#c70039;font-weight:900}.table-container[_ngcontent-%COMP%]{transition:transform .1s;min-width:510px}.arr-action-control[_ngcontent-%COMP%]{margin-left:1rem;display:inline-block}.array-index[_ngcontent-%COMP%]{border:1px solid #979797;color:#666;font-size:12px;height:1rem;left:-5.7rem;line-height:.9rem;position:absolute;text-align:center;top:7px;width:1rem;background:#fafafa;font-weight:500}.value-set-container[_ngcontent-%COMP%]   .sc-link-color[_ngcontent-%COMP%]{color:#1776bf;font-weight:400;font-size:14px;text-align:left}.value-set-container[_ngcontent-%COMP%]   .sc-link-color[_ngcontent-%COMP%]:hover{cursor:pointer}']}),e})();const ti=["runTreeRef"],ii=["op"],ni=["pipelineDocumentInput"],ci=function(e){return{docName:e}},ai=function(){return{width:"70vw"}},si=function(){return{"overflow-x":"auto","overflow-y":"auto"}};function ri(e,t){if(1&e){const e=o.gc();o.fc(0,"div",7),o.fc(1,"div",8),o.fc(2,"div",9),o.fc(3,"div",10),o.fc(4,"div",11),o.fc(5,"h1"),o.bd(6),o.uc(7,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(8,"div",12),o.fc(9,"div",10),o.fc(10,"div",13),o.fc(11,"button",14),o.pc("click",function(){return o.Rc(e),o.tc().returnToList()}),o.ac(12,"img",15),o.uc(13,"translate"),o.fc(14,"label",16),o.bd(15),o.uc(16,"translate"),o.ec(),o.ec(),o.fc(17,"div",17),o.fc(18,"button",18),o.pc("click",function(){return o.Rc(e),o.tc().refreshDocumentDetails()}),o.uc(19,"translate"),o.uc(20,"translate"),o.ac(21,"i",19),o.ec(),o.ec(),o.fc(22,"div",20),o.fc(23,"button",21,22),o.pc("click",function(){return o.Rc(e),o.tc().onShowOverlayPanel()}),o.uc(25,"translate"),o.uc(26,"translate"),o.ac(27,"i",23),o.ec(),o.fc(28,"div",24),o.fc(29,"button",25),o.pc("click",function(){return o.Rc(e),o.tc().editDocument()})("focusout",function(t){return o.Rc(e),o.tc().opFocusLost(t)})("keydown.enter",function(){return o.Rc(e),o.tc().editDocument()}),o.uc(30,"translate"),o.bd(31),o.uc(32,"translate"),o.ec(),o.fc(33,"button",26),o.pc("click",function(){return o.Rc(e),o.tc().resubmitDocument()})("focusout",function(t){return o.Rc(e),o.tc().opFocusLost(t)})("keydown.enter",function(){return o.Rc(e),o.tc().resubmitDocument()}),o.uc(34,"translate"),o.bd(35),o.uc(36,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ac(37,"hr"),o.fc(38,"table",27),o.ac(39,"col",28),o.ac(40,"col",29),o.fc(41,"tr"),o.fc(42,"td",30),o.fc(43,"div",31),o.fc(44,"div",32),o.fc(45,"div",8),o.fc(46,"div",33),o.fc(47,"isac-lib-simple-card",34),o.uc(48,"translate"),o.ac(49,"hr",35),o.fc(50,"div",36),o.fc(51,"div",37),o.ac(52,"img",38),o.ec(),o.ec(),o.fc(53,"div",39),o.fc(54,"div",37),o.fc(55,"div",40),o.bd(56),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(57,"div",41),o.fc(58,"div",42),o.fc(59,"isac-lib-simple-card",34),o.uc(60,"translate"),o.fc(61,"table",43),o.ac(62,"col",44),o.ac(63,"col",45),o.fc(64,"tr"),o.fc(65,"td",46),o.uc(66,"translate"),o.bd(67),o.uc(68,"translate"),o.ec(),o.fc(69,"td",47),o.bd(70),o.ec(),o.ec(),o.fc(71,"tr"),o.fc(72,"td",46),o.uc(73,"translate"),o.bd(74),o.uc(75,"translate"),o.ec(),o.fc(76,"td",47),o.bd(77),o.ec(),o.ec(),o.fc(78,"tr"),o.fc(79,"td",46),o.uc(80,"translate"),o.bd(81),o.uc(82,"translate"),o.ec(),o.fc(83,"td",47),o.bd(84),o.ec(),o.ec(),o.fc(85,"tr"),o.fc(86,"td",46),o.uc(87,"translate"),o.bd(88),o.uc(89,"translate"),o.ec(),o.fc(90,"td",48),o.uc(91,"preferredDateTime"),o.bd(92),o.uc(93,"preferredDateTime"),o.ec(),o.ec(),o.fc(94,"tr"),o.fc(95,"td",46),o.uc(96,"translate"),o.bd(97),o.uc(98,"translate"),o.ec(),o.fc(99,"td",49),o.uc(100,"preferredDateTime"),o.bd(101),o.uc(102,"preferredDateTime"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(103,"div",50),o.fc(104,"div",51),o.fc(105,"div",52),o.fc(106,"isac-lib-simple-card",34),o.uc(107,"translate"),o.ac(108,"hr",35),o.fc(109,"div",39),o.fc(110,"div",53),o.fc(111,"div",54),o.bd(112),o.uc(113,"preferredDateTime"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(114,"p-dialog",55,56),o.pc("visibleChange",function(t){return o.Rc(e),o.tc().displayEditDocument=t})("onHide",function(){return o.Rc(e),o.tc().cancelDocumentEdit()}),o.fc(116,"p-header"),o.fc(117,"div",57),o.fc(118,"div",58),o.bd(119),o.uc(120,"translate"),o.ec(),o.ec(),o.ec(),o.fc(121,"service-run-input",59,60),o.pc("svcInputLoaded",function(){return o.Rc(e),o.tc().documentInputLoaded()}),o.ec(),o.fc(123,"p-footer"),o.fc(124,"div",61),o.fc(125,"button",62),o.pc("click",function(){return o.Rc(e),o.tc().cancelDocumentEdit()}),o.uc(126,"translate"),o.uc(127,"translate"),o.bd(128),o.uc(129,"translate"),o.ec(),o.fc(130,"button",63),o.pc("click",function(){return o.Rc(e),o.tc().resubmitDocument(!0)}),o.uc(131,"translate"),o.uc(132,"translate"),o.bd(133),o.uc(134,"translate"),o.ec(),o.fc(135,"button",64),o.pc("click",function(){return o.Rc(e),o.tc().saveAndCloseDocumentEdit()}),o.uc(136,"translate"),o.uc(137,"translate"),o.bd(138),o.uc(139,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec()}if(2&e){const e=o.tc();o.Lb(6),o.cd(o.wc(7,65,"monitoring.documents.document.name",o.Gc(154,ci,e.documentDetail.DOCUMENTNAME))),o.Lb(6),o.Bc("alt",o.vc(13,68,"monitoring.documents.return.to.list")),o.Lb(3),o.cd(o.vc(16,70,"monitoring.documents.return.to.list")),o.Lb(3),o.Bc("pTooltip",o.vc(19,72,"monitoring.documents.refresh.document.detail")),o.Mb("aria-label",o.vc(20,74,"monitoring.documents.refresh.document.detail")),o.Lb(5),o.Bc("pTooltip",o.vc(25,76,"monitoring.documents.document.actions")),o.Mb("aria-label",o.vc(26,78,"monitoring.documents.document.actions")),o.Lb(6),o.Mb("aria-label",o.vc(30,80,"monitoring.documents.edit.document.button")),o.Lb(2),o.dd(" ",o.vc(32,82,"monitoring.documents.edit.document.button")," "),o.Lb(2),o.Mb("aria-label",o.vc(34,84,"monitoring.documents.document.resubmit.button")),o.Lb(2),o.dd(" ",o.vc(36,86,"monitoring.documents.document.resubmit.button")," "),o.Lb(12),o.Bc("label",o.vc(48,88,"monitoring.documents.document.status")),o.Lb(5),o.Bc("src",e.getStatusImage(),o.Uc),o.Bc("alt",e.getStatusText()),o.Lb(4),o.cd(e.getStatusText()),o.Lb(3),o.Bc("label",o.vc(60,90,"monitoring.documents.document.information.section")),o.Lb(6),o.Bc("pTooltip",o.vc(66,92,"monitoring.documents.document.name1")),o.Lb(2),o.dd(" ",o.vc(68,94,"monitoring.documents.document.name1")," "),o.Lb(2),o.Bc("pTooltip",e.documentDetail.DOCUMENTNAME),o.Lb(1),o.dd(" ",e.documentDetail.DOCUMENTNAME," "),o.Lb(2),o.Bc("pTooltip",o.vc(73,96,"monitoring.documents.document.id")),o.Lb(2),o.dd(" ",o.vc(75,98,"monitoring.documents.document.id")," "),o.Lb(2),o.Bc("pTooltip",e.documentDetail.DOCUMENTID),o.Lb(1),o.dd(" ",e.documentDetail.DOCUMENTID," "),o.Lb(2),o.Bc("pTooltip",o.vc(80,100,"monitoring.documents.document.client.id")),o.Lb(2),o.dd(" ",o.vc(82,102,"monitoring.documents.document.client.id")," "),o.Lb(2),o.Bc("pTooltip",e.documentDetail.SERVERID),o.Lb(1),o.dd(" ",e.documentDetail.SERVERID," "),o.Lb(2),o.Bc("pTooltip",o.vc(87,104,"monitoring.documents.document.enqueued")),o.Lb(2),o.dd(" ",o.vc(89,106,"monitoring.documents.document.enqueued")," "),o.Lb(2),o.Bc("pTooltip",o.xc(91,108,e.documentDetail.ENQUEUETIMESTAMP,e.preferencesService,e.dateTimePreferenceService)),o.Lb(2),o.dd(" ",o.xc(93,112,e.documentDetail.ENQUEUETIMESTAMP,e.preferencesService,e.dateTimePreferenceService)," "),o.Lb(3),o.Bc("pTooltip",o.vc(96,116,"monitoring.documents.document.timestamp")),o.Lb(2),o.dd(" ",o.vc(98,118,"monitoring.documents.document.timestamp")," "),o.Lb(2),o.Bc("pTooltip",o.xc(100,120,e.documentDetail.AUDITTIMESTAMP,e.preferencesService,e.dateTimePreferenceService)),o.Lb(2),o.dd(" ",o.xc(102,124,e.documentDetail.AUDITTIMESTAMP,e.preferencesService,e.dateTimePreferenceService)," "),o.Lb(5),o.Bc("label",o.vc(107,128,"monitoring.document.lastUpdatedCol")),o.Lb(6),o.dd(" ",o.xc(113,130,e.documentDetail.AUDITTIMESTAMP,e.preferencesService,e.dateTimePreferenceService)," "),o.Lb(2),o.Wc(o.Fc(156,ai)),o.Ac("closeOnEscape",!0)("visible",e.displayEditDocument)("showHeader",!0)("draggable",!0)("resizable",!0)("modal",!0)("contentStyle",o.Fc(157,si))("focusTrap",!0)("maximizeIcon","dlt-icon-fullscreen")("minimizeIcon","dlt-icon-fullscreen-exit")("closeIcon","dlt-icon-close")("baseZIndex",1)("maximizable",!0)("blockScroll",!0)("closable",!0),o.Lb(5),o.cd(o.vc(120,134,"monitoring.documents.edit.document.button")),o.Lb(6),o.Bc("value",o.vc(127,138,"common.cancel.button.text")),o.Mb("aria-label",o.vc(126,136,"common.cancel.button.text")),o.Lb(3),o.dd(" ",o.vc(129,140,"common.cancel.button.text")," "),o.Lb(2),o.Bc("value",o.vc(132,144,"monitoring.services.service.resubmit.button")),o.Mb("aria-label",o.vc(131,142,"monitoring.services.service.resubmit.button")),o.Lb(3),o.dd(" ",o.vc(134,146,"monitoring.services.service.resubmit.button")," "),o.Lb(2),o.Bc("value",o.vc(137,150,"common.save.button.text")),o.Mb("aria-label",o.vc(136,148,"common.save.button.text")),o.Lb(3),o.dd(" ",o.vc(139,152,"common.save.button.text")," ")}}let oi=(()=>{class e{constructor(e,t,i,n,c,a,s,r,o,l){this.route=e,this.location=t,this.translate=i,this.sharedMessageService=n,this.documentAPIService=c,this.monitoringLayoutService=a,this.serviceExecutionService=s,this.router=r,this.toastr=o,this.preferencesService=l,this.homeLink="#/integration/dashboard/overview",this.documentsLink="/monitoring/documents",this.subscriptions=[],this.displayEditDocument=!1,this.subscriptions.push(e.params.subscribe(e=>{this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})),this.refreshDocumentDetails()}))}refreshDocumentDetails(){this.documentId=this.route.snapshot.paramMap.get("id"),this.monitoringLayoutService.changeNavItem(this.router.url),this.getDocumentDetails()}getDocumentDetails(){this.subscriptions.push(this.documentAPIService.getDocumentDetails(this.documentId).subscribe(e=>{const t=e=e;this.documentDetail=t.details[0],this.serviceExecutionService.setCurrentDocumentInfo(this.documentDetail.DOCUMENTNAME,this.documentId)}))}getStatusImage(){switch(this.documentDetail.STATUS){case 0:return"assets/images/monitoring/Status-Broker-v1-vec24.svg";case 4:return"assets/images/monitoring/failed.svg";case 512:return"assets/images/monitoring/Status-RetriesExceeded-round-vec25.svg";case 32768:return"assets/images/monitoring/resubmitted.svg";case 32770:return"assets/images/monitoring/Status-InDoubt-vec24.svg"}}getStatusText(){switch(this.documentDetail.STATUS){case 0:return this.translate.instant("monitoring.status.broker");case 4:return this.translate.instant("monitoring.status.failed");case 512:return this.translate.instant("monitoring.status.retries.exceeded");case 32768:return this.translate.instant("monitoring.status.resubmitted");case 32770:return this.translate.instant("monitoring.status.in.doubt")}}returnToList(){this.location.back()}editDocument(){this.op&&this.op.nativeElement.click(),this.serviceTreeAndDataLoaded?(this.displayEditDocument=!0,this.makePipelineDialogAccessible()):this.runTreeRef.populateDocumentTreeAndData(),this.serviceTreeAndDataLoaded=!0}documentInputLoaded(){this.displayEditDocument=!0,this.makePipelineDialogAccessible()}makePipelineDialogAccessible(){setTimeout(()=>{const e=document.getElementById("documentPipelineInput");j.K.makeDialogAccessible(e,this.translate.instant("common.restore.title"),this.translate.instant("common.maximize.title"),this.translate.instant("common.close.title"));const t=document.getElementById("minimizeMaximize");t&&(t.focus(),this.minMaxEvt&&t.removeEventListener("click",this.minMaxEvt),this.minMaxEvt=this.makePipelineDialogAccessible.bind(this),t.addEventListener("click",this.minMaxEvt))},200)}cancelDocumentEdit(){this.displayEditDocument=!1}saveAndCloseDocumentEdit(){this.runTreeRef.saveDocument(),this.displayEditDocument=!1,this.toastr.success(this.translate.instant("monitoring.documents.document.save.success.msg"),this.translate.instant("monitoring.documents.document.save.success.title"))}resubmitDocument(e){this.op&&!e&&this.op.nativeElement.click(),setTimeout(()=>{const e=this.runTreeRef.getDocumentForResubmit();this.subscriptions.push(this.documentAPIService.resubmitDocument(this.documentId,this.documentDetail.DOCUMENTNAME,e).subscribe(e=>{e&&e.length>0?this.toastr.error(this.translate.instant("monitoring.documents.document.resubmit.failure.msg",{errMsg:e}),this.translate.instant("monitoring.documents.document.resubmit.failure.title")):(this.runTreeRef.saveDocument(),this.displayEditDocument=!1,this.toastr.success(this.translate.instant("monitoring.documents.document.resubmit.success.msg"),this.translate.instant("monitoring.documents.document.resubmit.success.title")))}))},500)}onShowOverlayPanel(){setTimeout(()=>{const e=document.getElementById("editDocumentPipeline");e&&e.focus()},100)}opFocusLost(e){if(e&&e.target&&"resubmitDocument"===e.target.id){if(e.relatedTarget&&"editDocumentPipeline"===e.relatedTarget.id)return}else if(e&&e.target&&"editDocumentPipeline"===e.target.id&&e.relatedTarget&&"resubmitDocument"===e.relatedTarget.id)return;this.op.nativeElement.click()}goToHomePage(){this.router.navigateByUrl(this.homeLink)}goToDocumentListPage(){this.router.navigateByUrl(this.documentsLink)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(h.a),o.Zb(r.k),o.Zb(n.d),o.Zb(j.B),o.Zb(W),o.Zb(Y),o.Zb(J),o.Zb(h.f),o.Zb(Q.b),o.Zb(s.PreferencesService))},e.\u0275cmp=o.Tb({type:e,selectors:[["app-document-details"]],viewQuery:function(e,t){if(1&e&&(o.hd(ti,1),o.hd(ii,1),o.hd(ni,1)),2&e){let e;o.Oc(e=o.qc())&&(t.runTreeRef=e.first),o.Oc(e=o.qc())&&(t.op=e.first),o.Oc(e=o.qc())&&(t.pipelineInput=e.first)}},decls:16,vars:10,consts:[[1,"d-flex","flex-row"],[1,"breadcrumbs-container","flex-grow-1"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["routerLink","/monitoring/documents",1,"dlt-links"],["aria-current","page",1,"dlt-links"],["class","detailcontainer",4,"ngIf"],[1,"detailcontainer"],[1,"row"],[1,"col-md-6"],[1,"dlg-title-wrapper"],[1,"page-title"],[1,"col-md-6","text-right"],[1,"btn-container"],["id","returnToDocumentsList",1,"iconButton1",3,"click"],["src","assets/images/return-to-previous-arrow-icon24.svg",3,"alt"],[1,"lbl-return"],[1,"dlt-dropdown"],["showDelay","250",1,"dlt-button","dlt-button-icon","iconButton2",3,"pTooltip","click"],[1,"dlt-icon-refresh","dlg-icon-btn"],["ngbDropdown","","placement","bottom-right",1,"dlt-dropdown","ngbDropdown"],["ngbDropdownToggle","","id","documentActionsDropDown","showDelay","250","tabindex","0",1,"dlt-button","dlt-button-icon","hide-caret","iconButton2",3,"pTooltip","click"],["op",""],[1,"dlt-icon-more-menu","actions-menu","dlg-icon-btn"],["ngbDropdownMenu","",1,"isac-overflow-menu"],["ngbDropdownItem","","id","editDocumentPipeline","tabindex","0",3,"click","focusout","keydown.enter"],["ngbDropdownItem","","id","resubmitDocument","tabindex","0",3,"click","focusout","keydown.enter"],["id","mainTable",1,"main"],["width","100%"],["height","100%"],["valign","top","height","100%"],[1,"row","rowone"],[1,"colone"],[1,"doc-card1"],[3,"label"],[1,"hr1"],[1,"col-1"],[1,"card2"],[2,"width","36px","height","36px",3,"src","alt"],[1,"col-2"],[1,"doc-data1"],[1,"row","row-narrow"],[1,"doc-card2"],[1,"doc-info"],["width","30%"],["width","70%"],["showDelay","250","tooltipPosition","top",1,"doc-data3","doc-info",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],["id","docEnqueued","showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],["id","docTimestamp","showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],[1,"float-left","d-flex","align-items-stretch","coltwo"],[2,"width","100%"],[1,"doc-card3"],[1,"card2a"],["id","lastUpdated",1,"doc-data1a"],["id","documentPipelineInput","position","center",3,"closeOnEscape","visible","showHeader","draggable","resizable","modal","contentStyle","focusTrap","maximizeIcon","minimizeIcon","closeIcon","baseZIndex","maximizable","blockScroll","closable","visibleChange","onHide"],["pipelineDocumentInput",""],[1,"dlg-title-wrapper","doc-title-wrapper"],[1,"dlg-title-row"],[3,"svcInputLoaded"],["runTreeRef",""],[1,"dlg-footer-buttons-wrapper","doc-footer-wrapper"],["id","document_pipeline_cancel",1,"dlt-button","dlt-button-secondary","cancel-modal",3,"value","click"],["id","document_pipeline_resubmit",1,"dlt-button","dlt-button-secondary",3,"value","click"],["id","document_pipeline_save",1,"dlt-button","dlt-button-primary","save-modal","dlg-rt-btn",3,"value","click"]],template:function(e,t){1&e&&(o.fc(0,"div",0),o.fc(1,"div",1),o.fc(2,"ol",2),o.fc(3,"li"),o.fc(4,"a",3),o.bd(5),o.uc(6,"translate"),o.ec(),o.ec(),o.fc(7,"li"),o.fc(8,"a",4),o.bd(9),o.uc(10,"translate"),o.ec(),o.ec(),o.fc(11,"li"),o.fc(12,"a",5),o.bd(13),o.uc(14,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.Zc(15,ri,140,158,"div",6)),2&e&&(o.Lb(5),o.cd(o.vc(6,4,"masthead.administration")),o.Lb(4),o.cd(o.vc(10,6,"monitoring.documents.tab")),o.Lb(4),o.cd(o.vc(14,8,"monitoring.documents.document.detail.pagetitle")),o.Lb(2),o.Ac("ngIf",t.documentDetail))},directives:[h.i,r.o,ee.a,c.b,c.f,c.e,c.d,s.SimpleCardComponent,te.a,d.h,ei,d.g],pipes:[n.c,j.u],styles:['.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.7rem}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.detailcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;width:100%;padding-left:.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}table.main[_ngcontent-%COMP%]{width:"100%";height:"100%";margin-left:.46rem}.iconButton[_ngcontent-%COMP%]{font-size:1.25rem}.iconButton[_ngcontent-%COMP%], .iconButton1[_ngcontent-%COMP%]{font-weight:400;vertical-align:middle;margin-right:5px}.iconButton1[_ngcontent-%COMP%]{font-size:1.46rem;margin-top:0;margin-bottom:0;padding-right:-15px;background:none;padding-top:0;padding-bottom:2px;border:2px solid transparent;outline:none}.iconButton1[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.iconButton1[_ngcontent-%COMP%]:focus{border-color:#1776bf}.iconButton2[_ngcontent-%COMP%]{font-size:1.46rem;font-weight:400;vertical-align:middle;margin-right:7px;border:2px solid transparent;background:none;outline:none;color:#000}.iconButton2[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.lbl-return[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:1.02rem;vertical-align:middle;padding-top:0;color:#1776bf;margin:0 10px 2px 5px;cursor:pointer}.btn-container[_ngcontent-%COMP%]{width:100%;padding:0}.doc-data1[_ngcontent-%COMP%]{margin-bottom:1rem;margin-left:1rem}.doc-data1[_ngcontent-%COMP%], .doc-data1a[_ngcontent-%COMP%]{margin-top:.22rem;font-size:1.25rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap}.doc-data1a[_ngcontent-%COMP%]{margin-left:0;min-width:280px}.doc-data2[_ngcontent-%COMP%], .doc-data2a[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:1rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-data3[_ngcontent-%COMP%]{margin-left:2rem;font-weight:500}.doc-data3[_ngcontent-%COMP%], .doc-data4[_ngcontent-%COMP%]{margin-top:-.6rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap}.doc-data4[_ngcontent-%COMP%]{margin-left:0}.doc-data5[_ngcontent-%COMP%]{margin-top:-.6rem;margin-left:-2rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;color:#1d7ac1;white-space:nowrap;text-align:left}.doc-card[_ngcontent-%COMP%]{padding-bottom:2rem}.doc-card[_ngcontent-%COMP%], .doc-card1[_ngcontent-%COMP%]{padding-left:1.05rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-card1[_ngcontent-%COMP%]{padding-right:1.05rem;padding-bottom:2.12rem;min-width:500px}.doc-card2[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px}.doc-card2[_ngcontent-%COMP%], .doc-card3[_ngcontent-%COMP%]{padding-bottom:.9rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-card3[_ngcontent-%COMP%]{margin-left:0;padding-left:.1rem;min-width:300px;height:100%}.hr1[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem}.hr1a[_ngcontent-%COMP%]{margin-top:.4rem}.hr1a[_ngcontent-%COMP%], .hr1b[_ngcontent-%COMP%]{width:100%;margin-left:1rem;margin-right:1rem}.hr1b[_ngcontent-%COMP%]{margin-top:-1.6rem}.vr1[_ngcontent-%COMP%]{width:10px;size:500;position:absolute;top:0;bottom:0;left:150px}.hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem;border-top:0}.card2[_ngcontent-%COMP%]{margin-bottom:.4rem}.card2[_ngcontent-%COMP%], .card2a[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:0;font-family:Roboto,Helvetica,Arial,sans-serif}.card2a[_ngcontent-%COMP%]{margin-bottom:.55rem}.card3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;border:0 solid;margin:-.4rem .65rem .4rem}.card4[_ngcontent-%COMP%], .card5[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:-2rem;font-family:Roboto,Helvetica,Arial,sans-serif}.card5[_ngcontent-%COMP%]{margin-bottom:1rem}table.doc-info[_ngcontent-%COMP%]{width:100%;margin:.4rem 1.65rem 1.5rem;border:none;border-collapse:collapse}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #e5e5e5}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}.row-narrow[_ngcontent-%COMP%]{margin-top:-20px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.actions-menu[_ngcontent-%COMP%]:before{font-size:1.31rem!important;font-weight:800!important;line-height:16px;width:18px;height:18px;margin-top:4px;padding-left:2px}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin-left:0}.colone[_ngcontent-%COMP%]{padding-right:10px}.colone[_ngcontent-%COMP%], .coltwo[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-right:.6rem}.coltwo[_ngcontent-%COMP%]{padding-right:11px}.doc-title-wrapper[_ngcontent-%COMP%]{margin-top:4px}.doc-footer-wrapper[_ngcontent-%COMP%]{margin-right:.1rem;margin-top:1rem}  .dlt-icon-fullscreen:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}  .dlt-icon-fullscreen-exit:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}']}),e})(),li=(()=>{class e{constructor(){this.fullScreenTable=!1,this._documentSearchQuery=null}get timeRange(){return this._timeRange}set timeRange(e){this._timeRange=e}get tableFilters(){return this._tableFilters}set tableFilters(e){this._tableFilters=e}get basicSearchFilters(){return this._basicSearchFilters}set basicSearchFilters(e){this._basicSearchFilters=e}get documentSearchQuery(){return this._documentSearchQuery}set documentSearchQuery(e){this._documentSearchQuery=e}get refreshInterval(){return this._refreshInterval}set refreshInterval(e){this._refreshInterval=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),di=(()=>{class e{static getBasicSearchFields(e){return{typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:e,value:null,nullable:!0},documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0}}}static getDefaultBasicSearchTableFilters(e){return[{filterBy:"typeSet",filterValue:null,label:"monitoring.document.typeColumn",type:"multiSelect",options:e},{filterBy:"documentName",filterValue:null,label:"monitoring.document.documentNameCol",type:"text",nullable:!0}]}static getAdvancedSearchBuilderConfig(){return{searchFields:{documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0},documentID:{name:"documentID",label:"monitoring.document.docIdCol",type:"text",nullable:!0},clientID:{name:"clientID",label:"monitoring.document.serverIdCol",type:"text",nullable:!0},typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:null,value:null,nullable:!0}}}}static getAllSearchFields(){return{documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0},documentID:{name:"documentID",label:"monitoring.document.docIdCol",type:"text",nullable:!0},clientID:{name:"clientID",label:"monitoring.document.serverIdCol",type:"text",nullable:!0},typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:null,value:null,nullable:!0}}}static getSearchField(t){return e.getAllSearchFields()[t]}}return e.statusOptions=[{label:"monitoring.services.service.status.completed",value:"completed"},{label:"monitoring.services.service.status.failed",value:"failed"},{label:"monitoring.services.service.status.started",value:"started"},{label:"monitoring.services.service.status.resubmitted",value:"resubmitted"}],e})();var ui=i("VphZ");const hi=["acPaiChart"];function pi(e,t){1&e&&(o.fc(0,"div",3),o.bd(1," NO CHART DATA\n"),o.ec())}let gi=(()=>{class e{constructor(e){this.translate=e,this.pieItemClicked=new o.p,this.sum=0,this.displaytext=!0}ngOnInit(){this.margin={top:15,right:5,bottom:15,left:5}}ngAfterViewInit(){this.data&&this.piechart()}piechart(){this.host=this.element.nativeElement,this.setDimentions();const e=this.width,t=this.height,i=this.radius;this.sum=ui.sum(this.data.map(function(e){return e.value}));let n=!1;this.displaytext=!1;let c=0;for(let p=0;p<this.data.length;p++)this.data[p].value>0&&(c+=1);c<=2&&(n=!0,this.displaytext=!0),ui.scaleOrdinal(ui.schemeCategory10);const a=ui.select(this.host).append("svg").attr("width",this.widthPercent+"%").attr("height",this.heightPercent+"%").attr("viewBox","-10 -10 "+(e+20)+" "+(t+10)).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate("+e/2+","+t/2+")");let s=ui.arc().outerRadius(i);s=s.innerRadius(n?i-20:0);const r=ui.arc().innerRadius(n?i-20:0).outerRadius(i+10),o=ui.pie().value(function(e,t){const i=e.value;return i>0&&i/d.sum*100<1?d.sum/100:i}).sort(null),l=ui.select(this.host).append("div").attr("class","tooltip");l.append("span").attr("class","statusRect"),l.append("span").attr("class","label"),l.append("span").attr("class","count"),l.append("div").attr("class","percent"),l.style("display","none");const d=this,u=o(this.data),h=c>1?"#fff":"#ffffff00";if(a.selectAll("path").data(u).enter().append("path").attr("role","presentation").attr("class","arc").attr("d",s).attr("tabindex",0).attr("stroke",h).attr("stroke-width",1).attr("fill",function(e,t){return e.data.color}).on("click",function(e,t,i){d.handleClick(t)}).on("keydown",function(e,t){13===e.keyCode&&d.handleClick(t)}).on("focus",function(e,t){ui.select(this).attr("stroke","#1776BF")}).on("blur",function(e,t,i){ui.select(this).attr("stroke",h)}).on("mouseover",function(e,t,i){const n=Math.round(1e3*t.data.value/d.sum)/10;l.select(".label").html(d.getTranslatedString(t.data.displayLabel)).style("color","black"),l.select(".count").html(t.data.value),l.select(".percent").html(n+"%"),l.select(".statusRect").style("background-color",t.data.color),l.style("display","block"),l.style("opacity",1),ui.select(this).style("cursor","pointer"),ui.select(this).transition().duration(500).attr("d",r)}).on("mouseout",function(e,t,i){ui.select(this).style("cursor","default"),ui.select(this).style("fill",t.data.color),l.style("display","none"),l.style("opacity",0),ui.select(this).transition().duration(500).attr("d",s)}).on("mousemove",function(e,t){l.style("top",e.layerY+10+"px").style("left",e.layerX-25+"px")}).transition().delay(10).duration(500).attrTween("d",function(e,t){if(0===t){const t=ui.interpolate(0,e.endAngle);return function(i){return e.endAngle=t(i),s(e)}}}),this.displaytext){const e=this.getCenterTextValue()[0],t=0,i="black";a.append("text").attr("text-anchor","middle").attr("fill",i).style("font","1.2em Roboto").attr("y",t).text(e),0!==this.sum&&a.append("text").attr("text-anchor","middle").attr("fill",i).attr("font-size","1em").attr("y",15).text(this.getTranslatedString(this.getCenterTextValue()[1]))}}handleClick(e){this.pieItemClicked.emit(e.data)}setDimentions(){this.width=parseInt(ui.select(this.element.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(ui.select(this.element.nativeElement).style("height")),this.widthPercent||(this.widthPercent=100),this.heightPercent||(this.heightPercent=100),this.radius=Math.min(this.width,this.height)/2}getCenterTextValue(){const e=this.sum;let t,i;if(e>0)for(let n=0;n<this.data.length;n++)this.data[n].value>0&&(!t||t<this.data[n].value)&&(t=this.data[n].value,i=this.getTranslatedString(this.data[n].displayLabel));return t?[(t/e*100).toFixed(2)+"%",i]:["",""]}getTranslatedString(e){return this.translate.instant(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(n.d))},e.\u0275cmp=o.Tb({type:e,selectors:[["d3-donut-chart"]],viewQuery:function(e,t){if(1&e&&o.hd(hi,1),2&e){let e;o.Oc(e=o.qc())&&(t.element=e.first)}},inputs:{data:"data",heightInput:"heightInput",widthPercent:"widthPercent",heightPercent:"heightPercent"},outputs:{pieItemClicked:"pieItemClicked"},decls:3,vars:3,consts:[[1,"donut"],["acPaiChart",""],["class","loadingMessageFrame loadingMessage",4,"ngIf"],[1,"loadingMessageFrame","loadingMessage"]],template:function(e,t){1&e&&(o.ac(0,"div",0,1),o.Zc(2,pi,2,0,"div",2)),2&e&&(o.Xc("height",t.heightInput),o.Lb(2),o.Ac("ngIf",!t.data))},directives:[r.o],styles:[".donut[_ngcontent-%COMP%]{width:100%;height:200px;vertical-align:middle;overflow:hidden}  .tooltip{background:#fff!important;box-shadow:0 0 0 #999!important;border:1px solid #999!important;color:#333;font-size:12px;left:130px;padding:10px;position:absolute;text-align:left;top:95px;width:200px;display:block;opacity:0;background-clip:padding-box!important}  .label{padding-right:10px;padding-left:15px;text-align:center}  .count{text-align:center;padding-right:10px}  .statusRect{width:10px!important;height:10px!important;background-color:blue;position:absolute;top:15px}.loadingMessage[_ngcontent-%COMP%]{text-align:center}.loadingMessageFrame[_ngcontent-%COMP%]{padding-bottom:11.7%;padding-top:11.7%}  .arc:focus{outline:none}"]}),e})();const mi=["myChartLegend"],fi=["myChartLegendWrapper"];let bi=(()=>{class e{constructor(e){this.translate=e,this.legendItemClicked=new o.p,this.rectSize=12,this.padding=6}ngOnInit(){}ngAfterViewInit(){this.margin={top:0,right:0,bottom:0,left:0},this.width=parseInt(ui.select(this.myChartLegendWrapper.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(ui.select(this.myChartLegendWrapper.nativeElement).style("height"))-this.margin.top-this.margin.bottom,this.data&&this.renderLegends()}renderLegends(){const e=this,t=e.calculateCenterAlignedYPosition();ui.select("this.myChartLegendWrapper.nativeElement").selectAll("*").remove();const i=ui.select(this.myChartLegendWrapper.nativeElement).append("svg").attr("class","legendsvg").attr("width","100%").attr("height","100%").attr("display","block").style("overflow","visible").attr("viewBox","0 0 "+this.width+" "+this.height).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("class","legend").attr("transform","translate(0,"+t+")"),n=this.rectSize;i.selectAll("rect").data(this.data).enter().append("circle").attr("tabindex",0).attr("r",n/2).attr("cx",6).attr("cy",(t,i)=>1+n/2+i*(n+e.padding)).style("fill",(e,t)=>e.color).style("cursor","pointer").on("click",(t,i)=>{e.onClick(i)}).on("keydown",(t,i)=>{13===t.keyCode&&e.onClick(i)}),i.selectAll("text").data(this.data).enter().append("text").attr("tabindex",0).text((t,i)=>e.getTranslatedString(t.displayValue)).attr("x",6+1.2*n).attr("y",(t,i)=>1+n/2+i*(n+e.padding)).style("font","1.0em Roboto").style("alignment-baseline","middle").style("cursor","pointer").on("click",(t,i)=>{e.onClick(i)}).on("keydown",(t,i)=>{13===t.keyCode&&e.onClick(i)}),i.selectAll(".legend").data(e.data).enter().append("g").attr("class","count").append("text").attr("tabindex",0).text((e,t)=>{let i=" 0";return e.count&&(i=" "+e.count),i}).attr("x",e.getMaxTextWidth()+6+1.2*n).attr("y",(t,i)=>1+n/2+i*(n+e.padding)).style("font","1.0em Roboto").style("alignment-baseline","middle").style("cursor","pointer").on("click",(t,i)=>{e.onClick(i)}).on("keydown",(t,i)=>{13===t.keyCode&&e.onClick(i)})}calculateCenterAlignedYPosition(){let e=80;return this.data.length>0&&(e=this.data.length*(this.rectSize+this.padding)),(this.height-e)/2}onClick(e){this.legendItemClicked.emit({label:e.key})}getTranslatedString(e){return this.translate.instant(e)}getMaxTextWidth(){let e=12,t="Resubmitted";return this.data.forEach(i=>{const n=this.getTranslatedString(i.displayValue);n&&n.length>e&&(e=e,t=n)}),this.getTextWidth(t)+5}getTextWidth(e){if(!ui)return 12;const t=ui.select("body").append("svg");t.append("text").attr("x",-99999).attr("y",-99999).style("font","1.0em Roboto").text(e);const i=t.node().getBBox();return t.remove(),i.width}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(n.d))},e.\u0275cmp=o.Tb({type:e,selectors:[["app-chart-legend"]],viewQuery:function(e,t){if(1&e&&(o.hd(mi,1),o.hd(fi,1)),2&e){let e;o.Oc(e=o.qc())&&(t.myChartLegend=e.first),o.Oc(e=o.qc())&&(t.myChartLegendWrapper=e.first)}},inputs:{data:"data",heightInput:"heightInput"},outputs:{legendItemClicked:"legendItemClicked"},decls:2,vars:2,consts:[[1,"legendWrapper"],["myChartLegendWrapper",""]],template:function(e,t){1&e&&o.ac(0,"div",0,1),2&e&&o.Xc("height",t.heightInput)},styles:[".legendWrapper[_ngcontent-%COMP%]{width:100%;display:flex;vertical-align:middle}.legendsvg[_ngcontent-%COMP%]{display:block}"]}),e})();var vi=i("XoFe");const yi=["acBarChart"];let Ci=(()=>{class e{constructor(e,t,i){this.dateTimeService=e,this.translate=t,this.d3HelperService=i,this.margin={top:20,bottom:20,left:20,right:20},this.isLocalizationResourcesLoaded=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.translate.get("common.calendar.periods").subscribe(()=>{this.isLocalizationResourcesLoaded=!0}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}ngAfterViewInit(){this.margin={top:10,right:10,bottom:10,left:10},this.width=parseInt(ui.select(this.element.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(ui.select(this.element.nativeElement).style("height"))-this.margin.top-this.margin.bottom,this.renderChart()}initialize(){this.originalInputData=this.data,this.nativeElementRef=this.element.nativeElement,this.chartId="chart"+this.chartno,this.padding={top:10,right:10,bottom:10,left:10},this.svg=ui.select(this.nativeElementRef).append("svg").attr("width","100%").attr("height","100%").attr("display","block").style("overflow","visible").attr("viewBox"," 0 0 "+this.width+" "+this.height).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("id",this.chartId).attr("transform","translate(0,0)")}renderChart(){if(this.data){this.columns=new Array,this.barColors=new Array;for(let e=0;e<this.columnKeyColorArray.length;e++){const t=this.columnKeyColorArray[e];this.columns.push(t.key),this.barColors.push(t.color)}this.initialize(),this.updatechart(this.originalInputData)}}ngOnChanges(e){const t=e.data;t&&t.currentValue&&this.svg&&(this.originalInputData=t.currentValue,this.updatechart(this.originalInputData))}updateLegendTextForDayAndMonth(){this.chartXAxisTitle||(this.chartXAxisTitle=this.translate.instant("common.chart.label.time.duration.weeks",[this.dateTimeService.converUTCTimeStampToLocalDateFormatString(this.startDate),this.dateTimeService.converUTCTimeStampToLocalDateFormatString(this.endDate)])),this.svg.append("text").attr("class","legendtext"+this.chartno).style("font","1em Roboto").style("font-weight","500").attr("fill","#808080").attr("text-anchor","middle").attr("x",this.width/2).attr("y",this.height).text(this.chartXAxisTitle).attr("dy","2em")}updatechart(e){const t=this;if(this.chartId="#"+this.chartId+" > g ",ui.selectAll(this.chartId).remove(),!e&&0==e.length)return;const i=this.columns,n=ui.stack().keys(i)(e),c=ui.max(n,e=>ui.max(e,e=>e[0]+e[1]));this.startDate=e[0].startTime,this.endDate=e[e.length-1].endTime;let a=e.length>12?14*e.length:20*e.length;a>=this.width-40&&(a=this.width-40);const r=ui.scaleTime().domain([this.startDate,this.endDate]).rangeRound([20,this.width-40]);this.svg.append("g").attr("class","x_axis").style("font",".85em Roboto").style("color","#616161").style("font-weight","400").attr("transform","translate(0,"+(t.height-20)+")").call(ui.axisBottom(r).tickPadding(5).tickFormat(function(e){return t.d3HelperService.multiFormat(e)}).tickSizeInner(2).tickSizeOuter(5)).select(".domain").style("fill","none").style("stroke","rgb(204,204,204)").style("shape-rendering","crispEdges");const o=ui.scaleLinear().domain([0,c]).range([this.height-this.margin.bottom-this.margin.top,0]),l=ui.scaleOrdinal().domain(i).range(this.barColors),d=this.svg.append("g").selectAll("g").data(n).enter().append("g").attr("fill",e=>l(e.key)).style("fill",(e,t)=>l(e.key)),u=d.selectAll("rect").data(e=>e).enter().append("rect").attr("x",e=>r(e.data.startTime)).attr("y",e=>o(e[1])).attr("height",e=>o(e[0])-o(e[1])).attr("width",15);d.data(n),u.data(function(e,t){return this.tootltipstatus="Completed Successfully ",this.tooltipcolor=s.COLOR_HEX.SUCCESS,1===t&&(this.tooltipstatus="Failed ",this.tooltipcolor="red"),e}),d.selectAll("rect").on("mousemove",function(e,i,n){const c=ui.select(this.parentNode);this.xPosition=vi.a(e,this)[0]+15,this.yPosition=vi.a(e,this)[1]-25,h.attr("transform",this.xPosition>t.width-200?this.yPosition<0?" translate("+(this.xPosition-220)+","+(this.yPosition+50)+")":" translate("+(this.xPosition-220)+","+(this.yPosition-50)+")":" translate("+this.xPosition+","+this.yPosition+")"),h.select("text.y0"),h.select("text.y1"),h.select("rect.legend").style("fill",c.attr("fill")),this.tooltipstatus=t.getTooltipStatus(c.attr("fill")),h.select("text.legend").text(this.tooltipstatus+t.getTooltipCount(c.attr("fill"),i)),h.select("text.y0").text(t.dateTimeService.converUTCTimeStampToLocalDateFormatString(i.data.startTime)+" - "),h.select("text.y1").text(t.dateTimeService.converUTCTimeStampToLocalDateFormatString(i.data.endTime))}).on("mouseover",e=>{this.tooltipstatus=!0,h.style("display","inline"),h.style("position","absolute")}).on("mouseout",e=>{h.style("display","none"),this.tooltipstatus=!1});const h=this.createTooptip();this.updateLegendTextForDayAndMonth()}createTooptip(){const e=this.svg.append("g").attr("class","tip").style("display","none");return e.append("rect").attr("width",200).attr("height",80).attr("fill","white").attr("stroke","#999999").attr("stroke-width",.5).style("opacity",1),e.append("rect").attr("class","legend").attr("x",10).attr("y","2em").attr("width",12).attr("height",12).attr("transform",(e,t)=>"translate( 1, -13)").style("fill","grey"),e.append("text").attr("class","legend").attr("x",26).attr("y","2em").attr("font-size","12px").style("text-anchor","start").text("Failed"),e.append("text").attr("class","y0").attr("x",10).attr("dy","4em").style("text-anchor","left").attr("font-size","12px").attr("font-color","white").text(""),e.append("text").attr("class","y1").attr("x",10).attr("dy","5.5em").style("text-anchor","left").attr("font-size","12px").attr("font-color","white").text(""),e}getTooltipStatus(e){for(let t=0;t<this.columnKeyColorArray.length;t++){const i=this.columnKeyColorArray[t];if(i.color===e)return this.translate.instant(i.displayValue)+" "}}getTooltipCount(e,t){for(let i=0;i<this.columnKeyColorArray.length;i++){const n=this.columnKeyColorArray[i];if(n.color===e)return t.data.hasOwnProperty(n.key+"Original")?t.data[n.key+"Original"]:t.data[n.key]}return 0}getTranslatedString(e){return this.translate.instant(e)}getTextWidth(e){if(!ui)return 100;const t=ui.select("body").append("svg");t.append("text").attr("x",-99999).attr("y",-99999).style("font","500 1em Roboto").text(e);const i=t.node().getBBox();return t.remove(),i.width}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(s.DateTimeService),o.Zb(n.d),o.Zb(s.D3HelperService))},e.\u0275cmp=o.Tb({type:e,selectors:[["ac-d3-stacked-bar-chart"]],viewQuery:function(e,t){if(1&e&&o.hd(yi,1),2&e){let e;o.Oc(e=o.qc())&&(t.element=e.first)}},inputs:{data:"data",chartno:"chartno",heightInput:"heightInput",columnKeyColorArray:"columnKeyColorArray",chartXAxisTitle:"chartXAxisTitle"},features:[o.Jb],decls:2,vars:2,consts:[[1,"acbarchart"],["acBarChart",""]],template:function(e,t){1&e&&o.ac(0,"div",0,1),2&e&&o.Xc("height",t.heightInput)},styles:[".acbarchart[_ngcontent-%COMP%]{width:100%;height:200px}.tip[_ngcontent-%COMP%]{background:#fff!important;box-shadow:0 0 5px #999!important;font-size:12px;text-align:left;color:#333}"]}),e})();var Si=i("fo5N"),xi=i("ZRSf");const Li=["searchInputs"];function wi(e,t){if(1&e&&(o.fc(0,"option",20),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=t.$implicit,i=o.tc(3);o.Ac("ngValue",e.name)("disabled",i.disableFieldItem(e)),o.Lb(1),o.dd(" ",o.vc(2,3,e.label)," ")}}function Ti(e,t){if(1&e){const e=o.gc();o.fc(0,"p-autoComplete",21),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc().$implicit.value=t})("completeMethod",function(t){return o.Rc(e),o.tc(3).filterServices(t)})("ngModelChange",function(){return o.Rc(e),o.tc(3).changeInput()}),o.uc(1,"translate"),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Ac("ngModel",e.value)("suggestions",t.filterServicesSingle)("size",45)("minLength",1),o.Mb("aria-label",o.vc(1,5,"common.filters.enter.service.name"))}}function Ii(e,t){if(1&e){const e=o.gc();o.fc(0,"input",22,23),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc().$implicit.value=t})("ngModelChange",function(){return o.Rc(e),o.tc(3).changeInput()}),o.uc(2,"translate"),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Ac("ngModel",e.value)("disabled",t.disabled),o.Mb("aria-label",o.vc(2,3,"common.filters.enter.value"))}}function Mi(e,t){if(1&e){const e=o.gc();o.fc(0,"input",24),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc().$implicit.value=t})("ngModelChange",function(){return o.Rc(e),o.tc(3).changeInput()}),o.uc(1,"translate"),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Ac("ngModel",e.value)("disabled",t.disabled),o.Mb("aria-label",o.vc(1,3,"common.filters.enter.value"))}}function Oi(e,t){if(1&e){const e=o.gc();o.fc(0,"input",25),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc().$implicit.value=t})("ngModelChange",function(){return o.Rc(e),o.tc(3).changeInput()}),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Ac("ngModel",e.value)("disabled",t.disabled)}}function _i(e,t){if(1&e){const e=o.gc();o.fc(0,"input",26),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc().$implicit.value=t})("ngModelChange",function(){return o.Rc(e),o.tc(3).changeInput()}),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Ac("ngModel",e.value)("disabled",t.disabled)}}function Di(e,t){if(1&e&&(o.fc(0,"option",29),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=t.$implicit;o.Ac("ngValue",e.value),o.Lb(1),o.dd(" ",o.vc(2,2,e.label)," ")}}function Pi(e,t){if(1&e){const e=o.gc();o.fc(0,"select",27),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc().$implicit.value=t})("ngModelChange",function(){return o.Rc(e),o.tc(3).changeInput()}),o.uc(1,"translate"),o.Zc(2,Di,3,4,"option",28),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Ac("ngModel",e.value)("disabled",t.disabled),o.Mb("aria-label",o.vc(1,4,"common.filters.enter.value")),o.Lb(2),o.Ac("ngForOf",t.getOptions(e.field))}}function Ai(e,t){if(1&e&&(o.fc(0,"option",29),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=t.$implicit;o.Ac("ngValue",e.value),o.Lb(1),o.dd(" ",o.vc(2,2,e.label)," ")}}function ki(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"select",30),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc().$implicit.value=t})("ngModelChange",function(){return o.Rc(e),o.tc(3).changeInput()}),o.Zc(2,Ai,3,4,"option",28),o.ec(),o.cc()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Lb(1),o.Ac("ngModel",e.value)("disabled",t.disabled),o.Lb(1),o.Ac("ngForOf",t.getOptions(e.field))}}function Ri(e,t){if(1&e){const e=o.gc();o.fc(0,"input",31),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc().$implicit.value=t})("ngModelChange",function(){return o.Rc(e),o.tc(3).changeInput()}),o.ec()}if(2&e){const e=o.tc().$implicit,t=o.tc(2);o.Ac("ngModel",e.value)("disabled",t.disabled)}}function Ei(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",3),o.fc(2,"div",4),o.fc(3,"select",5),o.pc("ngModelChange",function(e){return t.$implicit.field=e})("ngModelChange",function(i){o.Rc(e);const n=t.$implicit;return o.tc(2).changeField(i,n)}),o.uc(4,"translate"),o.Zc(5,wi,3,5,"option",6),o.ec(),o.ec(),o.fc(6,"div",7),o.Zc(7,Ti,2,7,"p-autoComplete",8),o.Zc(8,Ii,3,5,"input",9),o.Zc(9,Mi,2,5,"input",10),o.Zc(10,Oi,1,2,"input",11),o.Zc(11,_i,1,2,"input",12),o.Zc(12,Pi,3,6,"select",13),o.Zc(13,ki,3,3,"ng-container",14),o.Zc(14,Ri,1,2,"input",15),o.ec(),o.fc(15,"div",16),o.fc(16,"button",17),o.pc("click",function(){o.Rc(e);const i=t.$implicit;return o.tc(2).addSearchTerm(i)}),o.uc(17,"translate"),o.uc(18,"translate"),o.ac(19,"i",18),o.ec(),o.ec(),o.fc(20,"div",16),o.fc(21,"button",17),o.pc("click",function(){o.Rc(e);const i=t.$implicit;return o.tc(2).removeSearchTerm(i)}),o.uc(22,"translate"),o.uc(23,"translate"),o.ac(24,"i",19),o.ec(),o.ec(),o.ec(),o.cc()}if(2&e){const e=t.$implicit,i=t.index,n=o.tc(2);o.Lb(3),o.Ac("ngModel",e.field)("disabled",n.disabled),o.Mb("aria-label",o.vc(4,19,"common.filters.select.element")),o.Lb(2),o.Ac("ngForOf",n.fields),o.Lb(1),o.Ac("ngSwitch",n.getInputType(e,i)),o.Lb(1),o.Ac("ngSwitchCase","serviceAutoComplete"),o.Lb(1),o.Ac("ngSwitchCase","text"),o.Lb(1),o.Ac("ngSwitchCase","number"),o.Lb(1),o.Ac("ngSwitchCase","date"),o.Lb(1),o.Ac("ngSwitchCase","time"),o.Lb(1),o.Ac("ngSwitchCase","category"),o.Lb(1),o.Ac("ngSwitchCase","multiselect"),o.Lb(1),o.Ac("ngSwitchCase","boolean"),o.Lb(2),o.Bc("pTooltip",o.vc(17,21,"common.filters.add.search.term")),o.Ac("disabled",n.data.searchTerms.length==n.fields.length),o.Mb("aria-label",o.vc(18,23,"common.filters.add.search.term")),o.Lb(5),o.Bc("pTooltip",o.vc(22,25,"common.filters.remove.search.term")),o.Ac("disabled",n.data.searchTerms.length<=1),o.Mb("aria-label",o.vc(23,27,"common.filters.remove.search.term"))}}function Fi(e,t){if(1&e&&(o.fc(0,"div",1),o.Zc(1,Ei,25,29,"ng-container",2),o.ec()),2&e){const e=o.tc();o.Lb(1),o.Ac("ngForOf",e.data.searchTerms)}}let Bi=(()=>{class e{constructor(e,t,i,n,c){this.changeDetectorRef=e,this.servicesDashboardService=t,this.translate=i,this.sharedMessageService=n,this.toastr=c,this.data={searchTerms:[]},this.config={searchFields:{}},this.markDirty=new o.p,this.defaultEmptyList=[],this.subscriptions=[],this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}))}ngOnInit(){this.fields=Object.keys(this.config.searchFields).map(e=>{const t=this.config.searchFields[e];return t.value=t.value||e,t})}getInputType(e,t){if(!e)return"string";{const t=this.getSearchTermForName(e.field);if(!0===t.isISService)return"serviceAutoComplete";if(!0===t.isISDocument)return"documentAutoComplete";{const e=this.getField(t.name);if(e)return e.type}}}getSearchTermForName(e){return e&&this.config&&this.config.searchFields&&Object.keys(this.config.searchFields).length>0?this.config.searchFields[e]:null}getOptions(e){return this.config.getOptions?this.config.getOptions(e):this.config.searchFields[e].options||this.defaultEmptyList}getField(e){return this.config.searchFields[e]}addSearchTerm(e){if(this.disabled)return;const t=this.getNextAvailableSearchField();t&&(this.data.searchTerms=this.data.searchTerms.concat([{field:t?t.name:null,value:null}])),this.handleDataChange()}removeSearchTerm(e){if(this.disabled)return;const t=this.data;t.searchTerms=t.searchTerms.filter(t=>t!==e),this.handleDataChange()}getDefaultValue(e){switch(typeof e){case"function":return e();default:return e}}changeInput(){this.disabled||this.handleDataChange()}changeField(e,t){this.disabled||(this.handleDataChange(),e.stopPropagation&&e.stopPropagation())}calculateFieldChangeValue(e,t,i){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(e,t,i):t&&void 0!==t.defaultValue?this.getDefaultValue(t.defaultValue):void 0}disableFieldItem(e){return this.isFieldInUse(e.name)}getFields(){const e=[];for(let t=0;t<this.fields.length;t++){const i=this.fields[t];console.log("*******Field"),this.isFieldInUse(i.name)||e.push({label:i.label,value:i.name})}return e}isFieldInUse(e){for(let t=0;t<this.data.searchTerms.length;t++)if(this.data.searchTerms[t].field===e)return!0;return!1}getNextAvailableSearchField(){for(let e=0;e<this.fields.length;e++){const t=this.fields[e];if(!this.isFieldInUse(t.name))return t}return null}setFocus(){this.makeComponentsAccessible(),this.searchInputs&&this.searchInputs.length>0&&this.searchInputs.first&&this.searchInputs.first.nativeElement&&this.searchInputs.first.nativeElement.focus()}get value(){return this.data}set value(e){this.data=e||{searchTerms:[]},this.handleDataChange()}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=()=>e(this.data)}setDisabledState(e){this.disabled=e,this.changeDetectorRef.detectChanges()}validate(e){const t={},i=[];let n=!1;return this.validateSearchTerms(this.data,i),i.length&&(t.rules=i,n=!0),n?t:null}filterServices(e){const t=e.query;this.changeInput(),this.subscriptions.push(this.servicesDashboardService.getServicesForName(null,t).subscribe(e=>{e&&e.services&&(this.filterServicesSingle=e.services)},e=>{const t=Object(j.L)(e,this.translate);this.toastr.error(t)}))}validateSearchTerms(e,t){e&&e.searchTerms&&e.searchTerms.length>0&&e.searchTerms.forEach(i=>{if(i.field){const n=this.config.searchFields[i.field];if(n&&n.validator&&n.validator.apply){const c=n.validator(i,e);null!=c&&t.push(c)}}})}makeComponentsAccessible(){setTimeout(()=>{let e=document.getElementsByTagName("p-autoComplete")[0];if(e){j.K.makeAutoCompleteAccessible(e,this.translate.instant("common.filters.enter.service.name"));const n=e.children;for(var t=0;t<n.length;t++){const e=n[t].children;for(var i=0;i<e.length;i++){const t=e[i];if("INPUT"===t.tagName.toUpperCase())return void t.focus()}}}},100)}handleDataChange(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback(),this.markDirty.emit("changed")}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(o.h),o.Zb(s.IServiceDashboard),o.Zb(n.d),o.Zb(j.B),o.Zb(Q.b))},e.\u0275cmp=o.Tb({type:e,selectors:[["ac-search-builder"]],viewQuery:function(e,t){if(1&e&&o.hd(Li,1),2&e){let e;o.Oc(e=o.qc())&&(t.searchInputs=e)}},inputs:{disabled:"disabled",data:"data",config:"config",parentChangeCallback:"parentChangeCallback",value:"value"},outputs:{markDirty:"markDirty"},decls:1,vars:1,consts:[["class","searchbuilder",4,"ngIf"],[1,"searchbuilder"],[4,"ngFor","ngForOf"],[1,"row",2,"padding","7px","margin-left","0","margin-right","0"],[1,"select-arrow-icon"],["tabindex","0",1,"",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"dlt-form-item","padding-right-5",3,"ngSwitch"],["id","autoCompleteSearch","inputStyleClass","dlt-text-input","panelStyleClass","autoCompleteOverLay","autofocus","",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod",4,"ngSwitchCase"],["type","text","class","dlt-text-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number","class","dlt-number-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date","class","dlt-date-picker","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time","class","dlt-time-picker","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["class","dlt-select-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[1,""],["tabindex","0","showDelay","250",1,"plusminus",3,"disabled","pTooltip","click"],[1,"dlt-icon-plus-circle","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-minus-circle","dlg-icon-btn","dlt-icon"],["tabindex","0",3,"ngValue","disabled"],["id","autoCompleteSearch","inputStyleClass","dlt-text-input","panelStyleClass","autoCompleteOverLay","autofocus","",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod"],["type","text","autofocus","","tabindex","0",1,"dlt-text-input",3,"ngModel","disabled","ngModelChange"],["searchInputs",""],["type","number","autofocus","","tabindex","0",1,"dlt-number-input",3,"ngModel","disabled","ngModelChange"],["type","date","autofocus","","tabindex","0",1,"dlt-date-picker",3,"ngModel","disabled","ngModelChange"],["type","time","autofocus","","tabindex","0",1,"dlt-time-picker",3,"ngModel","disabled","ngModelChange"],["autofocus","","tabindex","0",1,"dlt-select-input",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue",4,"ngFor","ngForOf"],["tabindex","0",3,"ngValue"],["multiple","",3,"ngModel","disabled","ngModelChange"],["type","checkbox","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&o.Zc(0,Fi,2,1,"div",0),2&e&&o.Ac("ngIf",t.data&&t.data.searchTerms)},directives:[r.o,r.n,Pe.x,Pe.n,Pe.q,r.q,r.r,ee.a,Pe.r,Pe.B,z.a,Pe.c,Pe.s,Pe.y,Pe.a],pipes:[n.c],styles:["ul[_ngcontent-%COMP%]{list-style:none;margin:0;overflow:hidden;padding:0}li[_ngcontent-%COMP%]{padding:7px}.searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:400;font-size:.875rem;display:block;width:100%;line-height:1.5rem;height:1.5rem;padding:0 .5rem;color:#333;background-color:#fff;border-radius:0;border:1px solid gray}.searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:enabled, .searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:enabled:not(:focus){border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px;border-radius:0}  .p-dropdown-item-disabled{opacity:.3;cursor:not-allowed}.searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:.875rem;width:100%;height:1.5rem;line-height:1.5rem;padding:0 5px 0 .5rem;color:#333;border-radius:0;border:1px solid gray;display:block;background-color:#fff;margin:0 20px 0 0;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover:enabled, .searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px}.select-arrow-icon[_ngcontent-%COMP%]:after{line-height:1.5rem}.searchbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400;height:1.5rem;line-height:1.5rem;vertical-align:middle;border:none;outline:none;background-color:#fff}.searchbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:enabled{color:var(--wmio-primary-color,#1776bf)}.plusminus[_ngcontent-%COMP%]:focus{border:1px solid #1776bf!important;outline:1px solid #1776bf!important;box-shadow:none!important;outline-offset:-2px}.autocomplete-input[_ngcontent-%COMP%],   .p-autocomplete .p-autocomplete-input{height:1.5rem!important;line-height:1.5rem!important;padding:0 .5rem!important;padding-right:5px;border-radius:0}  .autoCompleteOverLay{max-width:400px!important;max-height:80px!important}"]}),e})();var Ni=i("MEzG");const Vi=["docsearchOverlay"],Hi=["acDocSearchBuilder"],Zi=function(){return{"min-height":"200px","min-width":"620px"}},zi=function(){return{"min-width":"150px",width:"11rem","line-height":"1.5rem",height:"1.5rem"}};let ji=(()=>{class e{constructor(e,t){this.translate=e,this.sharedMessageService=t,this.onDocAdvancedSearchReset=new o.p,this.onDocAdvancedSearchApply=new o.p,this.config=di.getAdvancedSearchBuilderConfig(),this.query=null,this.isDirty=!1,this._isAndQuery=!1,this._initialDataSetDone=!1,this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){}showSearchOverlay(){const e=this.documentSearchQuery.tableFilters;let t=this.documentSearchQuery.searchTerms;t||(t=new Array);for(let n=0;n<e.length;n++){const i=e[n];"isAnd"===i.filterBy?this.documentSearchQuery.andQuery=i.filterValue:"typeSet"===i.filterBy?this.documentSearchQuery.status=i.filterValue:t.push({field:i.filterBy,value:i.filterValue})}0===t.length&&t.push(this.createDefaultSearchRow()),this.documentSearchQuery.searchTerms=t,this.query={searchTerms:this.documentSearchQuery.searchTerms};const i=this;setTimeout(()=>{i.acSearchBuilder.setFocus(),this._initialDataSetDone=!0},200),this._isAndQuery=this.documentSearchQuery.andQuery,this.makeComponentsAccessible(),this.isDirty=!1}toggle(e){this.docsearchOverlay&&this.docsearchOverlay.toggle(e)}statusChange(e){this.documentSearchQuery.status=e.value,this.isDirty=!0}cancelSearch(){this.docsearchOverlay.hide()}applySearch(){this.documentSearchQuery.searchTerms=this.acSearchBuilder.data.searchTerms,this.onDocAdvancedSearchApply.emit(this.documentSearchQuery),this.docsearchOverlay.hide()}setOrQuery(){this.documentSearchQuery.andQuery=!1,this.isDirty=!0}setAndQuery(){this.documentSearchQuery.andQuery=!0,this.isDirty=!0}resetSearch(){this.documentSearchQuery.searchTerms=null,this.documentSearchQuery.status=null,this.documentSearchQuery.andQuery=!0,this.onDocAdvancedSearchReset.emit(this.documentSearchQuery),this.isDirty=!0,this.docsearchOverlay.hide()}createDefaultSearchRow(){return{field:this.config.searchFields.documentName.name,value:null}}getSearchField(e){return this.config.searchFields[e]}handleKeydown(e){27===e.keyCode&&this.docsearchOverlay.hide(),this.isDirty=!0}statusEnter(){const e=document.querySelector("#statusSelect");this.isDirty=!0,e.click()}hideSearchOverlay(){this.isDirty=!1,this._initialDataSetDone=!1}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementsByTagName("p-multiSelect")[0];e&&j.K.makeMultiCheckboxAccessible(e,this.translate.instant("common.filters.multiselect.select.options"),this.translate.instant("monitoring.search.deselect.all"),this.translate.instant("monitoring.search.select.all"))},100)}ngOnDestroy(){this.subscription.unsubscribe()}markDirty(){this.isDirty=!0}ngDoCheck(){this._isAndQuery!==this.documentSearchQuery.andQuery&&this._initialDataSetDone&&this.markDirty()}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(n.d),o.Zb(j.B))},e.\u0275cmp=o.Tb({type:e,selectors:[["app-document-search"]],viewQuery:function(e,t){if(1&e&&(o.hd(Vi,1),o.hd(Hi,1)),2&e){let e;o.Oc(e=o.qc())&&(t.docsearchOverlay=e.first),o.Oc(e=o.qc())&&(t.acSearchBuilder=e.first)}},hostBindings:function(e,t){1&e&&o.pc("keydown",function(e){return t.handleKeydown(e)},!1,o.Qc)},inputs:{documentSearchQuery:"documentSearchQuery",docStatusList:"docStatusList"},outputs:{onDocAdvancedSearchReset:"onDocAdvancedSearchReset",onDocAdvancedSearchApply:"onDocAdvancedSearchApply"},decls:53,vars:50,consts:[["focusOnShow","true",3,"baseZIndex","appendTo","onShow","onHide"],["docsearchOverlay",""],[1,"filter-top-row"],[1,"isac-overlay-title-wrapper"],[1,"isac-overlay-details-title"],[1,"doc-filter-label-wrapper"],["for","searchConditionSwitchDoc",1,"dlt-form-label","padding-top-5","padding-right-5"],[1,"padding-left-5","dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"toggle-btn","toggle-inline"],[1,"dlt-fieldset","sm-switch","fliter-switch-item"],[1,"dlt-switch-item"],["id","searchConditionSwitchDoc","type","checkbox","ngDefaultControl","",1,"dlt-switch-input",3,"ngModel","ngModelChange"],[1,"dlt-switch-text","switch-div"],[1,"dlt-switch-appearance","dlt-on-off"],[1,"on"],[1,"off"],[1,"dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"filter-title-buttons-wrapper"],["tabindex","0","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-close","isac-dlg-close-icon-btn","dlg-icon-btn","dlt-icon"],[1,"filter-row"],[1,"dlt-form-label"],[1,"searchArea"],[3,"data","config","markDirty"],["acDocSearchBuilder",""],["tabindex","0","dropdownIcon","dlt-icon-dropdown",3,"options","ngModel","filter","defaultLabel","maxSelectedLabels","baseZIndex","onClick","onChange","ngModelChange","keydown.enter"],["statusFilterRefDoc",""],[1,"filter-row","filter-footer-margin","float-right"],[1,"btn-group","d-flex","justify-content-end"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","margin-right-5",3,"disabled","click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button",3,"click"]],template:function(e,t){1&e&&(o.fc(0,"p-overlayPanel",0,1),o.pc("onShow",function(){return t.showSearchOverlay()})("onHide",function(){return t.hideSearchOverlay()}),o.fc(2,"div",2),o.fc(3,"div",3),o.fc(4,"div",4),o.bd(5),o.uc(6,"translate"),o.ec(),o.ec(),o.fc(7,"div",5),o.fc(8,"label",6),o.bd(9),o.uc(10,"translate"),o.ec(),o.fc(11,"label",7),o.pc("click",function(){return t.setOrQuery()}),o.bd(12),o.uc(13,"translate"),o.ec(),o.fc(14,"div",8),o.fc(15,"fieldset",9),o.fc(16,"div",10),o.fc(17,"input",11),o.pc("ngModelChange",function(e){return t.documentSearchQuery.andQuery=e}),o.ec(),o.fc(18,"div",12),o.ac(19,"span",13),o.ac(20,"span",14),o.ac(21,"span",15),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(22,"label",16),o.pc("click",function(){return t.setAndQuery()}),o.bd(23),o.uc(24,"translate"),o.ec(),o.ec(),o.fc(25,"div",17),o.fc(26,"button",18),o.pc("click",function(){return t.cancelSearch()}),o.uc(27,"translate"),o.uc(28,"translate"),o.ac(29,"i",19),o.ec(),o.ec(),o.ec(),o.fc(30,"div",20),o.fc(31,"label",21),o.bd(32),o.uc(33,"translate"),o.ec(),o.ec(),o.fc(34,"div",22),o.fc(35,"ac-search-builder",23,24),o.pc("markDirty",function(){return t.markDirty}),o.ec(),o.ec(),o.ac(37,"hr",20),o.fc(38,"div",20),o.fc(39,"label",21),o.bd(40),o.uc(41,"translate"),o.ec(),o.ec(),o.fc(42,"p-multiSelect",25,26),o.pc("onClick",function(){return t.makeComponentsAccessible()})("onChange",function(e){return t.statusChange(e)})("ngModelChange",function(e){return t.documentSearchQuery.status=e})("keydown.enter",function(){return t.statusEnter()}),o.uc(44,"translate"),o.ec(),o.fc(45,"div",27),o.fc(46,"div",28),o.fc(47,"button",29),o.pc("click",function(){return t.applySearch()}),o.bd(48),o.uc(49,"translate"),o.ec(),o.fc(50,"button",30),o.pc("click",function(){return t.resetSearch()}),o.bd(51),o.uc(52,"translate"),o.ec(),o.ec(),o.ec(),o.ec()),2&e&&(o.Wc(o.Fc(48,Zi)),o.Ac("baseZIndex",1)("appendTo","body"),o.Lb(5),o.cd(o.vc(6,26,"common.label.AdvancedSearch")),o.Lb(4),o.cd(o.vc(10,28,"common.labels.SearchCondition")),o.Lb(3),o.cd(o.vc(13,30,"common.labels.or")),o.Lb(5),o.Ac("ngModel",t.documentSearchQuery.andQuery),o.Lb(6),o.cd(o.vc(24,32,"common.labels.and")),o.Lb(3),o.Bc("pTooltip",o.vc(27,34,"common.close.title")),o.Mb("aria-label",o.vc(28,36,"common.close.title")),o.Lb(6),o.cd(o.vc(33,38,"common.labels.searchArea")),o.Lb(3),o.Ac("data",t.query)("config",t.config),o.Lb(5),o.dd(" ",o.vc(41,40,"monitoring.documents.document.type"),""),o.Lb(2),o.Wc(o.Fc(49,zi)),o.Bc("defaultLabel",o.vc(44,42,"common.all")),o.Ac("options",t.docStatusList)("ngModel",t.documentSearchQuery.status)("filter",!1)("maxSelectedLabels",4)("baseZIndex",2e3),o.Lb(5),o.Ac("disabled",!t.isDirty),o.Lb(1),o.cd(o.vc(49,44,"common.apply")),o.Lb(3),o.cd(o.vc(52,46,"common.reset")))},directives:[Si.a,Pe.a,Pe.c,Pe.n,Pe.q,ee.a,Bi,Ni.a],pipes:[n.c],styles:[".margin-right-5[_ngcontent-%COMP%]{margin-right:5px}.dlt-switch-text[_ngcontent-%COMP%]{margin-top:5px}.toggle-inline[_ngcontent-%COMP%]{float:left}.toggle-btn[_ngcontent-%COMP%]{margin:0 7px}.btn-group[_ngcontent-%COMP%]{padding:.875rem 0 0}.conditionlabel1Width[_ngcontent-%COMP%]{width:16rem;margin-right:21px}.conditionlabel2Width[_ngcontent-%COMP%]{min-width:8rem;padding-right:7px}.searchArea[_ngcontent-%COMP%]{margin-left:-7px!important}p-multiselect[_ngcontent-%COMP%]:focus{outline:3px solid #1776bf}.tb-vert[_ngcontent-%COMP%]{padding-top:.6rem}.filter-row[_ngcontent-%COMP%], .filter-top-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:0;margin-left:0}.filter-top-row[_ngcontent-%COMP%]{margin-top:6px}.footer-buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0}.fliter-switch-item[_ngcontent-%COMP%]{margin-top:3px}.doc-filter-label-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-left:1rem;margin-top:-5px}.switch-div[_ngcontent-%COMP%]{margin-bottom:.5rem}"]}),e})();const Ui=["isMonDocTable"],$i=["tablePrefs"],Ki=["tablePrefsOverlay"];function Qi(e,t){if(1&e){const e=o.gc();o.fc(0,"div",7),o.fc(1,"div",20),o.fc(2,"d3-donut-chart",21),o.pc("pieItemClicked",function(t){return o.Rc(e),o.tc(2).pieItemClicked(t)}),o.ec(),o.ec(),o.fc(3,"div",22),o.fc(4,"app-chart-legend",23),o.pc("legendItemClicked",function(t){return o.Rc(e),o.tc(2).pieItemClicked(t)}),o.ec(),o.ec(),o.fc(5,"div",24),o.ac(6,"img",25),o.uc(7,"translate"),o.bd(8),o.uc(9,"translate"),o.ec(),o.ec()}if(2&e){const e=o.tc(2);o.Lb(2),o.Ac("data",e.donutChartData)("heightInput","160px"),o.Lb(2),o.Ac("data",e.legendsData)("heightInput","160px"),o.Lb(2),o.Bc("alt",o.vc(7,6,"common.chart.donut.infolabel")),o.Lb(2),o.dd(" ",o.vc(9,8,"common.chart.donut.infolabel")," ")}}function Wi(e,t){1&e&&o.ac(0,"ac-loader")}function qi(e,t){if(1&e&&o.ac(0,"ac-d3-stacked-bar-chart",26),2&e){const e=o.tc(2);o.Ac("chartno",0)("data",e.barData)("columnKeyColorArray",e.columnKeyColorArray)("heightInput","160px")("chartXAxisTitle",e.chartXAxisTitle)}}function Xi(e,t){1&e&&o.ac(0,"ac-loader")}function Gi(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",53),o.fc(2,"label",54),o.bd(3),o.uc(4,"translate"),o.ec(),o.fc(5,"button",55),o.pc("click",function(t){o.Rc(e);const i=o.Pc(12);return o.tc(3).showBasicFilter(),i.toggle(t)}),o.bd(6),o.uc(7,"translate"),o.ec(),o.fc(8,"button",56),o.pc("click",function(t){o.Rc(e);const i=o.Pc(14);return o.tc(3).showAdvancedSearch(),i.toggle(t)}),o.bd(9),o.uc(10,"translate"),o.ec(),o.fc(11,"isac-lib-filter-overlay-panel",57,58),o.pc("onFiltersReset",function(t){return o.Rc(e),o.tc(3).onBasicFiltersReset(t)})("onFiltersApply",function(t){return o.Rc(e),o.tc(3).onBasicFiltersApply(t)})("onFilterChange",function(t){return o.Rc(e),o.tc(3).onFilterChange(t)}),o.ec(),o.fc(13,"app-document-search",59,60),o.pc("onDocAdvancedSearchApply",function(t){return o.Rc(e),o.tc(3).onAdvancedSearchApply(t)})("onDocAdvancedSearchReset",function(t){return o.Rc(e),o.tc(3).onAdvancedSearchReset(t)}),o.ec(),o.fc(15,"isac-lib-filter-tags",61),o.pc("onClearAll",function(t){return o.Rc(e),o.tc(3).onClearAllFilters(t)})("onClearFilter",function(t){return o.Rc(e),o.tc(3).onClearFilter(t)}),o.ec(),o.ec(),o.cc()}if(2&e){const e=o.tc(3);o.Lb(3),o.cd(o.vc(4,8,"common.table.search")),o.Lb(3),o.cd(o.vc(7,10,"common.basic")),o.Lb(3),o.cd(o.vc(10,12,"common.advanced")),o.Lb(2),o.Ac("styleClass","filter-overlaypanel-content")("tableFilters",e.documentListStateService.basicSearchFilters),o.Lb(2),o.Ac("documentSearchQuery",e.documentListStateService.documentSearchQuery)("docStatusList",e.typeList),o.Lb(2),o.Ac("filterTags",e.filterTags)}}const Ji=function(e){return{value1:1e4,value2:e}};function Yi(e,t){if(1&e){const e=o.gc();o.fc(0,"div",62),o.fc(1,"div",63),o.ac(2,"span",64),o.fc(3,"div",65),o.bd(4),o.uc(5,"translate"),o.ec(),o.fc(6,"span",66),o.pc("click",function(){return o.Rc(e),o.tc(3).hideMaxResultWarning()}),o.uc(7,"translate"),o.ec(),o.ec(),o.ec()}if(2&e){const e=o.tc(3);o.Lb(4),o.dd(" ",o.wc(5,2,"monitoring.maxrowsreached",o.Gc(7,Ji,e.actualRowCount))," "),o.Lb(2),o.Bc("pTooltip",o.vc(7,5,"common.close.title"))}}const en=function(e,t){return{"text-align":e,width:t}};function tn(e,t){if(1&e&&(o.fc(0,"th",72),o.uc(1,"translate"),o.fc(2,"div",73),o.fc(3,"label",74),o.bd(4),o.uc(5,"translate"),o.ac(6,"p-sortIcon",75),o.ec(),o.ec(),o.ec()),2&e){const e=o.tc().$implicit;o.Bc("pTooltip",o.vc(1,6,e.header)),o.Bc("id",e.field),o.Ac("pSortableColumn",e.field)("ngStyle",o.Hc(10,en,e.hdrAlign,e.userConfiguredColumnWidth)),o.Lb(4),o.dd("",o.vc(5,8,e.header)," "),o.Lb(2),o.Ac("field",e.field)}}function nn(e,t){if(1&e&&(o.dc(0),o.Zc(1,tn,7,13,"th",71),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function cn(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",76),o.ac(2,"ac-loader"),o.ec(),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.Mb("colspan",e.tableInfo.tableColumnInfo.length)}}function an(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",67),o.ac(2,"p-tableHeaderCheckbox",68,69),o.ec(),o.Zc(4,nn,2,1,"ng-container",70),o.ec(),o.Zc(5,cn,3,1,"tr",17)),2&e){const e=o.tc(3);o.Lb(4),o.Ac("ngForOf",e.tableInfo.tableColumnInfo),o.Lb(1),o.Ac("ngIf",e.fetchingTableData)}}function sn(e,t){if(1&e&&(o.fc(0,"div",82),o.uc(1,"preferredDateTime"),o.fc(2,"span",83),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit,i=o.tc(3);o.Bc("pTooltip",o.xc(1,2,t[e.field],i.preferencesService,i.dateTimePreferenceService)),o.Lb(3),o.cd(o.xc(4,6,t[e.field],i.preferencesService,i.dateTimePreferenceService))}}function rn(e,t){if(1&e&&(o.fc(0,"a",84),o.fc(1,"span",83),o.bd(2),o.uc(3,"smartTruncatePart1Pipe"),o.ec(),o.fc(4,"span",85),o.bd(5),o.uc(6,"smartTruncatePart2Pipe"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit;o.Bc("pTooltip",t[e.field]),o.Cc("routerLink","/monitoring/document/",t.DOCUMENTID,""),o.Mb("aria-label",t[e.field]),o.Lb(2),o.cd(o.wc(3,5,t[e.field],3)),o.Lb(3),o.cd(o.wc(6,8,t[e.field],3))}}function on(e,t){if(1&e&&(o.fc(0,"div",82),o.fc(1,"span",83),o.bd(2),o.uc(3,"smartTruncatePart1Pipe"),o.ec(),o.fc(4,"span",85),o.bd(5),o.uc(6,"smartTruncatePart2Pipe"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit;o.Bc("pTooltip",t[e.field]),o.Lb(2),o.cd(o.wc(3,3,t[e.field],3)),o.Lb(3),o.cd(o.wc(6,6,t[e.field],3))}}function ln(e,t){if(1&e&&(o.fc(0,"td"),o.fc(1,"span"),o.fc(2,"div"),o.Zc(3,sn,5,10,"div",80),o.Zc(4,rn,7,11,"a",81),o.Zc(5,on,7,9,"div",80),o.ec(),o.ec(),o.ec()),2&e){const e=o.tc().index;o.Lb(3),o.Ac("ngIf",0==e),o.Lb(1),o.Ac("ngIf",1==e),o.Lb(1),o.Ac("ngIf",e>1)}}function dn(e,t){if(1&e&&(o.dc(0),o.Zc(1,ln,6,3,"td",17),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function un(e,t){if(1&e){const e=o.gc();o.fc(0,"tr",77),o.pc("keydown.enter",function(){o.Rc(e);const i=t.$implicit;return o.tc(3).onKeydownEnter(i.DOCUMENTID)}),o.fc(1,"td",78),o.ac(2,"p-tableCheckbox",79),o.ec(),o.Zc(3,dn,2,1,"ng-container",70),o.ec()}if(2&e){const e=t.$implicit,i=o.tc(3);o.Ac("pSelectableRow",e),o.Lb(2),o.Ac("value",e),o.Lb(1),o.Ac("ngForOf",i.tableInfo.tableColumnInfo)}}function hn(e,t){if(1&e&&(o.fc(0,"tr",87),o.fc(1,"td",88),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.Mb("colspan",e.tableInfo.tableColumnInfo.length),o.Lb(1),o.dd(" ",o.vc(3,2,"common.table.no.items")," ")}}function pn(e,t){if(1&e&&o.Zc(0,hn,4,4,"tr",86),2&e){const e=o.tc(3);o.Ac("ngIf",null!=e.documentList)}}const gn=function(e,t,i){return{first:e,rows:t,totalRecords:i}};function mn(e,t){if(1&e&&(o.fc(0,"div"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.dd(" ",o.wc(2,1,"common.table.items.page.info",o.Ic(4,gn,e.first,e.rows,e.totalRecords))," ")}}function fn(e,t){1&e&&(o.fc(0,"div"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.cd(o.vc(2,1,"common.table.zero.items")))}function bn(e,t){if(1&e&&(o.Zc(0,mn,3,8,"div",4),o.Zc(1,fn,3,3,"ng-template",null,89,o.ad)),2&e){const e=o.Pc(2),t=o.tc(3);o.Ac("ngIf",t.totalRecords>0)("ngIfElse",e)}}const vn=function(e){return{zebrastripes:e}},yn=function(){return[20,40,60]};function Cn(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"p-overlayPanel",27,28),o.ac(3,"isac-lib-table-preferences",null,29),o.ec(),o.fc(5,"div",30),o.fc(6,"table",31),o.fc(7,"tr"),o.fc(8,"td"),o.Zc(9,Gi,16,14,"ng-container",17),o.ec(),o.fc(10,"td",32),o.fc(11,"section",33),o.fc(12,"div",34),o.fc(13,"section",35),o.fc(14,"div",36),o.fc(15,"div",37),o.fc(16,"div",38),o.fc(17,"button",39),o.pc("click",function(t){o.Rc(e);const i=o.Pc(2),n=o.tc(2);return i.toggle(t),n.showTablePrefs(t)}),o.uc(18,"translate"),o.uc(19,"translate"),o.ac(20,"i",40),o.ec(),o.ec(),o.fc(21,"div",38),o.fc(22,"button",41),o.pc("click",function(){o.Rc(e);const t=o.Pc(26);return o.tc(2).toggleFullScreen(t)}),o.uc(23,"translate"),o.uc(24,"translate"),o.ac(25,"i",42,43),o.ec(),o.ec(),o.ec(),o.fc(27,"button",44),o.pc("click",function(){return o.Rc(e),o.tc(2).resubmitDocuments()}),o.uc(28,"translate"),o.bd(29),o.uc(30,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(31,"div",45),o.Zc(32,Yi,8,9,"div",46),o.fc(33,"p-table",47,48),o.pc("onLazyLoad",function(t){return o.Rc(e),o.tc(2).lazyLoadDocumentTableResults(t)})("selectionChange",function(t){return o.Rc(e),o.tc(2).selectedDocuments=t})("onRowUnselect",function(t){return o.Rc(e),o.tc(2).onRowUnselect(t)})("onRowSelect",function(t){return o.Rc(e),o.tc(2).onRowSelect(t)})("onHeaderCheckboxToggle",function(t){return o.Rc(e),o.tc(2).onHeaderCheckboxToggle(t)})("firstChange",function(t){return o.Rc(e),o.tc(2).first=t})("onColResize",function(t){return o.Rc(e),o.tc(2).columnResize(t)}),o.Zc(35,an,6,2,"ng-template",49),o.Zc(36,un,4,3,"ng-template",50),o.Zc(37,pn,1,1,"ng-template",51),o.Zc(38,bn,3,2,"ng-template",52),o.ec(),o.ec(),o.ec(),o.cc()}if(2&e){const e=o.tc(2);o.Lb(1),o.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),o.Lb(8),o.Ac("ngIf",e.isLocalizationResourcesLoaded),o.Lb(8),o.Bc("pTooltip",o.vc(18,26,"common.table.settings")),o.Mb("aria-label",o.vc(19,28,"common.table.settings")),o.Lb(5),o.Bc("pTooltip",o.vc(23,30,"common.showFullScreen")),o.Mb("aria-label",o.vc(24,32,"common.showFullScreen")),o.Lb(5),o.Ac("disabled",!(e.selectedDocuments&&e.selectedDocuments.length>0)),o.Mb("aria-label",o.vc(28,34,"common.table.resubmit")),o.Lb(2),o.dd("",o.vc(30,36,"common.table.resubmit")," "),o.Lb(3),o.Ac("ngIf",e.showMaxRowsReachedMsg),o.Lb(1),o.Ac("ngClass",o.Gc(38,vn,e.tableInfo.showZebraStripes))("columns",e.tableInfo.tableColumnInfo)("value",e.documentList)("paginator",!0)("rows",e.tableInfo.pageSize)("totalRecords",e.totalRecords)("rowsPerPageOptions",o.Fc(40,yn))("paginatorDropdownAppendTo","body")("lazy",!0)("selection",e.selectedDocuments)("first",e.first)("showPageLinks",!1)("showJumpToPageDropdown",!0)("resizableColumns",!0)("responsive",!1)}}const Sn=function(e){return{hidden:e}};function xn(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",6),o.fc(2,"div",7),o.fc(3,"div",8),o.fc(4,"h1"),o.bd(5),o.uc(6,"translate"),o.ec(),o.ec(),o.fc(7,"div",9),o.fc(8,"isac-lib-date-timerange-panel",10),o.pc("onSelectTimeRange",function(t){return o.Rc(e),o.tc().processSelectedTimeRange(t)})("onRefreshContent",function(t){return o.Rc(e),o.tc().refreshDocumentListContent(t)})("onRefreshIntervalChanged",function(t){return o.Rc(e),o.tc().refreshIntervalChanged(t)}),o.ec(),o.ec(),o.ec(),o.fc(9,"div",11),o.fc(10,"div",12),o.fc(11,"div",13),o.fc(12,"div",14),o.fc(13,"span"),o.bd(14),o.uc(15,"translate"),o.ec(),o.fc(16,"span",15),o.bd(17),o.ec(),o.ec(),o.Zc(18,Qi,10,10,"div",16),o.Zc(19,Wi,1,0,"ac-loader",17),o.ec(),o.fc(20,"div",18),o.fc(21,"div",14),o.bd(22),o.uc(23,"translate"),o.ec(),o.Zc(24,qi,1,5,"ac-d3-stacked-bar-chart",19),o.Zc(25,Xi,1,0,"ac-loader",17),o.ec(),o.ec(),o.ec(),o.Zc(26,Cn,39,41,"ng-container",4),o.ec(),o.cc()}if(2&e){const e=o.tc(),t=o.Pc(12);o.Lb(5),o.cd(o.vc(6,17,e.tableInfo.tableId)),o.Lb(3),o.Ac("timeRange",e.documentListStateService.timeRange)("refreshInterval",e.documentListStateService.refreshInterval)("isCustomTimeRange",!0)("alignSelector","right")("showRefresh",!0)("showAutoRefresh",!0),o.Lb(1),o.Ac("ngClass",o.Gc(23,Sn,e.documentListStateService.fullScreenTable)),o.Lb(5),o.cd(o.vc(15,19,"monitoring.documents.list.tableTitle")),o.Lb(3),o.cd(e.totalExecutions),o.Lb(1),o.Ac("ngIf",e.chartDataFetched),o.Lb(1),o.Ac("ngIf",e.fetchingChartData),o.Lb(3),o.dd(" ",o.vc(23,21,"monitoring.barchart.history"),""),o.Lb(2),o.Ac("ngIf",e.chartDataFetched),o.Lb(1),o.Ac("ngIf",e.fetchingChartData),o.Lb(1),o.Ac("ngIf",e.isTableDataAvailable)("ngIfElse",t)}}function Ln(e,t){1&e&&(o.fc(0,"div",94),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.cd(o.vc(2,1,"monitoring.error.information")))}function wn(e,t){if(1&e&&(o.fc(0,"div",95),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorInformation)}}function Tn(e,t){if(1&e&&(o.fc(0,"div",95),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage1)}}function In(e,t){if(1&e&&(o.fc(0,"div",95),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage2)}}function Mn(e,t){if(1&e&&(o.fc(0,"div",95),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage3)}}function On(e,t){if(1&e&&(o.fc(0,"div",90),o.bd(1),o.uc(2,"translate"),o.ec(),o.fc(3,"ul"),o.fc(4,"li",91),o.bd(5),o.uc(6,"translate"),o.ec(),o.fc(7,"li",91),o.bd(8),o.uc(9,"translate"),o.ec(),o.fc(10,"li",91),o.bd(11),o.uc(12,"translate"),o.ec(),o.fc(13,"li",91),o.bd(14),o.uc(15,"translate"),o.ec(),o.fc(16,"li",91),o.bd(17),o.uc(18,"translate"),o.ec(),o.ec(),o.Zc(19,Ln,3,3,"div",92),o.Zc(20,wn,2,1,"div",93),o.Zc(21,Tn,2,1,"div",93),o.Zc(22,In,2,1,"div",93),o.Zc(23,Mn,2,1,"div",93)),2&e){const e=o.tc();o.Lb(1),o.dd(" ",o.vc(2,11,"monitoring.documents.unavailable.message")," "),o.Lb(4),o.dd(" ",o.vc(6,13,"monitoring.documents.unavailable.ensure1")," "),o.Lb(3),o.dd(" ",o.vc(9,15,"monitoring.documents.unavailable.ensure2")," "),o.Lb(3),o.dd(" ",o.vc(12,17,"monitoring.documents.unavailable.ensure3")," "),o.Lb(3),o.dd(" ",o.vc(15,19,"monitoring.documents.unavailable.ensure4")," "),o.Lb(3),o.dd(" ",o.vc(18,21,"monitoring.documents.unavailable.ensure5")," "),o.Lb(2),o.Ac("ngIf",e.monitoringErrorInformation||e.monitoringErrorMessage1||e.monitoringErrorMessage2||e.monitoringErrorMessage3),o.Lb(1),o.Ac("ngIf",e.monitoringErrorInformation),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage1),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage2),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage3)}}let _n=(()=>{class e{constructor(e,t,i,n,c,a,r,o,l,d){this.translate=i,this.sharedMessageService=n,this.documentListStateService=c,this.router=a,this.toastr=r,this.dateTimeService=o,this.cd=l,this.preferencesService=d,this.destroyed$=new p.a,this.homeLink="#/integration/dashboard/overview",this.isChartDataAvailable=!0,this.isTableDataAvailable=!0,this.subs=[],this.rows=20,this.first=1,this.pageCount=0,this.tableInfo=new j.J("",[]),this.filterTags=[],this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.fetchingTableData=!1,this.selectedDocumentIDs=new Array,this.documentAPIService=e,this.tableSettingsService=t,this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=this.getDefaultTableFilters()),this.documentListStateService.timeRange||(this.documentListStateService.timeRange=s.TimerangePickerService.getDefaultTimerange()),this.documentListStateService.refreshInterval||(this.documentListStateService.refreshInterval=0),this.translate.setDefaultLang("en"),this.subs.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}))}ngOnInit(){this.checkMonitorStatus()}initializeDocumentsList(){this.setDefault(),this.loading=!0,this.chartDataFetched=!1,this.fetchingChartData=!1,this.fetchingTableData=!1,this.subs.push(this.tableSettingsService.getTableInfo("monitoring.documents.list.tableTitle").subscribe(e=>{this.tableInfo=e,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.tableSettingsService.changeShowHideInfo(this.tableInfo)})),this.subs.push(this.translate.get("monitoring.documents.document.type.InDoubt").subscribe(()=>{this.isLocalizationResourcesLoaded=!0,this.typeList=[{label:this.translate.instant("monitoring.documents.document.type.broker"),value:"Broker"},{label:this.translate.instant("monitoring.documents.document.type.InDoubt"),value:"In Doubt"},{label:this.translate.instant("monitoring.documents.document.type.RetriesExceeded"),value:"Retries Exceeded"},{label:this.translate.instant("monitoring.documents.document.type.Failed"),value:"Failed"}],this.initTableFilters(),this.updateFilterTags()})),this.documentListStateService.timeRange||(this.documentListStateService.timeRange=s.TimerangePickerService.getDefaultTimerange()),this.documentListStateService.refreshInterval||(this.documentListStateService.refreshInterval=0),this.initSearchQuery(),this.setChartData(),this.pageCount=0,this.getFilteredDocumentList(this.documentListStateService.tableFilters)}refresh(){this.setChartData(),this.refreshDocumentList()}checkMonitorStatus(){this.subs.push(this.documentAPIService.getMonitorStatus().pipe(Object(g.a)(this.destroyed$)).subscribe(e=>{e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"enabled"===e.status?(this.isTableDataAvailable=!0,this.initializeDocumentsList()):e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"disabled"===e.status?(this.monitoringErrorMessage2=this.translate.instant("monitoring.wmmonitor.disabled"),this.isTableDataAvailable=!1):this.isTableDataAvailable=!1},e=>{this.isTableDataAvailable=!1,this.monitoringErrorMessage2=Object(j.L)(e,this.translate)}))}setChartData(){this.chartDataFetched=!1,this.fetchingChartData=!0,this.donutChartData=null,this.barData=null;let e=null,t=null,i=null;const n=this;this.documentListStateService.timeRange.durationInHours?e=this.documentListStateService.timeRange.durationInHours:(t=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.endTime)),this.subs.push(this.documentAPIService.getDocumentChartData(e,t,i).pipe(Object(g.a)(this.destroyed$)).subscribe(c=>{if(c&&c.hasOwnProperty("documentArray")){const a=n.documentAPIService.summarizedChartData(c,e,t,i);n.barData=a.get("barData"),n.chartXAxisTitle=a.get("barChartLabel"),n.donutChartData=a.get("donutData"),n.legendsData=a.get("columnKeyColorArray"),n.columnKeyColorArray=a.get("columnKeyColorArray"),n.totalExecutions=c.total,n.showMaxRowsReachedMsg=!!c.rowCount,n.actualRowCount=c.rowCount}else this.donutChartData=null,this.barData=null,this.chartXAxisTitle=null,this.totalExecutions=0,this.showMaxRowsReachedMsg=!1,this.actualRowCount=0;n.chartDataFetched=!0,n.fetchingChartData=!1,this.isChartDataAvailable=!0},e=>{this.chartDataFetched=!0,this.fetchingChartData=!1,this.donutChartData=null,this.barData=null,this.chartXAxisTitle=null,this.totalExecutions=0,this.isChartDataAvailable=!1,this.monitoringErrorInformation=Object(j.L)(e,this.translate),e.message&&(this.monitoringErrorMessage1=e.message),this.showMaxRowsReachedMsg=!1,this.actualRowCount=0}))}setDefault(){this.loading=!1,this.tableInfo.sortField=this.tableInfo.defaultSortField,this.tableInfo.sortOrder=this.tableInfo.defaultSortOrder,this.rows=this.tableInfo.pageSize,this.resetPager()}resetPager(){this.first=1,this.pageCount=0,this.totalRecords=0,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=this.tableInfo.pageSize}columnResize(e){const t=document.getElementsByTagName("th");if(t&&t.length>0){const e=Array.from(t);this.tableSettingsService.columnResize(e,this.tableInfo)}}lazyLoadDocumentTableResults(e){this.renderDocumentTableResults(e);const t=e.filters,i=[];Object.keys(t).forEach(e=>{i.push({filterBy:e,filterValue:t[e].value})}),this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]),this.getFilteredDocumentList(i.length>0?i:this.documentListStateService.tableFilters)}getFilteredDocumentList(e){this.fetchingTableData=!0,this.documentList=void 0;let t=null,i=null;const n=[];e.map(e=>n.push(Object.assign({},e))),this.documentListStateService.timeRange.durationInHours?n.push({filterBy:"durationInHours",filterValue:this.documentListStateService.timeRange.durationInHours}):(t=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.endTime)),this.subs.push(this.documentAPIService.getDocumentList(this.pageCount,this.tableInfo.pageSize,this.tableInfo.sortField,"asc"===this.tableInfo.sortOrder?"TRUE":"FALSE",t,i,n).pipe(Object(g.a)(this.destroyed$)).subscribe(e=>{e&&(this.totalRecords=e.totalCounts?e.totalCounts:0,this.documentList=e.documents?e.documents:[],this.loading=!1,this.showMaxRowsReachedMsg=!!e.rowCount,this.actualRowCount=e.rowCount),this.fetchingTableData=!1,this.isTableDataAvailable=!0,this.makeComponentsAccessible()},e=>{this.loading=!1,this.documentList=[],this.totalRecords=null,this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.fetchingTableData=!1,this.isTableDataAvailable=!1,e.message&&(this.monitoringErrorMessage2=e.message),e.error&&e.error.message&&(this.monitoringErrorMessage3=e.error.message)}))}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementById("headerCheckbox");e&&j.K.makeTableCheckboxAccessible(e,this.translate.instant("common.table.header.checkbox.title"));const t=document.getElementsByTagName("p-tableCheckbox");let i=0;if(t&&t.length>0)for(i=0;i<t.length;i++)j.K.makeTableCheckboxAccessible(t[i],this.translate.instant("common.table.row.checkbox.title"));const n=document.getElementsByTagName("p-paginator");if(n&&n.length>0)for(i=0;i<n.length;i++)j.K.makePaginatorAccessible(n[i],this.translate.instant("common.table.pagination.go.back.first.page"),this.translate.instant("common.table.pagination.advance.last.page"),this.translate.instant("common.table.pagination.go.back.previous.page"),this.translate.instant("common.table.pagination.advance.next.page"),this.translate.instant("common.table.pagination.select.page"),this.translate.instant("common.table.pagination.select.number.rows"))},100)}hideMaxResultWarning(){this.showMaxRowsReachedMsg=!1}refreshDocumentListContent(e){this.refresh()}refreshDocumentList(){this.getFilteredDocumentList(this.documentListStateService.tableFilters)}refreshIntervalChanged(e){this.documentListStateService.refreshInterval=e.value?e.value:0}renderDocumentTableResults(e){e?(this.tableInfo.sortField=e.sortField,this.tableInfo.sortOrder="desc",1===e.sortOrder&&(this.tableInfo.sortOrder="asc"),this.first=e.first+1,e.rows&&(this.pageCount=Math.floor(e.first/e.rows),this.tableInfo.pageSize=e.rows)):this.setDefault(),this.getRowCount(),this.cd.detectChanges()}getRowCount(){this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=(this.pageCount+1)*this.tableInfo.pageSize,this.totalRecords>0&&this.totalRecords<this.rows&&(this.rows=this.totalRecords)}onFilterChange(e){if(this.documentListStateService.tableFilters&&0!==this.documentListStateService.tableFilters.length){for(let t=0;t<this.documentListStateService.tableFilters.length;t++)if(this.documentListStateService.tableFilters[t].filterBy===e.filterBy){this.documentListStateService.tableFilters[t]=e;break}}else this.documentListStateService.tableFilters=[],this.documentListStateService.tableFilters.push(e);this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onClearAll(){this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}toggleFullScreen(e){this.documentListStateService.fullScreenTable?(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen")):(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen")),this.documentListStateService.fullScreenTable=!this.documentListStateService.fullScreenTable}processSelectedTimeRange(e){this.documentListStateService.timeRange=e,this.resetPager(),this.setChartData(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}updateFilterTags(){this.resetPager();const e=[];this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]);for(let t=0;t<this.documentListStateService.tableFilters.length;t++){const i=this.documentListStateService.tableFilters[t];"typeSet"===i.filterBy&&i.filterValue?(this.updateDisplayvalueForStatus(i).forEach(t=>{e.push(t)}),this.filterTags=e):null==i.filterDisplayValue&&(i.filterDisplayValue=i.filterValue),null!==i.filterValue&&"typeSet"!==i.filterBy&&e.push(i)}this.filterTags=e}onBasicFiltersReset(){for(let e=this.documentListStateService.tableFilters.length-1;e>=0;--e){const t=this.documentListStateService.tableFilters[e];t.filterBy==t.filterBy&&this.documentListStateService.tableFilters.splice(e,1)}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onClearFilter(e){for(let t=0;t<this.documentListStateService.tableFilters.length;t++)if(this.documentListStateService.tableFilters[t].filterBy===e.filterBy){if("typeSet"!==e.filterBy){this.documentListStateService.tableFilters.splice(t,1);break}if(this.filterTags&&this.filterTags.length>0){let t=0;for(let i=0;i<this.filterTags.length;i++)if("typeSet"===this.filterTags[i].filterBy&&this.filterTags[i].filterValue===e.filterValue){t=i;break}if(t>-1&&this.filterTags.splice(t,1),this.documentListStateService.tableFilters&&this.documentListStateService.tableFilters.length>0)for(let i=0;i<this.documentListStateService.tableFilters.length;i++)if("typeSet"===this.documentListStateService.tableFilters[i].filterBy){if(this.documentListStateService.tableFilters[i].filterValue&&this.documentListStateService.tableFilters[i].filterValue.length>0){let t=-1;for(let n=0;n<this.documentListStateService.tableFilters[i].filterValue.length;n++)if(this.documentListStateService.tableFilters[i].filterValue[n]===e.filterValue){t=n;break}t>-1&&this.documentListStateService.tableFilters[i].filterValue.splice(t,1)}break}return void this.getFilteredDocumentList(this.documentListStateService.tableFilters)}}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onClearAllFilters(){this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onBasicFiltersApply(e){this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]);for(let t=0;t<e.length;t++){const i=e[t];let n=!1;for(let e=0;e<this.documentListStateService.tableFilters.length;e++)if(this.documentListStateService.tableFilters[e].filterBy===i.filterBy){this.documentListStateService.tableFilters[e]=i,n=!0;break}n||this.documentListStateService.tableFilters.push(s.CommonUtil.cloneObject(i))}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}updateDisplayvalueForStatus(e){const t=[];for(let i=0;i<e.filterValue.length;i++){const n=e.filterValue[i];for(let i=0;i<this.typeList.length;i++){const c=this.typeList[i];if(c.value===n){t.push({filterBy:"typeSet",filterValue:c.value,label:e.label,type:"text",filterDisplayValue:c.label});break}}}return t}getDefaultTableFilters(){return di.getDefaultBasicSearchTableFilters(this.typeList)}initTableFilters(){this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[])}initSearchQuery(){this.documentListStateService.documentSearchQuery||(this.documentListStateService.documentSearchQuery=this.getDefaultDocumentSearchQuery())}getDefaultDocumentSearchQuery(){return this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]),{searchTerms:null,tableFilters:this.documentListStateService.tableFilters,status:null,andQuery:!0}}onAdvancedSearchApply(e){this.documentListStateService.documentSearchQuery=e;const t=this.documentListStateService.documentSearchQuery.searchTerms,i=[];for(let n=0;n<t.length;n++){const e=t[n];if(!e.value)continue;const c=di.getSearchField(e.field),a={filterBy:c.name,filterValue:e.value,label:c.label,type:c.type,options:this.typeList,filterDisplayValue:c.value};a.filterValue&&i.push(a)}i.push({filterBy:"typeSet",filterValue:this.documentListStateService.documentSearchQuery.status,label:"monitoring.services.service.status",type:"multiSelect",options:this.typeList}),this.documentListStateService.documentSearchQuery.andQuery||i.push({filterBy:"isAnd",filterValue:this.documentListStateService.documentSearchQuery.andQuery,label:"common.labels.SearchCondition",filterDisplayValue:this.translate.instant("common.labels.or"),type:"boolean"}),this.documentListStateService.tableFilters=i,this.updateFilterTags(),this.getFilteredDocumentList(i)}onAdvancedSearchReset(e){this.documentListStateService.documentSearchQuery=e,this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}showBasicFilter(){this.documentListStateService.basicSearchFilters=this.getDefaultTableFilters();for(let e=0;e<this.documentListStateService.tableFilters.length;e++){const t=this.documentListStateService.tableFilters[e];"typeSet"===t.filterBy&&t.filterValue?this.documentListStateService.basicSearchFilters[0].filterValue=t.filterValue:"documentName"===t.filterBy&&t.filterValue&&(this.documentListStateService.basicSearchFilters[1].filterValue=t.filterValue)}}showAdvancedSearch(){this.documentListStateService.documentSearchQuery=this.getDefaultDocumentSearchQuery()}onKeydownEnter(e){this.router.navigateByUrl("/monitoring/document/"+e)}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe()),this.destroyed$.next(!0),this.destroyed$.complete()}handleKeydown(e){27===e.keyCode?this.tablePrefsOverlay&&this.tablePrefsOverlay.hide():13===e.keyCode&&e.target&&"showColumns"===e.target.id&&this.tablePrefsOverlay&&this.tablePrefsOverlay.hide()}showTablePrefs(e){const t=this;setTimeout(()=>{t.tablePrefs.setFocus()},10)}pieItemClicked(e){const t=e.label;if(this.documentListStateService.tableFilters&&0!==this.documentListStateService.tableFilters.length){for(let e=0;e<this.documentListStateService.tableFilters.length;e++)if("typeSet"===this.documentListStateService.tableFilters[e].filterBy){this.documentListStateService.tableFilters[e].filterValue=[t];break}}else this.documentListStateService.tableFilters=[],this.documentListStateService.tableFilters.push({filterBy:"typeSet",filterValue:[t],label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList});this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onRowUnselect(e){e&&"checkbox"===e.type&&e.data&&e.data.DOCUMENTID&&(this.selectedDocumentIDs=this.selectedDocumentIDs.filter(t=>t!==e.data.DOCUMENTID))}onRowSelect(e){e&&"checkbox"===e.type&&e.data&&e.data.DOCUMENTID&&this.selectedDocumentIDs.push(e.data.DOCUMENTID)}onHeaderCheckboxToggle(e){if(e&&(this.selectedDocumentIDs=new Array,e.checked))for(const t of this.documentList)this.selectedDocumentIDs.push(t.DOCUMENTID)}resubmitDocuments(){this.subs.push(this.documentAPIService.resubmitDocuments(this.selectedDocumentIDs).subscribe(e=>{e&&e.message&&e.message.length>0&&this.toastr.success(this.translate.instant("monitoring.documents.multiple.document.resubmit.success.msg",{msg:e.message}),this.translate.instant("monitoring.documents.multiple.document.resubmit.success.title"),{enableHtml:!0}),this.refreshDocumentList()},e=>{const t=Object(j.L)(e,this.translate);this.toastr.error(this.translate.instant("monitoring.documents.multiple.document.resubmit.failed.msg",{errMsg:t}),this.translate.instant("monitoring.documents.multiple.document.resubmit.failed.title")),this.refreshDocumentList()}))}showHelp(){}goToHomePage(){this.router.navigateByUrl(this.homeLink)}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(W),o.Zb(s.TableSettingsService),o.Zb(n.d),o.Zb(j.B),o.Zb(li),o.Zb(h.f),o.Zb(Q.b),o.Zb(s.DateTimeService),o.Zb(o.h),o.Zb(s.PreferencesService))},e.\u0275cmp=o.Tb({type:e,selectors:[["app-document-list"]],viewQuery:function(e,t){if(1&e&&(o.hd(Ui,1),o.hd($i,1),o.hd(Ki,1)),2&e){let e;o.Oc(e=o.qc())&&(t.isMonDocTable=e.first),o.Oc(e=o.qc())&&(t.tablePrefs=e.first),o.Oc(e=o.qc())&&(t.tablePrefsOverlay=e.first)}},hostBindings:function(e,t){1&e&&o.pc("keydown",function(e){return t.handleKeydown(e)},!1,o.Qc)},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"doclistcontainer"],[1,"row"],[1,"col","page-title"],[1,"d-flex","col","justify-content-end",2,"min-width","615px"],[1,"col-12","right-align",3,"timeRange","refreshInterval","isCustomTimeRange","alignSelector","showRefresh","showAutoRefresh","onSelectTimeRange","onRefreshContent","onRefreshIntervalChanged"],[1,"chartContainerDoc",3,"ngClass"],[1,"row","chart-row"],[1,"col-4"],[1,"header"],[2,"padding-left","10px"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col-8"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle",4,"ngIf"],[1,"col-5"],[3,"data","heightInput","pieItemClicked"],[1,"col-7","border-right"],[3,"data","heightInput","legendItemClicked"],[1,"donutInfo"],["src","assets/images/svgs/Chart-info-icon.svg",2,"width","16px","height","16px",3,"alt"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay",""],["tablePrefs",""],[1,"dlt-data-table-container"],["width","100%"],[2,"vertical-align","top","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[2,"display","inline-flex"],[1,"dlt-dropdown"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],["showDelay","250","tabindex","0","tooltipPosition","left",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandTable",""],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button",3,"disabled","click"],[1,"dlt-table-wrapper"],["class","dlt-inline warn-border",4,"ngIf"],["lazyLoadOnInit","false","sortMode","single","sortOrder","-1","dataKey","DOCUMENTID","columnResizeMode","fit",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","selection","first","showPageLinks","showJumpToPageDropdown","resizableColumns","responsive","onLazyLoad","selectionChange","onRowUnselect","onRowSelect","onHeaderCheckboxToggle","firstChange","onColResize"],["isMonDocTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorleft"],[1,"filterCell"],[2,"margin-right","10px"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","searchButton",3,"click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button","searchButton",3,"click"],[3,"styleClass","tableFilters","onFiltersReset","onFiltersApply","onFilterChange"],["filterOverlayPanel",""],[3,"documentSearchQuery","docStatusList","onDocAdvancedSearchApply","onDocAdvancedSearchReset"],["advancedSearchOverlayPanel",""],[3,"filterTags","onClearAll","onClearFilter"],[1,"dlt-inline","warn-border"],[1,"dlg-title-wrapper"],[1,"dlt-icon-warning","warn-icon"],[1,"inline-message"],["showDelay","250",1,"dlt-icon-close","close-icon","closeWarning",3,"pTooltip","click"],[1,"tableHeaderSelectAll"],["id","headerCheckbox"],["headerCheckbox",""],[4,"ngFor","ngForOf"],["pResizableColumn","","tooltipPosition","top",3,"pSortableColumn","pTooltip","id","ngStyle",4,"ngIf"],["pResizableColumn","","tooltipPosition","top",3,"pSortableColumn","pTooltip","id","ngStyle"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data","centerAlignText"],[3,"pSelectableRow","keydown.enter"],[1,"selection-checkbox",2,"color","#000"],[3,"value"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["showDelay","250","tooltipPosition","top","class","docLink",3,"pTooltip","routerLink",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"firstPart"],["showDelay","250","tooltipPosition","top",1,"docLink",3,"pTooltip","routerLink"],[1,"lastPart"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"table-data"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(o.fc(0,"div",0),o.fc(1,"ol",1),o.fc(2,"li"),o.fc(3,"a",2),o.bd(4),o.uc(5,"translate"),o.ec(),o.ec(),o.fc(6,"li"),o.fc(7,"a",3),o.bd(8),o.uc(9,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.Zc(10,xn,27,25,"ng-container",4),o.Zc(11,On,24,23,"ng-template",null,5,o.ad)),2&e){const e=o.Pc(12);o.Lb(4),o.cd(o.vc(5,4,"masthead.administration")),o.Lb(4),o.cd(o.vc(9,6,"monitoring.documents.tab")),o.Lb(2),o.Ac("ngIf",t.isChartDataAvailable)("ngIfElse",e)}},directives:[h.i,r.o,s.DateTimerangePanelComponent,r.m,gi,bi,s.ACLoaderComponent,Ci,Si.a,s.TablePreferencesComponent,ee.a,xi.h,d.k,s.FilterOverlayPanelComponent,ji,s.FilterTagsComponent,xi.j,r.n,xi.d,xi.g,r.p,xi.f,xi.e,xi.i],pipes:[n.c,j.u,j.F,j.G],styles:[".documentList-table[_ngcontent-%COMP%]{margin:10px}.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.doclistcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap;overflow:none;min-width:-moz-fit-content;min-width:fit-content}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.service-table-wrapper[_ngcontent-%COMP%]{padding:5px}.data-table-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;color:#333;position:relative;display:flex;line-height:2rem;white-space:nowrap}.documentList-table[_ngcontent-%COMP%]   .table-toolbar[_ngcontent-%COMP%]{display:flex;width:100%;height:2rem;align-items:flex-end;justify-content:flex-end}.documentList-table[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{max-width:300px}.documentList-table[_ngcontent-%COMP%]   .xs-button[_ngcontent-%COMP%]{line-height:1.75rem;margin:2px 10px 2px 0}.documentList-table[_ngcontent-%COMP%]   .dlt-dropdown[_ngcontent-%COMP%]{line-height:2rem;margin:0 10px 0 0}.documentList-table[_ngcontent-%COMP%]   .dlt-button-icon[_ngcontent-%COMP%]{height:1.75rem!important;width:1.75rem!important}.hidden[_ngcontent-%COMP%]{display:none}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.padding-top-30[_ngcontent-%COMP%]{padding-top:30px}.legend-panel[_ngcontent-%COMP%]{background:#fff none repeat scroll 0 0;height:auto;position:absolute;right:20px;top:60px}.panel[_ngcontent-%COMP%]{margin-top:27px!important;border:1px solid #cccccb;padding:0 10px}.chartContainerDoc[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.row.chart-row[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border:1px solid #dadada;background-color:#fff;margin-bottom:20px;margin-top:10px}.header[_ngcontent-%COMP%]{color:#666;padding-left:2px;padding-right:2px;margin-bottom:0;padding-top:10px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:20px}.donutInfo[_ngcontent-%COMP%]{color:#666;padding-top:0;padding-bottom:10px;padding-left:10px;font-size:.7rem}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.dlt-inline[_ngcontent-%COMP%]{width:100%;margin-top:10px}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}a.docLink[_ngcontent-%COMP%]{color:var(--wmio-primary-color,#1776bf)!important}a.docLink[_ngcontent-%COMP%]:focus, a.docLink[_ngcontent-%COMP%]:hover{text-decoration:underline!important}.firstPart[_ngcontent-%COMP%], .lastPart[_ngcontent-%COMP%]{text-decoration:inherit!important}.dlt-icon-tbl[_ngcontent-%COMP%]{width:40px}.filterCell[_ngcontent-%COMP%]{margin-top:0}.closeWarning[_ngcontent-%COMP%]{cursor:pointer}.searchButton[_ngcontent-%COMP%]{display:inline!important}.tb-vert[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important}"]}),e})();var Dn=i("rK5H");const Pn=function(e){return[e]},An=function(e){return{"dlt-tab-link-selected":e}},kn=function(){return["dlt-tab-link-selected"]},Rn=function(){return{exact:!0}};function En(e,t){if(1&e&&(o.dc(0),o.fc(1,"div",2),o.fc(2,"ul",3),o.fc(3,"li",4),o.fc(4,"a",5),o.bd(5),o.uc(6,"translate"),o.ec(),o.ec(),o.fc(7,"li",4),o.fc(8,"a",5),o.bd(9),o.uc(10,"translate"),o.ec(),o.ec(),o.fc(11,"li",4),o.fc(12,"a",6),o.bd(13),o.uc(14,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(15,"div",7),o.fc(16,"div",8),o.ac(17,"router-outlet"),o.ec(),o.ec(),o.cc()),2&e){const e=o.tc();o.Lb(4),o.Ac("id",e.subNavItems[0].id)("routerLink",o.Gc(19,Pn,null==e.subNavItems[0]?null:e.subNavItems[0].link))("ngClass",o.Gc(21,An,e.isServiceLinkActive())),o.Lb(1),o.dd(" ",o.vc(6,13,null==e.subNavItems[0]?null:e.subNavItems[0].displayText)," "),o.Lb(3),o.Ac("id",null==e.subNavItems[1]?null:e.subNavItems[1].id)("routerLink",o.Gc(23,Pn,null==e.subNavItems[1]?null:e.subNavItems[1].link))("ngClass",o.Gc(25,An,e.isDocumentLinkActive())),o.Lb(1),o.dd(" ",o.vc(10,15,null==e.subNavItems[1]?null:e.subNavItems[1].displayText)," "),o.Lb(3),o.Ac("id",null==e.subNavItems[2]?null:e.subNavItems[2].id)("routerLink",o.Gc(27,Pn,null==e.subNavItems[2]?null:e.subNavItems[2].link))("routerLinkActive",o.Fc(29,kn))("routerLinkActiveOptions",o.Fc(30,Rn)),o.Lb(1),o.dd(" ",o.vc(14,17,null==e.subNavItems[2]?null:e.subNavItems[2].displayText)," ")}}function Fn(e,t){1&e&&(o.fc(0,"div",13),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.cd(o.vc(2,1,"monitoring.error.information")))}function Bn(e,t){if(1&e&&(o.fc(0,"div",14),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorInformation)}}function Nn(e,t){if(1&e&&(o.fc(0,"div",14),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage1)}}function Vn(e,t){if(1&e&&(o.fc(0,"div",14),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage2)}}function Hn(e,t){if(1&e&&(o.fc(0,"div",14),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage3)}}function Zn(e,t){if(1&e&&(o.fc(0,"div",9),o.bd(1),o.uc(2,"translate"),o.ec(),o.fc(3,"ul"),o.fc(4,"li",10),o.bd(5),o.uc(6,"translate"),o.ec(),o.fc(7,"li",10),o.bd(8),o.uc(9,"translate"),o.ec(),o.fc(10,"li",10),o.bd(11),o.uc(12,"translate"),o.ec(),o.fc(13,"li",10),o.bd(14),o.uc(15,"translate"),o.ec(),o.ec(),o.Zc(16,Fn,3,3,"div",11),o.Zc(17,Bn,2,1,"div",12),o.Zc(18,Nn,2,1,"div",12),o.Zc(19,Vn,2,1,"div",12),o.Zc(20,Hn,2,1,"div",12)),2&e){const e=o.tc();o.Lb(1),o.dd(" ",o.vc(2,10,"monitoring.unavailable.message")," "),o.Lb(4),o.dd(" ",o.vc(6,12,"monitoring.services.unavailable.ensure1")," "),o.Lb(3),o.dd(" ",o.vc(9,14,"monitoring.services.unavailable.ensure2")," "),o.Lb(3),o.dd(" ",o.vc(12,16,"monitoring.services.unavailable.ensure3")," "),o.Lb(3),o.dd(" ",o.vc(15,18,"monitoring.services.unavailable.ensure4")," "),o.Lb(2),o.Ac("ngIf",e.monitoringErrorInformation||e.monitoringErrorMessage1||e.monitoringErrorMessage2||e.monitoringErrorMessage3),o.Lb(1),o.Ac("ngIf",e.monitoringErrorInformation),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage1),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage2),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage3)}}let zn=(()=>{class e{constructor(e,t,i,n){this.router=e,this.translate=t,this.monitoringLayoutService=n,this.destroyed$=new p.a,this.monitoring="/monitoring/",this.services=this.monitoring+"services",this.service=this.monitoring+"service",this.documents=this.monitoring+"documents",this.document=this.monitoring+"document",this.dataManagement=this.monitoring+"data-management",this.subscriptions=[],this.isWmMonitorAvailable=!0,this.subNavItems=j.k.getMonitorNavItems,this.isPackageService=i,this.checkMonitorStatus()}checkMonitorStatus(){this.subscriptions.push(this.isPackageService.getISPackageInfo("WmMonitor").pipe(Object(g.a)(this.destroyed$)).subscribe(e=>{if(e&&"WmMonitor"===e.packageName&&"true"===e.enabled)return this.isWmMonitorAvailable=!0,void this.subscriptions.push(this.monitoringLayoutService.navLink.subscribe(e=>{this.activeRouteLink=e.startsWith(this.service)?this.services:e.startsWith(this.document)?this.documents:this.dataManagement}));this.monitoringErrorMessage2=this.translate.instant(e&&"WmMonitor"===e.packageName&&"false"===e.enabled?"monitoring.wmmonitor.disabled":"monitoring.wmmonitor.not.installed"),this.isWmMonitorAvailable=!1},e=>{this.isWmMonitorAvailable=!1,this.monitoringErrorMessage2=this.translate.instant("monitoring.wmmonitor.not.installed"),this.monitoringErrorMessage3=Object(j.L)(e,this.translate)}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.destroyed$.next(!0),this.destroyed$.complete()}isServiceLinkActive(){return(this.router.url&&this.router.url.indexOf("/service"))>-1}isDocumentLinkActive(){return(this.router.url&&this.router.url.indexOf("/document"))>-1}ngOnInit(){!this.activeRouteLink&&this.subNavItems&&this.subNavItems.length>0&&(this.activeRouteLink=this.subNavItems[0].link)}onNavItemClick(e,t){this.activeRouteLink=t.link,e.stopPropagation(),e.preventDefault(),this.activeRouteLink=t.link,this.router.navigateByUrl(t.link)}getClassForServicesTab(){return this.activeRouteLink===this.services?"selected-navigation-link":"navigation-link"}getClassForDocumentsTab(){return this.activeRouteLink===this.documents?"selected-navigation-link":"navigation-link"}getClassForDataManagementTab(){return this.activeRouteLink===this.dataManagement?"selected-navigation-link":"navigation-link"}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(h.f),o.Zb(n.d),o.Zb(Dn.a),o.Zb(Y))},e.\u0275cmp=o.Tb({type:e,selectors:[["app-monitoring-layout"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"monitoring","dlt-tab-bar"],["role","tablist",1,"dlt-tab-nav"],["role","presentation"],["role","tab",1,"dlt-tab-link",3,"id","routerLink","ngClass"],["role","tab",1,"dlt-tab-link",3,"id","routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"monitoring-container"],[1,"monitoring-area"],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(o.Zc(0,En,18,31,"ng-container",0),o.Zc(1,Zn,21,20,"ng-template",null,1,o.ad)),2&e){const e=o.Pc(2);o.Ac("ngIf",t.isWmMonitorAvailable)("ngIfElse",e)}},directives:[r.o,h.i,r.m,h.h,h.k],pipes:[n.c],styles:[".sub-nav[_ngcontent-%COMP%]{position:relative;padding:0 30px;height:56px;border-radius:0;background-color:#fff;box-shadow:0 1px 0 0 rgba(0,0,0,.15);border:none}.sub-nav[_ngcontent-%COMP%], .sub-nav__container[_ngcontent-%COMP%]{list-style-type:none;margin:0}.sub-nav__container[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:0}.sub-nav__container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:32px;padding:7px 16px}.sub-nav__container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;display:block;text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]{padding-bottom:7px;border:2px solid transparent}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]:hover{padding-bottom:7px;border:2px solid #14629f}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none;font-size:14px}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:var(--wmio-primary-color,#1776bf);text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]{font-weight:700;padding-bottom:7px;border-style:solid;color:transparent;border-bottom:solid #14629f;border-width:2px}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--wmio-primary-color,#1776bf)}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]:hover{border-color:#14629f}.navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navigation-link[_ngcontent-%COMP%]:hover, .selected-navigation-link[_ngcontent-%COMP%]{border-bottom-color:#14629f}.navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .navigation-link[_ngcontent-%COMP%]:focus{border-color:#14629f}.monitoring-container[_ngcontent-%COMP%]{height:calc(100vh - 64px - 56px - 15px);width:100%;margin-bottom:1rem}.monitoring-area[_ngcontent-%COMP%]{height:100%;width:100%}.monitoring[_ngcontent-%COMP%]{margin-top:5px}  .dlt-tab-bar{box-shadow:0 1px 0 0 #e5e5e5}  .dlt-tab-bar ul.dlt-tab-nav li{width:auto!important} .dlt-tab-bar ul.dlt-tab-nav li a.dlt-tab-link{border-bottom:2px solid transparent;color:#333!important}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}"]}),e})();var jn=i("Iab2"),Un=i("lJxs");new Z.f({"Content-Type":"application/json"});let $n=(()=>{class e{constructor(e,t,i,n){this.http=e,this.translateService=t,this.dateTimeService=i,this.toastr=n,this.servicesUrl="/admin/monitor"}getServices(){const e=j.K.getISBaseUrl();return this.http.get(e+this.servicesUrl+"/service").pipe(Object(Un.a)(e=>{if(e&&e.services)return e.services;throw new Error("Invalid response format received while getting service list")}),Object(U.a)(this.handleError("getServices",[])))}getServiceDetails(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.servicesUrl+"/service/"+e).pipe(Object(U.a)(this.handleError("getServiceDetails")))}getServiceHistory(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.servicesUrl+"/service/"+e+"/history").pipe(Object(U.a)(this.handleError("getServiceHistory")))}getServiceActivityMessages(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.servicesUrl+"/service/"+e+"/activity_logs").pipe(Object(U.a)(this.handleError("getServiceActivityMessages")))}getControlActions(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.servicesUrl+"/service/"+e+"/control_actions").pipe(Object(U.a)(this.handleError("getControlActions")))}getLoggedFields(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.servicesUrl+"/service/"+e+"/custom_data").pipe(Object(U.a)(this.handleError("getLoggedFields")))}getServiceErrors(e){const t=j.K.getISBaseUrl();return this.http.get(t+this.servicesUrl+"/service/"+e+"/errors").pipe(Object(U.a)(this.handleError("getServiceErrors")))}getMonitorStatus(){const e=j.K.getISBaseUrl();return this.http.get(e+this.servicesUrl+"/status")}resubmitService(e,t,i){const n=j.K.getISBaseUrl();return this.http.post(n+this.servicesUrl+"/service/"+e+"?action=resubmit&name="+t,i).pipe(Object(U.a)(this.handleResubmitError))}resubmitServices(e){let t=j.K.getISBaseUrl()+this.servicesUrl+"/service?action=resubmit";for(const i of e)t+="&contextIDs[]="+i;return this.http.post(t,null)}handleError(e="operation",t){return i=>{console.error(i),this.log(`${e} failed: ${i.message}`);const n=Object(j.L)(i,this.translateService);return this.toastr.error(n),Object($.a)(t)}}handleResubmitError(e){let t=null;t=e instanceof Response?`${e.status} - ${e.statusText||""} ${e||""}`:e.message?e.message:e.toString();const i=Object(j.L)(e,this.translateService);return this.toastr.error(i),console.error(t),Object($.a)(t)}log(e){o.fb&&console.log(`ServiceApiService: ${e}`)}getServiceExecutionList(e,t,i="LASTTIMESTRING",n,c,a,s){let r=(new Z.g).set("pageNumber",e).set("pageSize",t).set("sortColumn",i).set("sortAscending",n);if(s&&s.length>0)for(let l=0;l<s.length;l++)if("durationInHours"===s[l].filterBy){const e=this.setStartAndFromDateWithoutSeconds(s[l].filterValue,c,a);c=e.startTime,a=e.endTime,s.splice(l,1);break}c&&(r=r.append("fromDate",c)),a&&(r=r.append("toDate",a)),this.hasIsAnd(s)||(r=r.append("isAnd","TRUE")),r=j.K.getFliterToQueryParam(s,r);const o=j.K.getISBaseUrl();return this.http.get(o+this.servicesUrl+"/service",{params:r})}hasIsAnd(e){if(!e||0===e.length)return!1;for(let t=0;t<e.length;t++)if("isAnd"===e[t].filterBy)return!0;return!1}setStartAndFromDateWithoutSeconds(e,t,i){return{startTime:(i=K.utc().startOf("minute")).clone().subtract(e,"hours").valueOf(),endTime:i=i.valueOf()}}getServiceExecutionChartData(e,t,i){let n=new Z.g;if(t||i||e||(e=1),e){const n=this.setStartAndFromDateWithoutSeconds(e,t,i);t=n.startTime,i=n.endTime}t&&(n=n.append("fromDate",t)),i&&(n=n.append("toDate",i)),n=n.append("isAnd","TRUE"),n=n.append("customIntervals","20");const c=j.K.getISBaseUrl();return this.http.get(c+this.servicesUrl+"/service/summary",{params:n})}summarizedChartData(e,t,i,n){if(e){const c=[];let a="";const s=[],r=[],o=[],l=[];a=this.getLabelForBarChartXAxis(t,i,n);for(const t of e.serviceArray){const e=t.startTimestamp,i=t.endTimestamp;let n;0===c.length&&(n=n);let a="0",s="0",r="0",o="0";if(t.statusDetails.length>0)for(const c of t.statusDetails)"failed"===c.status?r=c.numberOfExecutions.toString():"completed"===c.status?s=c.numberOfExecutions.toString():"resubmitted"===c.status?o=c.numberOfExecutions.toString():"started"===c.status&&(a=c.numberOfExecutions.toString());const l={completed:s,completedOriginal:s,failed:r,failedOriginal:r,resubmitted:o,resubmittedOriginal:o,started:a,startedOriginal:a,startTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(e),endTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(i)};c.push(l)}for(let e=0;e<c.length;e++)s.push(c[e].completed),r.push(c[e].failed),o.push(c[e].started),l.push(c[e].resubmitted);const d=s.reduce((e,t)=>Math.max(e,t)),u=r.reduce((e,t)=>Math.max(e,t)),h=o.reduce((e,t)=>Math.max(e,t)),p=l.reduce((e,t)=>Math.max(e,t)),g=Math.max(d,u,h,p);if(g>0)for(let e=0;e<c.length;e++){if("0"!==c[e].completed){let t=Number(c[e].completed)/Number(g)*100;for(;t<6;)c[e].completed=(Number(c[e].completed)+1).toString(),t=Number(c[e].completed)/Number(g)*100}if("0"!==c[e].failed){let t=Number(c[e].failed)/Number(g)*100;for(;t<6;)c[e].failed=(Number(c[e].failed)+1).toString(),t=Number(c[e].failed)/Number(g)*100}if("0"!==c[e].started){let t=Number(c[e].started)/Number(g)*100;for(;t<6;)c[e].started=(Number(c[e].started)+1).toString(),t=Number(c[e].started)/Number(g)*100}if("0"!==c[e].resubmitted){let t=Number(c[e].resubmitted)/Number(g)*100;for(;t<6;)c[e].resubmitted=(Number(c[e].resubmitted)+1).toString(),t=Number(c[e].resubmitted)/Number(g)*100}}const m=new Map;return m.set("barData",c),m.set("barChartLabel",a),m.set("totalCompleted",e.totalCompleted),m.set("totalFailed",e.totalFailed),m.set("totalStarted",e.totalStarted),m.set("totalResubmitted",e.totalResubmitted),m.set("donutData",this.getDonutData(e)),m.set("columnKeyColorArray",this.getServiceBarColumnKeyColorArray(e.totalStarted,e.totalCompleted,e.totalFailed,e.totalResubmitted)),m}throw new Error("Invalid response format for integration serivce execution chart")}getLabelForBarChartXAxis(e,t,i){let n="";return e&&e<=24?n=this.translateService.instant(1===e?"common.chart.label.time.duration.hour":"common.chart.label.time.duration.hours",{value:e}):e&&48===e?n=this.translateService.instant("common.chart.label.time.duration.days",{value:e/24}):e&&e>48?n=this.translateService.instant(168===e?"common.chart.label.time.duration.week":"common.chart.label.time.duration.weeks",{value:e/168}):t&&i&&(n=this.translateService.instant("common.chart.label.time.duration.custom",{value1:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(t),value2:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(i)})),n}getServiceBarColumnKeyColorArray(e,t,i,n){return[{key:"started",color:s.COLOR_HEX.STARTED,displayValue:"monitoring.services.service.status.started",count:e},{key:"completed",color:s.COLOR_HEX.COMPLETED,displayValue:"monitoring.services.service.status.completed",count:t},{key:"failed",color:s.COLOR_HEX.FAILED,displayValue:"monitoring.services.service.status.failed",count:i},{key:"resubmitted",color:s.COLOR_HEX.RESUBMITTED,displayValue:"monitoring.services.service.status.resubmitted",count:n}]}getDonutData(e){return[{label:"started",displayLabel:"monitoring.services.service.status.started",value:e.totalStarted,color:s.COLOR_HEX.STARTED},{label:"completed",displayLabel:"monitoring.services.service.status.completed",value:e.totalCompleted,color:s.COLOR_HEX.COMPLETED},{label:"failed",displayLabel:"monitoring.services.service.status.failed",value:e.totalFailed,color:s.COLOR_HEX.FAILED},{label:"resubmitted",displayLabel:"monitoring.services.service.status.resubmitted",value:e.totalResubmitted,color:s.COLOR_HEX.RESUBMITTED}]}}return e.\u0275fac=function(t){return new(t||e)(o.mc(Z.b),o.mc(n.d),o.mc(s.DateTimeService),o.mc(Q.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Kn=i("TFiL"),Qn=i("KnEf");const Wn=["runTreeRef"],qn=["op"],Xn=["pipelineInput"];function Gn(e,t){if(1&e&&(o.fc(0,"div",93),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Bc("pTooltip",e.serviceDetails.details.ERRORMESSAGE),o.Lb(1),o.dd("",e.serviceDetails.details.ERRORMESSAGE," ")}}function Jn(e,t){1&e&&(o.fc(0,"div",93),o.uc(1,"translate"),o.bd(2),o.uc(3,"translate"),o.ec()),2&e&&(o.Bc("pTooltip",o.vc(1,2,"monitoring.services.service.errors.none")),o.Lb(2),o.dd(" ",o.vc(3,4,"monitoring.services.service.errors.none")," "))}function Yn(e,t){if(1&e&&(o.dc(0),o.ac(1,"hr",35),o.fc(2,"div",54),o.fc(3,"div",94),o.bd(4),o.uc(5,"translate"),o.ec(),o.ec(),o.ac(6,"hr",95),o.fc(7,"div",54),o.fc(8,"div",96),o.fc(9,"div",97),o.fc(10,"a",98),o.bd(11),o.ec(),o.ec(),o.ec(),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(4),o.dd(" ",o.vc(5,4,"monitoring.services.root.service")," "),o.Lb(6),o.Bc("pTooltip",e.serviceDetails.details.root.SERVICENAME),o.Bc("routerLink",e.getRootServiceLink()),o.Lb(1),o.dd(" ",e.serviceDetails.details.root.SERVICENAME," ")}}function ec(e,t){if(1&e&&(o.dc(0),o.ac(1,"hr",35),o.fc(2,"div",54),o.fc(3,"div",94),o.bd(4),o.uc(5,"translate"),o.ec(),o.ec(),o.ac(6,"hr",95),o.fc(7,"div",54),o.fc(8,"div",96),o.fc(9,"div",97),o.fc(10,"a",98),o.bd(11),o.ec(),o.ec(),o.ec(),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(4),o.dd(" ",o.vc(5,4,"monitoring.services.parent.service")," "),o.Lb(6),o.Bc("pTooltip",e.serviceDetails.details.parent.SERVICENAME),o.Bc("routerLink",e.getParentServiceLink()),o.Lb(1),o.dd(" ",e.serviceDetails.details.parent.SERVICENAME," ")}}function tc(e,t){if(1&e&&(o.dc(0),o.ac(1,"hr",35),o.fc(2,"div",54),o.fc(3,"div",94),o.bd(4),o.uc(5,"translate"),o.ec(),o.ec(),o.ac(6,"hr",95),o.fc(7,"div",54),o.fc(8,"div",96),o.fc(9,"div",97),o.fc(10,"a",98),o.bd(11),o.ec(),o.ec(),o.ec(),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(4),o.dd(" ",o.vc(5,4,"monitoring.services.last.audited.parent.service")," "),o.Lb(6),o.Bc("pTooltip",e.serviceDetails.details.auditparent.SERVICENAME),o.Bc("routerLink",e.getLastAuditedParentServiceLink()),o.Lb(1),o.dd(" ",e.serviceDetails.details.auditparent.SERVICENAME," ")}}function ic(e,t){if(1&e&&(o.fc(0,"div",97),o.fc(1,"a",98),o.bd(2),o.ec(),o.ec()),2&e){const e=t.index,i=o.tc(3);o.Lb(1),o.Bc("pTooltip",i.serviceDetails.details.children[e].SERVICENAME),o.Bc("routerLink",i.getChildServiceLink(e)),o.Lb(1),o.dd(" ",i.serviceDetails.details.children[e].SERVICENAME," ")}}function nc(e,t){if(1&e&&(o.dc(0),o.ac(1,"hr",35),o.fc(2,"div",54),o.fc(3,"div",94),o.bd(4),o.uc(5,"translate"),o.ec(),o.ec(),o.ac(6,"hr",95),o.fc(7,"div",54),o.fc(8,"div",99),o.Zc(9,ic,3,3,"div",100),o.ec(),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(4),o.dd(" ",o.vc(5,2,"monitoring.services.child.services")," "),o.Lb(5),o.Ac("ngForOf",e.serviceDetails.details.children)}}function cc(e,t){if(1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.ed(" ",o.vc(2,2,"monitoring.services.service.history.section")," (",e.serviceHistory.history.length,") ")}}function ac(e,t){1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.dd(" ",o.vc(2,1,"monitoring.services.service.history.section")," "))}function sc(e,t){if(1&e){const e=o.gc();o.fc(0,"span",101),o.fc(1,"a",102),o.pc("click",function(t){return o.Rc(e),o.tc(2).toggleServiceHistoryHeight(t)}),o.bd(2),o.ec(),o.ec()}if(2&e){const e=o.tc(2);o.Lb(2),o.cd(e.serviceHistoryScrollHeightTxt)}}function rc(e,t){if(1&e&&(o.dc(0,107),o.fc(1,"th",108),o.uc(2,"translate"),o.bd(3),o.ac(4,"p-sortIcon",109),o.ec(),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ob(e.class),o.Bc("pTooltip",o.vc(2,7,e.header)),o.Ac("pSortableColumn",e.field),o.Lb(2),o.dd(" ",e.header," "),o.Lb(1),o.Ac("field",e.field)}}function oc(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,rc,5,9,"ng-container",106),o.ec()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngForOf",e)}}function lc(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",110),o.uc(2,"preferredDateTime"),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.fc(5,"td",111),o.bd(6),o.ec(),o.ec()),2&e){const e=t.$implicit,i=o.tc(3);o.Lb(1),o.Bc("pTooltip",o.xc(2,4,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),o.Lb(2),o.dd(" ",o.xc(4,8,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),o.Lb(2),o.Bc("pTooltip",e.STATUSDECODE),o.Lb(1),o.cd(e.STATUSDECODE)}}function dc(e,t){if(1&e&&(o.dc(0),o.fc(1,"p-table",103),o.Zc(2,oc,2,1,"ng-template",104),o.Zc(3,lc,7,12,"ng-template",105),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(1),o.Bc("scrollHeight",e.serviceHistoryScrollHeight),o.Ac("columns",e.histCols)("value",e.serviceHistory.history)("scrollable",!0)}}function uc(e,t){1&e&&(o.fc(0,"tr"),o.fc(1,"td"),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e&&(o.Lb(2),o.cd(o.vc(3,1,"common.table.zero.items")))}function hc(e,t){if(1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.ed(" ",o.vc(2,2,"monitoring.services.service.activity.messages.section")," (",e.activityMessages.activityLogs.length,") ")}}function pc(e,t){1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.dd(" ",o.vc(2,1,"monitoring.services.service.activity.messages.section")," "))}function gc(e,t){if(1&e){const e=o.gc();o.fc(0,"span",101),o.fc(1,"a",102),o.pc("click",function(t){return o.Rc(e),o.tc(2).toggleActivityMessagesHeight(t)}),o.bd(2),o.ec(),o.ec()}if(2&e){const e=o.tc(2);o.Lb(2),o.cd(e.activityMessagesScrollHeightTxt)}}function mc(e,t){if(1&e&&(o.dc(0,107),o.fc(1,"th",108),o.uc(2,"translate"),o.bd(3),o.ac(4,"p-sortIcon",109),o.ec(),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ob(e.class),o.Bc("pTooltip",o.vc(2,7,e.header)),o.Ac("pSortableColumn",e.field),o.Lb(2),o.dd(" ",e.header," "),o.Lb(1),o.Ac("field",e.field)}}function fc(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,mc,5,9,"ng-container",106),o.ec()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngForOf",e)}}function bc(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",110),o.uc(2,"preferredDateTime"),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.fc(5,"td",112),o.bd(6),o.ec(),o.fc(7,"td",112),o.bd(8),o.ec(),o.fc(9,"td",113),o.bd(10),o.ec(),o.ec()),2&e){const e=t.$implicit,i=o.tc(3);o.Lb(1),o.Bc("pTooltip",o.xc(2,8,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),o.Lb(2),o.dd(" ",o.xc(4,12,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),o.Lb(2),o.Bc("pTooltip",e.ENTRYTYPE),o.Lb(1),o.cd(e.ENTRYTYPE),o.Lb(1),o.Bc("pTooltip",e.BRIEFMESSAGE),o.Lb(1),o.cd(e.BRIEFMESSAGE),o.Lb(1),o.Bc("pTooltip",e.FULLMESSAGE),o.Lb(1),o.cd(e.FULLMESSAGE)}}function vc(e,t){if(1&e&&(o.dc(0),o.fc(1,"p-table",103),o.Zc(2,fc,2,1,"ng-template",104),o.Zc(3,bc,11,16,"ng-template",105),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(1),o.Bc("scrollHeight",e.activityMessagesScrollHeight),o.Ac("columns",e.actMsgCols)("value",e.activityMessages.activityLogs)("scrollable",!0)}}function yc(e,t){1&e&&(o.fc(0,"tr"),o.fc(1,"td"),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e&&(o.Lb(2),o.cd(o.vc(3,1,"common.table.zero.items")))}function Cc(e,t){if(1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.ed(" ",o.vc(2,2,"monitoring.services.service.control.actions.section")," (",e.controlActions.actions.length,") ")}}function Sc(e,t){1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.dd(" ",o.vc(2,1,"monitoring.services.service.control.actions.section")," "))}function xc(e,t){if(1&e){const e=o.gc();o.fc(0,"span",101),o.fc(1,"a",102),o.pc("click",function(t){return o.Rc(e),o.tc(2).toggleControlActionsHeight(t)}),o.bd(2),o.ec(),o.ec()}if(2&e){const e=o.tc(2);o.Lb(2),o.cd(e.controlActionsScrollHeightTxt)}}function Lc(e,t){if(1&e&&(o.dc(0,107),o.fc(1,"th",108),o.uc(2,"translate"),o.bd(3),o.ac(4,"p-sortIcon",109),o.ec(),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ob(e.class),o.Bc("pTooltip",o.vc(2,7,e.header)),o.Ac("pSortableColumn",e.field),o.Lb(2),o.dd(" ",e.header," "),o.Lb(1),o.Ac("field",e.field)}}function wc(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,Lc,5,9,"ng-container",106),o.ec()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngForOf",e)}}function Tc(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",110),o.uc(2,"preferredDateTime"),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.fc(5,"td",112),o.bd(6),o.ec(),o.fc(7,"td",112),o.bd(8),o.ec(),o.fc(9,"td",113),o.bd(10),o.ec(),o.ec()),2&e){const e=t.$implicit,i=o.tc(3);o.Lb(1),o.Bc("pTooltip",o.xc(2,8,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),o.Lb(2),o.dd(" ",o.xc(4,12,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),o.Lb(2),o.Bc("pTooltip",e.ACTIONDECODE),o.Lb(1),o.cd(e.ACTIONDECODE),o.Lb(1),o.Bc("pTooltip",e.USERNAME),o.Lb(1),o.cd(e.USERNAME),o.Lb(1),o.Bc("pTooltip",e.SERVERID),o.Lb(1),o.cd(e.SERVERID)}}function Ic(e,t){if(1&e&&(o.dc(0),o.fc(1,"p-table",103),o.Zc(2,wc,2,1,"ng-template",104),o.Zc(3,Tc,11,16,"ng-template",105),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(1),o.Bc("scrollHeight",e.controlActionsScrollHeight),o.Ac("columns",e.ctlActCols)("value",e.controlActions.actions)("scrollable",!0)}}function Mc(e,t){1&e&&(o.fc(0,"tr"),o.fc(1,"td"),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e&&(o.Lb(2),o.cd(o.vc(3,1,"common.table.zero.items")))}function Oc(e,t){if(1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.ed(" ",o.vc(2,2,"monitoring.services.service.logged.fields.section")," (",e.loggedFields.customFieldList.length,") ")}}function _c(e,t){1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.dd(" ",o.vc(2,1,"monitoring.services.service.logged.fields.section")," "))}function Dc(e,t){if(1&e){const e=o.gc();o.fc(0,"span",101),o.fc(1,"a",102),o.pc("click",function(t){return o.Rc(e),o.tc(2).toggleLoggedFieldsHeight(t)}),o.bd(2),o.ec(),o.ec()}if(2&e){const e=o.tc(2);o.Lb(2),o.cd(e.loggedFieldsScrollHeightTxt)}}function Pc(e,t){if(1&e&&(o.dc(0,107),o.fc(1,"th",108),o.uc(2,"translate"),o.bd(3),o.ac(4,"p-sortIcon",109),o.ec(),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ob(e.class),o.Bc("pTooltip",o.vc(2,7,e.header)),o.Ac("pSortableColumn",e.field),o.Lb(2),o.dd(" ",e.header," "),o.Lb(1),o.Ac("field",e.field)}}function Ac(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,Pc,5,9,"ng-container",106),o.ec()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngForOf",e)}}function kc(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",110),o.uc(2,"preferredDateTime"),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.fc(5,"td",110),o.uc(6,"serviceIO"),o.bd(7),o.uc(8,"serviceIO"),o.ec(),o.fc(9,"td",114),o.bd(10),o.ec(),o.fc(11,"td",114),o.bd(12),o.ec(),o.ec()),2&e){const e=t.$implicit,i=o.tc(3);o.Lb(1),o.Bc("pTooltip",o.xc(2,8,e.time,i.preferencesService,i.dateTimePreferenceService)),o.Lb(2),o.dd(" ",o.xc(4,12,e.time,i.preferencesService,i.dateTimePreferenceService)," "),o.Lb(2),o.Bc("pTooltip",o.vc(6,16,"dataRow.inputField")),o.Lb(2),o.cd(o.vc(8,18,e.inputField)),o.Lb(2),o.Bc("pTooltip",e.fieldName),o.Lb(1),o.cd(e.fieldName),o.Lb(1),o.Bc("pTooltip",e.fieldValue),o.Lb(1),o.cd(e.fieldValue)}}function Rc(e,t){if(1&e&&(o.dc(0),o.fc(1,"p-table",103),o.Zc(2,Ac,2,1,"ng-template",104),o.Zc(3,kc,13,20,"ng-template",105),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(1),o.Bc("scrollHeight",e.loggedFieldsScrollHeight),o.Ac("columns",e.logFldCols)("value",e.loggedFields.customFieldList)("scrollable",!0)}}function Ec(e,t){1&e&&(o.fc(0,"tr"),o.fc(1,"td"),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e&&(o.Lb(2),o.cd(o.vc(3,1,"common.table.zero.items")))}function Fc(e,t){if(1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.ed(" ",o.vc(2,2,"monitoring.services.service.errors.section")," (",e.serviceErrors.errors.length,") ")}}function Bc(e,t){1&e&&(o.fc(0,"span"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.dd(" ",o.vc(2,1,"monitoring.services.service.errors.section")," "))}function Nc(e,t){if(1&e){const e=o.gc();o.fc(0,"span",101),o.fc(1,"a",102),o.pc("click",function(t){return o.Rc(e),o.tc(2).toggleServiceErrorsHeight(t)}),o.bd(2),o.ec(),o.ec()}if(2&e){const e=o.tc(2);o.Lb(2),o.cd(e.serviceErrorsScrollHeightTxt)}}function Vc(e,t){if(1&e&&(o.dc(0,107),o.fc(1,"th",108),o.uc(2,"translate"),o.bd(3),o.ac(4,"p-sortIcon",109),o.ec(),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ob(e.class),o.Bc("pTooltip",o.vc(2,7,e.header)),o.Ac("pSortableColumn",e.field),o.Lb(2),o.dd(" ",e.header," "),o.Lb(1),o.Ac("field",e.field)}}function Hc(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,Vc,5,9,"ng-container",106),o.ec()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngForOf",e)}}function Zc(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",110),o.uc(2,"preferredDateTime"),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.fc(5,"td",111),o.bd(6),o.ec(),o.ec()),2&e){const e=t.$implicit,i=o.tc(3);o.Lb(1),o.Bc("pTooltip",o.xc(2,4,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),o.Lb(2),o.dd(" ",o.xc(4,8,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),o.Lb(2),o.Bc("pTooltip",e.ERRORMESSAGE),o.Lb(1),o.cd(e.ERRORMESSAGE)}}function zc(e,t){if(1&e&&(o.dc(0),o.fc(1,"p-table",103),o.Zc(2,Hc,2,1,"ng-template",104),o.Zc(3,Zc,7,12,"ng-template",105),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(1),o.Bc("scrollHeight",e.serviceErrorsScrollHeight),o.Ac("columns",e.svcErrCols)("value",e.serviceErrors.errors)("scrollable",!0)}}function jc(e,t){1&e&&(o.fc(0,"tr"),o.fc(1,"td"),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e&&(o.Lb(2),o.cd(o.vc(3,1,"common.table.zero.items")))}const Uc=function(e){return{svcName:e}},$c=function(e){return{width:e}},Kc=function(){return{height:"calc(100vh - 301px)",overflow:"scroll",display:"block"}},Qc=function(){return{width:"100%"}},Wc=function(){return{width:"70vw"}},qc=function(){return{"overflow-x":"auto","overflow-y":"auto"}};function Xc(e,t){if(1&e){const e=o.gc();o.fc(0,"div",6),o.fc(1,"div",7),o.fc(2,"div",8),o.fc(3,"div",9),o.fc(4,"div",10),o.fc(5,"h1"),o.bd(6),o.uc(7,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(8,"div",11),o.fc(9,"div",9),o.fc(10,"div",12),o.fc(11,"button",13),o.pc("click",function(){return o.Rc(e),o.tc().returnToList()}),o.ac(12,"img",14),o.uc(13,"translate"),o.fc(14,"label",15),o.bd(15),o.uc(16,"translate"),o.ec(),o.ec(),o.fc(17,"div",16),o.fc(18,"button",17),o.pc("click",function(){return o.Rc(e),o.tc().refreshServiceDetails()}),o.uc(19,"translate"),o.uc(20,"translate"),o.ac(21,"i",18),o.ec(),o.ec(),o.fc(22,"div",19),o.fc(23,"button",20,21),o.pc("click",function(){return o.Rc(e),o.tc().onShowOverlayPanel()}),o.uc(25,"translate"),o.uc(26,"translate"),o.ac(27,"i",22),o.ec(),o.fc(28,"div",23),o.fc(29,"button",24),o.pc("click",function(){return o.Rc(e),o.tc().editPipeline()})("focusout",function(t){return o.Rc(e),o.tc().opFocusLost(t)})("keydown.enter",function(){return o.Rc(e),o.tc().editPipeline()}),o.uc(30,"translate"),o.bd(31),o.uc(32,"translate"),o.ec(),o.fc(33,"button",25),o.pc("click",function(){return o.Rc(e),o.tc().resubmitService(!1)})("focusout",function(t){return o.Rc(e),o.tc().opFocusLost(t)})("keydown.enter",function(){return o.Rc(e),o.tc().resubmitService(!1)}),o.uc(34,"translate"),o.bd(35),o.uc(36,"translate"),o.ec(),o.fc(37,"button",26),o.pc("click",function(){return o.Rc(e),o.tc().savePipelineToFile()})("focusout",function(t){return o.Rc(e),o.tc().opFocusLost(t)})("keydown.enter",function(){return o.Rc(e),o.tc().savePipelineToFile()}),o.uc(38,"translate"),o.bd(39),o.uc(40,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ac(41,"hr"),o.fc(42,"table",27),o.ac(43,"col",28),o.ac(44,"col",29),o.fc(45,"tr"),o.fc(46,"td",30),o.fc(47,"div",31),o.fc(48,"div",32),o.fc(49,"div",7),o.fc(50,"div",33),o.fc(51,"isac-lib-simple-card",34),o.uc(52,"translate"),o.ac(53,"hr",35),o.fc(54,"table",36),o.fc(55,"tr"),o.fc(56,"td",37),o.ac(57,"img",38),o.fc(58,"span",39),o.bd(59),o.ec(),o.ec(),o.fc(60,"td",40),o.fc(61,"span",41),o.bd(62),o.uc(63,"translate"),o.ec(),o.fc(64,"span",42),o.bd(65),o.uc(66,"durationFormatTrimmed"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(67,"div",43),o.fc(68,"div",44),o.fc(69,"isac-lib-simple-card",45),o.uc(70,"translate"),o.fc(71,"table",46),o.ac(72,"col",47),o.ac(73,"col",48),o.fc(74,"tr"),o.fc(75,"td",49),o.uc(76,"translate"),o.bd(77),o.uc(78,"translate"),o.ec(),o.fc(79,"td",50),o.bd(80),o.ec(),o.ec(),o.fc(81,"tr"),o.fc(82,"td",49),o.uc(83,"translate"),o.bd(84),o.uc(85,"translate"),o.ec(),o.fc(86,"td",50),o.bd(87),o.ec(),o.ec(),o.fc(88,"tr"),o.fc(89,"td",49),o.uc(90,"translate"),o.bd(91),o.uc(92,"translate"),o.ec(),o.fc(93,"td",50),o.bd(94),o.ec(),o.ec(),o.fc(95,"tr"),o.fc(96,"td",49),o.uc(97,"translate"),o.bd(98),o.uc(99,"translate"),o.ec(),o.fc(100,"td",50),o.bd(101),o.ec(),o.ec(),o.fc(102,"tr"),o.fc(103,"td",49),o.uc(104,"translate"),o.bd(105),o.uc(106,"translate"),o.ec(),o.fc(107,"td",50),o.bd(108),o.ec(),o.ec(),o.fc(109,"tr"),o.fc(110,"td",49),o.uc(111,"translate"),o.bd(112),o.uc(113,"translate"),o.ec(),o.fc(114,"td",50),o.bd(115),o.ec(),o.ec(),o.fc(116,"tr"),o.fc(117,"td",49),o.uc(118,"translate"),o.bd(119),o.uc(120,"translate"),o.ec(),o.fc(121,"td",50),o.uc(122,"preferredDateTime"),o.bd(123),o.uc(124,"preferredDateTime"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(125,"div",43),o.fc(126,"div",51),o.fc(127,"isac-lib-simple-card",34),o.uc(128,"translate"),o.ac(129,"hr",35),o.fc(130,"div",52),o.ac(131,"div",53),o.ec(),o.fc(132,"div",54),o.fc(133,"div",53),o.Zc(134,Gn,2,2,"div",55),o.Zc(135,Jn,4,6,"ng-template",null,56,o.ad),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(137,"div",57),o.fc(138,"div",58),o.fc(139,"div",59),o.fc(140,"isac-lib-simple-card",34),o.uc(141,"translate"),o.ac(142,"hr",35),o.fc(143,"div",54),o.fc(144,"div",60),o.fc(145,"div",61),o.bd(146),o.uc(147,"preferredDateTime"),o.ec(),o.ec(),o.ec(),o.Zc(148,Yn,12,6,"ng-container",62),o.Zc(149,ec,12,6,"ng-container",62),o.Zc(150,tc,12,6,"ng-container",62),o.Zc(151,nc,10,4,"ng-container",62),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(152,"td",63),o.fc(153,"div",63),o.fc(154,"p-sidebar",64),o.pc("visibleChange",function(t){return o.Rc(e),o.tc().display=t}),o.fc(155,"button",65),o.pc("click",function(){return o.Rc(e),o.tc().toggleAdvancedFullScreen()}),o.ac(156,"img",66),o.ec(),o.fc(157,"button",67),o.pc("click",function(){return o.Rc(e),o.tc().display=!1}),o.uc(158,"translate"),o.ac(159,"img",68),o.uc(160,"translate"),o.ec(),o.fc(161,"button",69),o.pc("click",function(){return o.Rc(e),o.tc().collapseAllTables()}),o.uc(162,"translate"),o.ac(163,"img",70),o.uc(164,"translate"),o.ec(),o.fc(165,"button",71),o.pc("click",function(){return o.Rc(e),o.tc().expandAllTables()}),o.uc(166,"translate"),o.ac(167,"img",72),o.uc(168,"translate"),o.ec(),o.fc(169,"p-accordion",73),o.pc("activeIndexChange",function(t){return o.Rc(e),o.tc().indexes=t}),o.fc(170,"p-accordionTab",74),o.pc("click",function(t){return o.Rc(e),o.tc().toggleRevealServiceHistory(t)}),o.fc(171,"p-header"),o.Zc(172,cc,3,4,"span",62),o.Zc(173,ac,3,3,"span",62),o.Zc(174,sc,3,1,"span",75),o.ec(),o.Zc(175,dc,4,4,"ng-container",76),o.Zc(176,uc,4,3,"ng-template",null,77,o.ad),o.ec(),o.fc(178,"p-accordionTab",74),o.pc("click",function(t){return o.Rc(e),o.tc().toggleRevealActivityMessages(t)}),o.fc(179,"p-header"),o.Zc(180,hc,3,4,"span",62),o.Zc(181,pc,3,3,"span",62),o.Zc(182,gc,3,1,"span",75),o.ec(),o.Zc(183,vc,4,4,"ng-container",76),o.Zc(184,yc,4,3,"ng-template",null,78,o.ad),o.ec(),o.fc(186,"p-accordionTab",74),o.pc("click",function(t){return o.Rc(e),o.tc().toggleRevealControlActions(t)}),o.fc(187,"p-header"),o.Zc(188,Cc,3,4,"span",62),o.Zc(189,Sc,3,3,"span",62),o.Zc(190,xc,3,1,"span",75),o.ec(),o.Zc(191,Ic,4,4,"ng-container",76),o.Zc(192,Mc,4,3,"ng-template",null,79,o.ad),o.ec(),o.fc(194,"p-accordionTab",74),o.pc("click",function(t){return o.Rc(e),o.tc().toggleRevealLoggedFields(t)}),o.fc(195,"p-header"),o.Zc(196,Oc,3,4,"span",62),o.Zc(197,_c,3,3,"span",62),o.Zc(198,Dc,3,1,"span",75),o.ec(),o.Zc(199,Rc,4,4,"ng-container",76),o.Zc(200,Ec,4,3,"ng-template",null,80,o.ad),o.ec(),o.fc(202,"p-accordionTab",74),o.pc("click",function(t){return o.Rc(e),o.tc().toggleRevealServiceErrors(t)}),o.fc(203,"p-header"),o.Zc(204,Fc,3,4,"span",62),o.Zc(205,Bc,3,3,"span",62),o.Zc(206,Nc,3,1,"span",75),o.ec(),o.Zc(207,zc,4,4,"ng-container",76),o.Zc(208,jc,4,3,"ng-template",null,81,o.ad),o.ec(),o.ec(),o.ec(),o.fc(210,"button",82),o.pc("click",function(){return o.Rc(e),o.tc().showSidebar()}),o.uc(211,"translate"),o.ac(212,"img",68),o.uc(213,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(214,"p-dialog",83,84),o.pc("visibleChange",function(t){return o.Rc(e),o.tc().displayEditPipeline=t})("onHide",function(){return o.Rc(e),o.tc().cancelPipelineEdit()}),o.fc(216,"p-header"),o.fc(217,"div",85),o.fc(218,"div",86),o.bd(219),o.uc(220,"translate"),o.ec(),o.ec(),o.ec(),o.fc(221,"service-run-input",87,88),o.pc("svcInputLoaded",function(){return o.Rc(e),o.tc().serviceInputLoaded()}),o.ec(),o.fc(223,"p-footer"),o.fc(224,"div",89),o.fc(225,"button",90),o.pc("click",function(){return o.Rc(e),o.tc().cancelPipelineEdit()}),o.uc(226,"translate"),o.uc(227,"translate"),o.bd(228),o.uc(229,"translate"),o.ec(),o.fc(230,"button",91),o.pc("click",function(){return o.Rc(e),o.tc().resubmitService(!0)}),o.uc(231,"translate"),o.uc(232,"translate"),o.bd(233),o.uc(234,"translate"),o.ec(),o.fc(235,"button",92),o.pc("click",function(){return o.Rc(e),o.tc().saveAndClosePipelineEdit()}),o.uc(236,"translate"),o.uc(237,"translate"),o.bd(238),o.uc(239,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec()}if(2&e){const e=o.Pc(136),t=o.Pc(177),i=o.Pc(185),n=o.Pc(193),c=o.Pc(201),a=o.Pc(209),s=o.tc();o.Lb(6),o.cd(o.wc(7,142,"monitoring.services.service.name",o.Gc(257,Uc,s.serviceDetails.details.SERVICENAME))),o.Lb(6),o.Bc("alt",o.vc(13,145,"monitoring.services.return.to.list")),o.Lb(3),o.cd(o.vc(16,147,"monitoring.services.return.to.list")),o.Lb(3),o.Bc("pTooltip",o.vc(19,149,"monitoring.services.refresh.service.detail")),o.Mb("aria-label",o.vc(20,151,"monitoring.services.refresh.service.detail")),o.Lb(5),o.Bc("pTooltip",o.vc(25,153,"monitoring.services.service.actions")),o.Mb("aria-label",o.vc(26,155,"monitoring.services.service.actions")),o.Lb(6),o.Ac("disabled",!s.isResubmittable),o.Mb("aria-label",o.vc(30,157,"monitoring.services.service.edit.pipeline.button")),o.Lb(2),o.dd(" ",o.vc(32,159,"monitoring.services.service.edit.pipeline.button")," "),o.Lb(2),o.Ac("disabled",!s.isResubmittable),o.Mb("aria-label",o.vc(34,161,"monitoring.services.service.resubmit.button")),o.Lb(2),o.dd(" ",o.vc(36,163,"monitoring.services.service.resubmit.button")," "),o.Lb(2),o.Mb("aria-label",o.vc(38,165,"monitoring.services.service.save.pipeline.tofile.button")),o.Lb(2),o.dd(" ",o.vc(40,167,"monitoring.services.service.save.pipeline.tofile.button")," "),o.Lb(12),o.Bc("label",o.vc(52,169,"monitoring.services.service.status")),o.Lb(6),o.Bc("src",s.getStatusImage(),o.Uc),o.Bc("alt",s.getStatusText()),o.Lb(2),o.cd(s.getStatusText()),o.Lb(3),o.cd(o.vc(63,171,"monitoring.services.service.duration")),o.Lb(3),o.cd(o.vc(66,173,s.serviceDetails.details.DURATION)),o.Lb(4),o.Bc("label",o.vc(70,175,"monitoring.services.service.information.section")),o.Lb(6),o.Bc("pTooltip",o.vc(76,177,"monitoring.services.service.name1")),o.Lb(2),o.dd(" ",o.vc(78,179,"monitoring.services.service.name1")," "),o.Lb(2),o.Bc("pTooltip",s.serviceDetails.details.SERVICENAME),o.Lb(1),o.dd(" ",s.serviceDetails.details.SERVICENAME," "),o.Lb(2),o.Bc("pTooltip",o.vc(83,181,"monitoring.services.service.custom.context.id")),o.Lb(2),o.dd(" ",o.vc(85,183,"monitoring.services.service.custom.context.id")," "),o.Lb(2),o.Bc("pTooltip",s.serviceDetails.details.CUSTOMCONTEXTID),o.Lb(1),o.dd(" ",s.serviceDetails.details.CUSTOMCONTEXTID," "),o.Lb(2),o.Bc("pTooltip",o.vc(90,185,"monitoring.services.service.root.context.id")),o.Lb(2),o.dd(" ",o.vc(92,187,"monitoring.services.service.root.context.id")," "),o.Lb(2),o.Bc("pTooltip",s.serviceDetails.details.ROOTCONTEXTID),o.Lb(1),o.dd(" ",s.serviceDetails.details.ROOTCONTEXTID," "),o.Lb(2),o.Bc("pTooltip",o.vc(97,189,"monitoring.services.service.parent.context.id")),o.Lb(2),o.dd(" ",o.vc(99,191,"monitoring.services.service.parent.context.id")," "),o.Lb(2),o.Bc("pTooltip",s.serviceDetails.details.PARENTCONTEXTID),o.Lb(1),o.dd(" ",s.serviceDetails.details.PARENTCONTEXTID," "),o.Lb(2),o.Bc("pTooltip",o.vc(104,193,"monitoring.services.service.context.id")),o.Lb(2),o.dd(" ",o.vc(106,195,"monitoring.services.service.context.id")," "),o.Lb(2),o.Bc("pTooltip",s.serviceDetails.details.CONTEXTID),o.Lb(1),o.dd(" ",s.serviceDetails.details.CONTEXTID," "),o.Lb(2),o.Bc("pTooltip",o.vc(111,197,"monitoring.services.service.server.id")),o.Lb(2),o.dd(" ",o.vc(113,199,"monitoring.services.service.server.id")," "),o.Lb(2),o.Bc("pTooltip",s.serviceDetails.details.SERVERID),o.Lb(1),o.dd(" ",s.serviceDetails.details.SERVERID," "),o.Lb(2),o.Bc("pTooltip",o.vc(118,201,"monitoring.services.service.timestamp")),o.Lb(2),o.dd(" ",o.vc(120,203,"monitoring.services.service.timestamp")," "),o.Lb(2),o.Bc("pTooltip",o.xc(122,205,s.serviceDetails.details.AUDITTIMESTAMP,s.preferencesService,s.dateTimePreferenceService)),o.Lb(2),o.dd(" ",o.xc(124,209,s.serviceDetails.details.AUDITTIMESTAMP,s.preferencesService,s.dateTimePreferenceService)," "),o.Lb(4),o.Bc("label",o.vc(128,213,"monitoring.error.messages")),o.Lb(7),o.Ac("ngIf",s.serviceDetails.details&&s.serviceDetails.details.ERRORMESSAGE)("ngIfElse",e),o.Lb(6),o.Bc("label",o.vc(141,215,"monitoring.services.service.last.updated")),o.Lb(6),o.dd(" ",o.xc(147,217,s.serviceDetails.details.AUDITTIMESTAMP,s.preferencesService,s.dateTimePreferenceService)," "),o.Lb(2),o.Ac("ngIf",s.serviceDetails.details.root&&s.serviceDetails.details.root.CONTEXTID),o.Lb(1),o.Ac("ngIf",s.serviceDetails.details.parent&&s.serviceDetails.details.parent.CONTEXTID),o.Lb(1),o.Ac("ngIf",s.serviceDetails.details.auditparent&&s.serviceDetails.details.auditparent.CONTEXTID),o.Lb(1),o.Ac("ngIf",s.serviceDetails.details.children&&s.serviceDetails.details.children.length>0),o.Lb(3),o.Wc(o.Gc(259,$c,s.advancedPartialScreenWidth)),o.Ac("visible",s.display)("fullScreen",s.isAdvancedFullScreen),o.Lb(1),o.Bc("pTooltip",s.sidebarScreenSize),o.Lb(1),o.Bc("src",s.advancedScreenImage,o.Uc),o.Bc("alt",s.sidebarScreenSize),o.Lb(1),o.Bc("pTooltip",o.vc(158,221,"monitoring.services.hide.details.button")),o.Lb(2),o.Bc("alt",o.vc(160,223,"monitoring.services.hide.details.button")),o.Lb(2),o.Bc("pTooltip",o.vc(162,225,"common.collapse.all")),o.Lb(2),o.Bc("alt",o.vc(164,227,"common.collapse.all")),o.Lb(2),o.Bc("pTooltip",o.vc(166,229,"common.expand.all")),o.Lb(2),o.Bc("alt",o.vc(168,231,"common.expand.all")),o.Lb(2),o.Wc(o.Fc(261,Kc)),o.Ac("activeIndex",s.indexes)("multiple",!0)("expandIcon","dlt-accordion-arrow dlt-icon-chevron-down")("collapseIcon","dlt-accordion-arrow dlt-icon-chevron-up"),o.Lb(2),o.Wc(o.Fc(262,Qc)),o.Lb(1),o.Ac("ngIf",s.serviceHistory&&s.serviceHistory.history&&s.serviceHistory.history.length>0),o.Lb(1),o.Ac("ngIf",!s.serviceHistory||!s.serviceHistory.history||s.serviceHistory.history.length<1),o.Lb(1),o.Ac("ngIf",s.revealServiceHistory),o.Lb(1),o.Ac("ngIf",s.serviceHistory&&s.serviceHistory.history&&s.serviceHistory.history.length>0)("ngIfElse",t),o.Lb(4),o.Wc(o.Fc(263,Qc)),o.Lb(1),o.Ac("ngIf",s.activityMessages&&s.activityMessages.activityLogs&&s.activityMessages.activityLogs.length>0),o.Lb(1),o.Ac("ngIf",!s.activityMessages||!s.activityMessages.activityLogs||s.activityMessages.activityLogs.length<1),o.Lb(1),o.Ac("ngIf",s.revealActivityMessages),o.Lb(1),o.Ac("ngIf",s.activityMessages&&s.activityMessages.activityLogs&&s.activityMessages.activityLogs.length>0)("ngIfElse",i),o.Lb(4),o.Wc(o.Fc(264,Qc)),o.Lb(1),o.Ac("ngIf",s.controlActions&&s.controlActions.actions&&s.controlActions.actions.length>0),o.Lb(1),o.Ac("ngIf",!s.controlActions||!s.controlActions.actions||s.controlActions.actions.length<1),o.Lb(1),o.Ac("ngIf",s.revealControlActions),o.Lb(1),o.Ac("ngIf",s.controlActions&&s.controlActions.actions&&s.controlActions.actions.length>0)("ngIfElse",n),o.Lb(4),o.Wc(o.Fc(265,Qc)),o.Lb(1),o.Ac("ngIf",s.loggedFields&&s.loggedFields.customFieldList&&s.loggedFields.customFieldList.length>0),o.Lb(1),o.Ac("ngIf",!s.loggedFields||!s.loggedFields.customFieldList||s.loggedFields.customFieldList.length<1),o.Lb(1),o.Ac("ngIf",s.revealLoggedFields),o.Lb(1),o.Ac("ngIf",s.loggedFields&&s.loggedFields.customFieldList&&s.loggedFields.customFieldList.length>0)("ngIfElse",c),o.Lb(4),o.Wc(o.Fc(266,Qc)),o.Lb(1),o.Ac("ngIf",s.serviceErrors&&s.serviceErrors.errors&&s.serviceErrors.errors.length>0),o.Lb(1),o.Ac("ngIf",!s.serviceErrors||!s.serviceErrors.errors||s.serviceErrors.errors.length<1),o.Lb(1),o.Ac("ngIf",s.revealServiceErrors),o.Lb(1),o.Ac("ngIf",s.serviceErrors&&s.serviceErrors.errors&&s.serviceErrors.errors.length>0)("ngIfElse",a),o.Lb(3),o.Bc("pTooltip",o.vc(211,233,"monitoring.services.show.details.button")),o.Lb(2),o.Bc("alt",o.vc(213,235,"monitoring.services.show.details.button")),o.Lb(2),o.Wc(o.Fc(267,Wc)),o.Ac("closeOnEscape",!0)("visible",s.displayEditPipeline)("showHeader",!0)("draggable",!0)("resizable",!0)("modal",!0)("contentStyle",o.Fc(268,qc))("focusTrap",!0)("maximizeIcon","dlt-icon-fullscreen")("minimizeIcon","dlt-icon-fullscreen-exit")("closeIcon","dlt-icon-close")("baseZIndex",1)("maximizable",!0)("blockScroll",!0)("closable",!0),o.Lb(5),o.cd(o.vc(220,237,"monitoring.services.service.edit.pipeline.button")),o.Lb(6),o.Bc("value",o.vc(227,241,"common.cancel.button.text")),o.Mb("aria-label",o.vc(226,239,"common.cancel.button.text")),o.Lb(3),o.dd(" ",o.vc(229,243,"common.cancel.button.text")," "),o.Lb(2),o.Bc("value",o.vc(232,247,"monitoring.services.service.resubmit.button")),o.Mb("aria-label",o.vc(231,245,"monitoring.services.service.resubmit.button")),o.Lb(3),o.dd(" ",o.vc(234,249,"monitoring.services.service.resubmit.button")," "),o.Lb(2),o.Bc("value",o.vc(237,253,"common.save.button.text")),o.Mb("aria-label",o.vc(236,251,"common.save.button.text")),o.Lb(3),o.dd(" ",o.vc(239,255,"common.save.button.text")," ")}}let Gc=(()=>{class e{constructor(e,t,i,n,c,a,s,r,o,l){this.route=e,this.location=t,this.translate=i,this.sharedMessageService=n,this.serviceAPIService=c,this.monitoringLayoutService=a,this.serviceExecutionService=s,this.router=r,this.toastr=o,this.preferencesService=l,this.homeLink="#/integration/dashboard/overview",this.servicesLink="../../monitoring/services",this.isAdvancedFullScreen=!1,this.advancedPartialScreenWidth="50em",this.advancedScreenImage="assets/images/enlarge.png",this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1,this.svcDetailLink="/monitoring/service/",this.subscriptions=[],this.defaultScrollHeight="200px",this.fullScrollHeight="100vh",this.serviceHistoryScrollHeight=this.defaultScrollHeight,this.activityMessagesScrollHeight=this.defaultScrollHeight,this.controlActionsScrollHeight=this.defaultScrollHeight,this.loggedFieldsScrollHeight=this.defaultScrollHeight,this.serviceErrorsScrollHeight=this.defaultScrollHeight,this.indexes=[],this.displayEditPipeline=!1,this.isResubmittable=!1,this.display=!1,this.subscriptions.push(e.params.subscribe(e=>{this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})),this.refreshServiceDetails()}))}ngOnInit(){this.showAllText=this.translate.instant("monitoring.services.service.table.show.all"),this.makeComponentsAccessible()}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementById("serviceSidebar");j.K.makeSidebarAccessible(e,this.translate.instant("common.close.title"))},1e3)}showSidebar(){this.display=!0,setTimeout(()=>{const e=document.getElementById("serviceSidebar");j.K.makeSidebarAccessible(e,this.translate.instant("common.close.title"))},500)}refreshServiceDetails(){this.serviceTreeAndDataLoaded=void 0,this.contextId=this.route.snapshot.paramMap.get("id"),this.monitoringLayoutService.changeNavItem(this.router.url),this.getServiceDetails()}getServiceDetails(){this.subscriptions.push(this.serviceAPIService.getServiceDetails(this.contextId).subscribe(e=>{this.serviceDetails=e,this.isResubmittable=this.serviceDetails&&this.serviceDetails.details&&1===this.serviceDetails.details.RESUBMITTABLE,this.serviceExecutionService.setCurrentServiceInfo(this.serviceDetails.details.SERVICENAME,this.contextId),this.getServiceHistory(),this.getServiceActivityMessages(),this.getControlActions(),this.getLoggedFields(),this.getServiceErrors(),this.sidebarScreenSize=this.translate.instant("monitoring.services.fullscreen.details.button"),this.serviceHistoryScrollHeightTxt=this.activityMessagesScrollHeightTxt=this.controlActionsScrollHeightTxt=this.loggedFieldsScrollHeightTxt=this.serviceErrorsScrollHeightTxt=this.serviceErrorsScrollHeightTxt=this.showAllText}))}configTableColumns(){this.histCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"STATUSDECODE",header:this.translate.instant("monitoring.services.service.status.column"),class:"t100pct"}],this.actMsgCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ENTRYTYPE",header:this.translate.instant("monitoring.services.service.entry.type.column"),class:"t33pct"},{field:"BRIEFMESSAGE",header:this.translate.instant("monitoring.services.service.brief.message.column"),class:"t33pct"},{field:"FULLMESSAGE",header:this.translate.instant("monitoring.services.service.full.message.column"),class:"t34pct"}],this.ctlActCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ACTIONDECODE",header:this.translate.instant("monitoring.services.service.action.column"),class:"t33pct"},{field:"USERNAME",header:this.translate.instant("monitoring.services.service.user.column"),class:"t33pct"},{field:"SERVERID",header:this.translate.instant("monitoring.services.service.server.id.column"),class:"t34pct"}],this.logFldCols=[{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.input.output.column"),class:"t200px"},{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.field.name.column"),class:"t50pct"},{field:"DISPVALUE",header:this.translate.instant("monitoring.services.service.field.value.column"),class:"t50pct"}],this.svcErrCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ERRORMESSAGE",header:this.translate.instant("monitoring.services.service.error.message.column"),class:"t100pct"}]}getServiceHistory(){this.subscriptions.push(this.serviceAPIService.getServiceHistory(this.contextId).subscribe(e=>{this.serviceHistory=e}))}getServiceActivityMessages(){this.subscriptions.push(this.serviceAPIService.getServiceActivityMessages(this.contextId).subscribe(e=>{this.activityMessages=e}))}getControlActions(){this.subscriptions.push(this.serviceAPIService.getControlActions(this.contextId).subscribe(e=>{this.controlActions=e}))}getLoggedFields(){this.subscriptions.push(this.serviceAPIService.getLoggedFields(this.contextId).subscribe(e=>{this.loggedFields=e}))}getServiceErrors(){this.subscriptions.push(this.serviceAPIService.getServiceErrors(this.contextId).subscribe(e=>{this.serviceErrors=e})),this.configTableColumns()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getStatusImage(){switch(this.serviceDetails.details.STATUS){case 1:return"assets/images/monitoring/started.svg";case 2:return"assets/images/monitoring/completed.svg";case 4:return"assets/images/monitoring/failed.svg";default:return"assets/images/monitoring/resubmitted.svg"}}getStatusText(){switch(this.serviceDetails.details.STATUS){case 1:return this.translate.instant("monitoring.status.started");case 2:return this.translate.instant("monitoring.status.completed");case 4:return this.translate.instant("monitoring.status.failed");default:return this.translate.instant("monitoring.status.resubmitted")}}getLastUpdatedText(){return null!=this.serviceDetails.details.AUDITTIMESTAMP?new Date(this.serviceDetails.details.AUDITTIMESTAMP).toLocaleString():""}getRootServiceLink(){return this.svcDetailLink+this.serviceDetails.details.root.CONTEXTID}getParentServiceLink(){return this.svcDetailLink+this.serviceDetails.details.parent.CONTEXTID}getLastAuditedParentServiceLink(){return this.svcDetailLink+this.serviceDetails.details.auditparent.CONTEXTID}getChildServiceLink(e){return this.svcDetailLink+this.serviceDetails.details.children[e].CONTEXTID}toggleAdvancedFullScreen(){this.isAdvancedFullScreen=!this.isAdvancedFullScreen,this.isAdvancedFullScreen?(this.advancedPartialScreenWidth="",this.advancedScreenImage="assets/images/shrink.png",this.sidebarScreenSize=this.translate.instant("monitoring.services.partialscreen.details.button")):(this.advancedPartialScreenWidth="50em",this.advancedScreenImage="assets/images/enlarge.png",this.sidebarScreenSize=this.translate.instant("monitoring.services.fullscreen.details.button"))}toggleRevealServiceHistory(e){if(e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-"))if("true"===e.target.parentNode.ariaExpanded)this.revealServiceHistory=!0,this.indexes.includes(0)||this.indexes.push(0);else{this.revealServiceHistory=!1;const e=this.indexes.indexOf(0,0);e>-1&&this.indexes.splice(e,1)}}toggleRevealActivityMessages(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealActivityMessages=!this.revealActivityMessages)}toggleRevealControlActions(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealControlActions=!this.revealControlActions)}toggleRevealLoggedFields(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealLoggedFields=!this.revealLoggedFields)}toggleRevealServiceErrors(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealServiceErrors=!this.revealServiceErrors)}toggleServiceHistoryHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.serviceHistoryScrollHeight===this.defaultScrollHeight?(this.serviceHistoryScrollHeight=this.fullScrollHeight,this.serviceHistoryScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[0],this.revealServiceHistory=!0,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.serviceHistoryScrollHeight=this.defaultScrollHeight,this.serviceHistoryScrollHeightTxt=this.showAllText)}toggleActivityMessagesHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.activityMessagesScrollHeight===this.defaultScrollHeight?(this.activityMessagesScrollHeight=this.fullScrollHeight,this.activityMessagesScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[1],this.revealServiceHistory=!1,this.revealActivityMessages=!0,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.activityMessagesScrollHeight=this.defaultScrollHeight,this.activityMessagesScrollHeightTxt=this.showAllText)}toggleControlActionsHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.controlActionsScrollHeight===this.defaultScrollHeight?(this.controlActionsScrollHeight=this.fullScrollHeight,this.controlActionsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[2],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!0,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.controlActionsScrollHeight=this.defaultScrollHeight,this.controlActionsScrollHeightTxt=this.showAllText)}toggleLoggedFieldsHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.loggedFieldsScrollHeight===this.defaultScrollHeight?(this.loggedFieldsScrollHeight=this.fullScrollHeight,this.loggedFieldsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[3],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!0,this.revealServiceErrors=!1):(this.loggedFieldsScrollHeight=this.defaultScrollHeight,this.loggedFieldsScrollHeightTxt=this.showAllText)}toggleServiceErrorsHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.serviceErrorsScrollHeight===this.defaultScrollHeight?(this.serviceErrorsScrollHeight=this.fullScrollHeight,this.serviceErrorsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[4],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!0):(this.serviceErrorsScrollHeight=this.defaultScrollHeight,this.serviceErrorsScrollHeightTxt=this.showAllText)}expandAllTables(){this.revealServiceHistory=!0,this.revealActivityMessages=!0,this.revealControlActions=!0,this.revealLoggedFields=!0,this.revealServiceErrors=!0,this.indexes=[0,1,2,3,4]}collapseAllTables(){this.indexes=[],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1}editPipeline(){this.op&&this.op.nativeElement.click(),this.serviceTreeAndDataLoaded?(this.runTreeRef.reopen(),this.makePipelineDialogAccessible()):this.runTreeRef.populateServiceTreeAndData(),this.displayEditPipeline=!0,this.serviceTreeAndDataLoaded=!0}serviceInputLoaded(){this.makePipelineDialogAccessible()}makePipelineDialogAccessible(){setTimeout(()=>{const e=document.getElementById("servicePipelineInput");j.K.makeDialogAccessible(e,this.translate.instant("common.restore.title"),this.translate.instant("common.maximize.title"),this.translate.instant("common.close.title"));const t=document.getElementById("minimizeMaximize");t&&(t.focus(),this.minMaxEvt&&t.removeEventListener("click",this.minMaxEvt),this.minMaxEvt=this.makePipelineDialogAccessible.bind(this),t.addEventListener("click",this.minMaxEvt))},200)}cancelPipelineEdit(){this.runTreeRef.setCanceled(),this.displayEditPipeline=!1}savePipelineToFile(){this.op.nativeElement.click(),this.subscriptions.push(this.serviceExecutionService.getServicePipeline(this.contextId,!0).subscribe(e=>{let t=!1;if(e&&e.inputPipeline&&e.inputPipeline)for(const i in e.inputPipeline)if(i){t=!0;break}if(t){const t=new Blob([e.inputPipeline],{type:"text/plain;charset=utf-8"}),i=this.serviceDetails.details.SERVICENAME.substring(this.serviceDetails.details.SERVICENAME.indexOf(":")+1)+".xml";jn.saveAs(t,i)}else this.toastr.error(this.translate.instant("monitoring.services.service.pipeline.noInput.msg",{svcName:this.serviceDetails.details.SERVICENAME}),this.translate.instant("monitoring.services.service.pipeline.noInput.title"))}))}saveAndClosePipelineEdit(){this.runTreeRef.savePipeline()&&(this.displayEditPipeline=!1,this.toastr.success(this.translate.instant("monitoring.services.pipeline.save.success.msg"),this.translate.instant("monitoring.services.pipeline.save.success.title")))}resubmitService(e){this.op&&!e&&this.op.nativeElement.click(),this.runTreeRef.savePipeline()&&setTimeout(()=>{const e=this.runTreeRef.getPipelineForResubmit();this.subscriptions.push(this.serviceAPIService.resubmitService(this.contextId,this.serviceDetails.details.SERVICENAME,e).subscribe(e=>{e&&e.length>0?this.toastr.error(this.translate.instant("monitoring.services.service.resubmit.failure.msg",{errMsg:e}),this.translate.instant("monitoring.services.service.resubmit.failure.title")):(this.runTreeRef.savePipeline(),this.displayEditPipeline=!1,this.toastr.success(this.translate.instant("monitoring.services.service.resubmit.success.msg"),this.translate.instant("monitoring.services.service.resubmit.success.title")))}))},500)}returnToList(){this.location.back()}onShowOverlayPanel(){setTimeout(()=>{const e=document.getElementById("editServicePipeline");e&&e.focus()},100)}opFocusLost(e){if(e&&e.target&&"editServicePipeline"===e.target.id){if(e.relatedTarget&&"resubmitService"===e.relatedTarget.id||e.relatedTarget&&"savePipelineToFile"===e.relatedTarget.id)return}else if(e&&e.target&&"resubmitService"===e.target.id){if(e.relatedTarget&&"savePipelineToFile"===e.relatedTarget.id||e.relatedTarget&&"editServicePipeline"===e.relatedTarget.id)return}else if(e&&e.target&&"savePipelineToFile"===e.target.id){if(e.relatedTarget&&"resubmitService"===e.relatedTarget.id)return}else if(e&&e.target&&"savePipelineToFile"===e.target.id&&e.relatedTarget&&"resubmitService"===e.relatedTarget.id)return;this.op.nativeElement.click()}goToHomePage(){this.router.navigateByUrl(this.homeLink)}goToServiceListPage(){this.router.navigateByUrl(this.servicesLink)}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(h.a),o.Zb(r.k),o.Zb(n.d),o.Zb(j.B),o.Zb($n),o.Zb(Y),o.Zb(J),o.Zb(h.f),o.Zb(Q.b),o.Zb(s.PreferencesService))},e.\u0275cmp=o.Tb({type:e,selectors:[["app-service-details"]],viewQuery:function(e,t){if(1&e&&(o.hd(Wn,1),o.hd(qn,1),o.hd(Xn,1)),2&e){let e;o.Oc(e=o.qc())&&(t.runTreeRef=e.first),o.Oc(e=o.qc())&&(t.op=e.first),o.Oc(e=o.qc())&&(t.pipelineInput=e.first)}},decls:15,vars:10,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["routerLink","/monitoring/services","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],["class","detailcontainer",4,"ngIf"],[1,"detailcontainer"],[1,"row"],[1,"col-md-6"],[1,"dlg-title-wrapper"],[1,"page-title"],[1,"col-md-6","text-right"],[1,"btn-container"],["id","returnToServicesList",1,"iconButton1",3,"click"],["src","assets/images/return-to-previous-arrow-icon24.svg",3,"alt"],[1,"lbl-return"],[1,"dlt-dropdown"],["showDelay","250",1,"dlt-button","dlt-button-icon","iconButton2",3,"pTooltip","click"],[1,"dlt-icon-refresh","dlg-icon-btn"],["ngbDropdown","","placement","bottom-right",1,"dlt-dropdown","ngbDropdown"],["ngbDropdownToggle","","id","serviceActionsDropDown","showDelay","250","tabindex","0",1,"dlt-button","dlt-button-icon","hide-caret","iconButton2",3,"pTooltip","click"],["op",""],[1,"dlt-icon-more-menu","actions-menu","dlg-icon-btn"],["ngbDropdownMenu","",1,"isac-overflow-menu"],["ngbDropdownItem","","id","editServicePipeline","tabindex","0",3,"disabled","click","focusout","keydown.enter"],["ngbDropdownItem","","id","resubmitService","tabindex","0",3,"disabled","click","focusout","keydown.enter"],["ngbDropdownItem","","id","savePipelineToFile","tabindex","0",3,"click","focusout","keydown.enter"],["id","mainTable",1,"main"],["width","100%"],["height","100%"],["valign","top","height","100%"],[1,"row","rowone"],[1,"colone"],[1,"svc-card1"],[3,"label"],[1,"hr1"],[1,"status"],[1,"status-col1"],[2,"width","36px","height","36px",3,"src","alt"],[1,"svc-data1"],["align","center"],[1,"card3a"],["id","serviceDuration",1,"svc-data2b"],[1,"row","row-narrow"],[1,"svc-card2"],["showExpandCollapse","true",3,"label"],[1,"svc-info"],[2,"min-width","30%"],[2,"width","70%"],["showDelay","250","tooltipPosition","top",1,"svc-data3","svc-info",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"svc-data4","svc-info",3,"pTooltip"],[1,"svc-card"],[1,"col-1"],[1,"card2"],[1,"col"],["showDelay","250","tooltipPosition","top","class","svc-data5",3,"pTooltip",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"col","float-left","d-flex","align-items-stretch","coltwo"],[2,"width","100%"],[1,"svc-card3"],[1,"card2a"],["id","lastUpdated",1,"svc-data1a"],[4,"ngIf"],[1,"sidebar"],["id","serviceSidebar","position","right",3,"visible","fullScreen","visibleChange"],["tabindex","0","showDelay","250","tooltipPosition","top",1,"sidebar",3,"pTooltip","click"],["width","22","height","20",3,"src","alt"],["showDelay","250","tooltipPosition","top",1,"sidebar1",3,"pTooltip","click"],["src","assets/images/SvcDoc-details-vec-18.svg","width","22","height","20",3,"alt"],["showDelay","250",1,"sidebar2",3,"pTooltip","click"],["src","assets/isac-assets/images/svgs/Collapse-All-vec17.svg","width","18","height","18",3,"alt"],["showDelay","250","tooltipPosition","top",1,"sidebar3",3,"pTooltip","click"],["src","assets/isac-assets/images/svgs/Expand-All-vec17.svg","width","18","height","18",3,"alt"],[3,"activeIndex","multiple","expandIcon","collapseIcon","activeIndexChange"],[3,"click"],["class","sidebarhdr",4,"ngIf"],[4,"ngIf","ngIfElse"],["noHistoryItemsTemplate",""],["noActivityMsgItemsTemplate",""],["noControlActionItemsTemplate",""],["noLoggedFieldItemsTemplate",""],["noServiceErrorItemsTemplate",""],["showDelay","250","tooltipPosition","top",1,"sidebar",3,"pTooltip","click"],["id","servicePipelineInput","position","center",3,"closeOnEscape","visible","showHeader","draggable","resizable","modal","contentStyle","focusTrap","maximizeIcon","minimizeIcon","closeIcon","baseZIndex","maximizable","blockScroll","closable","visibleChange","onHide"],["pipelineServiceInput",""],[1,"dlg-title-wrapper","svc-title-wrapper"],[1,"dlg-title-row"],[3,"svcInputLoaded"],["runTreeRef",""],[1,"dlg-footer-buttons-wrapper","svc-footer-wrapper"],["id","service_pipeline_cancel",1,"dlt-button","dlt-button-secondary","cancel-modal",3,"value","click"],["id","service_pipeline_resubmit",1,"dlt-button","dlt-button-secondary",3,"value","click"],["id","service_pipeline_save",1,"dlt-button","dlt-button-primary","save-modal","dlg-rt-btn",3,"value","click"],["showDelay","250","tooltipPosition","top",1,"svc-data5",3,"pTooltip"],[1,"card3"],[1,"hr2"],[1,"card4"],[1,"svc-data2a"],["showDelay","250","tooltipPosition","top",1,"dlt-links",3,"pTooltip","routerLink"],[1,"card5"],["class","svc-data2a",4,"ngFor","ngForOf"],[1,"sidebarhdr"],["role","button","href","javascript:void(0);",1,"dlt-links","sidebarhdr",3,"click"],[3,"columns","value","scrollable","scrollHeight"],["pTemplate","header"],["pTemplate","body"],["class","timestamp",4,"ngFor","ngForOf"],[1,"timestamp"],["tooltipPosition","top",3,"pSortableColumn","pTooltip"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],["showDelay","250","tooltipPosition","top",1,"t200px",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t100pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t33pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t34pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t50pct",3,"pTooltip"]],template:function(e,t){1&e&&(o.fc(0,"div",0),o.fc(1,"ol",1),o.fc(2,"li"),o.fc(3,"a",2),o.bd(4),o.uc(5,"translate"),o.ec(),o.ec(),o.fc(6,"li"),o.fc(7,"a",3),o.bd(8),o.uc(9,"translate"),o.ec(),o.ec(),o.fc(10,"li"),o.fc(11,"a",4),o.bd(12),o.uc(13,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.Zc(14,Xc,240,269,"div",5)),2&e&&(o.Lb(4),o.cd(o.vc(5,4,"masthead.administration")),o.Lb(4),o.cd(o.vc(9,6,"monitoring.services.tab")),o.Lb(4),o.cd(o.vc(13,8,"monitoring.services.service.detail.pagetitle")),o.Lb(2),o.Ac("ngIf",t.serviceDetails))},directives:[h.i,r.o,ee.a,c.b,c.f,c.e,c.d,s.SimpleCardComponent,Kn.a,Qn.a,Qn.c,d.h,te.a,ei,d.g,r.n,xi.h,d.k,xi.g,xi.f],pipes:[n.c,j.h,j.u,j.y],styles:['.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.7rem}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.7rem;margin-right:25px}.detailcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;padding-left:.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}.btn-grp[_ngcontent-%COMP%], .page-title[_ngcontent-%COMP%]{line-height:1.5rem;width:100%}.btn-grp[_ngcontent-%COMP%]{padding-right:1.05rem;padding-top:1rem;display:inline;text-align:right}.svc-data1[_ngcontent-%COMP%]{margin-left:1rem;white-space:nowrap}.svc-data1[_ngcontent-%COMP%], .svc-data1a[_ngcontent-%COMP%]{margin-top:.22rem;font-size:1.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data1a[_ngcontent-%COMP%]{margin-left:0;min-width:280px}.svc-data2[_ngcontent-%COMP%], .svc-data2a[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:1rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data2a[_ngcontent-%COMP%]{word-wrap:break-word;width:100%}.svc-data2b[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:.4rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data3[_ngcontent-%COMP%]{margin-left:2rem;font-weight:500;white-space:nowrap}.svc-data3[_ngcontent-%COMP%], .svc-data4[_ngcontent-%COMP%]{margin-top:-.6rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data4[_ngcontent-%COMP%]{margin-left:0;word-wrap:break-word}.svc-data5[_ngcontent-%COMP%]{margin-top:-.6rem;margin-left:-3rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:normal;word-wrap:break-word;text-align:left}.svc-card[_ngcontent-%COMP%]{margin-top:1.2rem;padding-bottom:.9rem}.svc-card[_ngcontent-%COMP%], .svc-card1[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-card1[_ngcontent-%COMP%]{padding-bottom:2.12rem}.svc-card2[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px}.svc-card2[_ngcontent-%COMP%], .svc-card3[_ngcontent-%COMP%]{padding-bottom:.9rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-card3[_ngcontent-%COMP%]{margin-left:0;padding-left:2px;padding-right:1px;height:100%}.hr1[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem}.hr1a[_ngcontent-%COMP%]{margin-top:.4rem}.hr1a[_ngcontent-%COMP%], .hr1b[_ngcontent-%COMP%]{width:100%;margin-left:1rem;margin-right:1rem}.hr1b[_ngcontent-%COMP%]{margin-top:-1.6rem}.vr1[_ngcontent-%COMP%]{width:10px;size:500;position:absolute;top:0;bottom:0;left:150px}.hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem;border-top:0}.card2[_ngcontent-%COMP%]{margin-bottom:.4rem}.card2[_ngcontent-%COMP%], .card2a[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:0;font-family:Roboto,Helvetica,Arial,sans-serif}.card2a[_ngcontent-%COMP%]{margin-bottom:.55rem}.card3[_ngcontent-%COMP%]{margin:-.4rem .65rem .4rem}.card3[_ngcontent-%COMP%], .card3a[_ngcontent-%COMP%]{font-size:16px;font-weight:700;border:0 solid}.card3a[_ngcontent-%COMP%]{margin-top:-.4rem;margin-bottom:.4rem}.card4[_ngcontent-%COMP%]{margin-right:2rem}.card4[_ngcontent-%COMP%], .card5[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:-2rem;font-family:Roboto,Helvetica,Arial,sans-serif}.card5[_ngcontent-%COMP%]{margin-bottom:1rem}table.status[_ngcontent-%COMP%]{table-layout:auto;width:100%;margin:0 1rem 1rem 2rem;border:0;border-collapse:collapse}td.status-col1[_ngcontent-%COMP%]{width:1px;white-space:nowrap}table.svc-info[_ngcontent-%COMP%]{width:100%;margin:.4rem 1.65rem 1.5rem;border:none;border-collapse:collapse}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #e5e5e5;word-wrap:break-word}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}table.svc-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:0 8px}button.sidebar[_ngcontent-%COMP%], button.sidebar1[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:1rem;border:none;background:none;width:22px;height:20px}button.sidebar1[_ngcontent-%COMP%]{margin-left:.7rem}button.sidebar2[_ngcontent-%COMP%]{margin-right:2rem}button.sidebar2[_ngcontent-%COMP%], button.sidebar3[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:1rem;border:none;background:none;width:22px;height:20px;float:right}button.sidebar1[_ngcontent-%COMP%]:focus, button.sidebar2[_ngcontent-%COMP%]:focus, button.sidebar3[_ngcontent-%COMP%]:focus, button.sidebar[_ngcontent-%COMP%]:focus{outline:0}div.sidebar[_ngcontent-%COMP%]{width:28px;margin-left:-.4rem}div.sidebar[_ngcontent-%COMP%], td.sidebar[_ngcontent-%COMP%]{background-color:#f2f2f2}td.sidebar[_ngcontent-%COMP%]{vertical-align:top;overflow:hidden;height:100%}table.main[_ngcontent-%COMP%]{width:"100%";height:"100%";margin-left:.46rem}.iconButton[_ngcontent-%COMP%]{font-size:1.25rem}.iconButton[_ngcontent-%COMP%], .iconButton1[_ngcontent-%COMP%]{font-weight:400;vertical-align:middle;margin-right:5px}.iconButton1[_ngcontent-%COMP%]{font-size:1.46rem;margin-top:0;margin-bottom:0;padding-right:-15px;background:none;padding-top:0;padding-bottom:2px;border:2px solid transparent;outline:none}.iconButton1[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.iconButton1[_ngcontent-%COMP%]:focus{border-color:#1776bf}.iconButton2[_ngcontent-%COMP%]{font-size:1.46rem;font-weight:400;vertical-align:middle;margin-right:7px;border:2px solid transparent;background:none;outline:none;color:#000}.iconButton2[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.lbl-return[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:1.02rem;vertical-align:middle;padding-top:0;color:#1776bf;margin:0 10px 2px 5px;cursor:pointer}.btn-container[_ngcontent-%COMP%]{width:100%;padding:0}span.sidebarhdr[_ngcontent-%COMP%]{float:right;margin-top:.1rem;font-weight:700;color:#4591ca}a.sidebarhdr[_ngcontent-%COMP%]{float:right}  .p-sidebar-active{top:233px!important;height:calc(100vh - 237px)!important}td.t33pct[_ngcontent-%COMP%]{width:33%}td.t34pct[_ngcontent-%COMP%]{width:34%}td.t50pct[_ngcontent-%COMP%]{width:50%}td.t100pct[_ngcontent-%COMP%]{width:100%}td.t200px[_ngcontent-%COMP%]{width:200px;white-space:nowrap}th.t33pct[_ngcontent-%COMP%]{width:33%}th.t34pct[_ngcontent-%COMP%]{width:34%}th.t50pct[_ngcontent-%COMP%]{width:50%}th.t100pct[_ngcontent-%COMP%]{width:100%}th.t200px[_ngcontent-%COMP%]{width:200px;white-space:nowrap}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:8px}.row-narrow[_ngcontent-%COMP%]{margin-top:-20px}.refresh[_ngcontent-%COMP%]{width:24px;height:24px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.actions-menu[_ngcontent-%COMP%]:before{font-size:1.31rem!important;font-weight:800!important;line-height:16px;width:18px;height:18px;margin-top:4px;padding-left:2px}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin-left:0}.colone[_ngcontent-%COMP%]{padding-right:10px}.colone[_ngcontent-%COMP%], .coltwo[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-right:.6rem}.coltwo[_ngcontent-%COMP%]{padding-right:11px;padding-left:0!important;min-width:500px}.svc-title-wrapper[_ngcontent-%COMP%]{margin-top:4px}.svc-footer-wrapper[_ngcontent-%COMP%]{margin-right:.1rem;margin-top:1rem}  .dlt-icon-fullscreen:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}  .dlt-icon-fullscreen-exit:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}']}),e})(),Jc=(()=>{class e{constructor(){this.fullScreenTable=!1,this._serviceSearchQuery=null}get timeRange(){return this._timeRange}set timeRange(e){this._timeRange=e}get basicSearchFilters(){return this._basicSearchFilters}set basicSearchFilters(e){this._basicSearchFilters=e}get tableFilters(){return this._tableFilters}set tableFilters(e){this._tableFilters=e}get serviceSearchQuery(){return this._serviceSearchQuery}set serviceSearchQuery(e){this._serviceSearchQuery=e}get refreshInterval(){return this._refreshInterval}set refreshInterval(e){this._refreshInterval=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Yc{static getAdvancedSearchBuilderConfig(){return{searchFields:{serviceName:{name:"serviceName",label:"monitoring.services.service.name1",type:"text",nullable:!0,isISService:!0},serverID:{name:"serverID",label:"monitoring.services.service.server.id",type:"text",nullable:!0},contextID:{name:"contextID",label:"monitoring.services.service.context.id",type:"text",nullable:!0},rootContextID:{name:"rootContextID",label:"monitoring.services.service.root.context.id",type:"text",nullable:!0},parentContextID:{name:"parentContextID",label:"monitoring.services.service.parent.context.id",type:"text",nullable:!0},customContextID:{name:"customContextID",label:"monitoring.services.service.custom.context.id",type:"text",nullable:!0},username:{name:"username",label:"monitoring.services.service.user.id",type:"text",nullable:!0}}}}static getAllSearchFields(){return{serviceName:{name:"serviceName",label:"monitoring.services.service.name1",type:"text",nullable:!0,isISService:!0},serverID:{name:"serverID",label:"monitoring.services.service.server.id",type:"text",nullable:!0},contextID:{name:"contextID",label:"monitoring.services.service.context.id",type:"text",nullable:!0},rootContextID:{name:"rootContextID",label:"monitoring.services.service.root.context.id",type:"text",nullable:!0},parentContextID:{name:"parentContextID",label:"monitoring.services.service.parent.context.id",type:"text",nullable:!0},customContextID:{name:"customContextID",label:"monitoring.services.service.custom.context.id",type:"text",nullable:!0},username:{name:"username",label:"monitoring.services.service.user.id",type:"text",nullable:!0},statusSet:{name:"statusSet",label:"monitoring.services.service.status",type:"multiSelect",options:null,value:null,nullable:!0}}}static getSearchField(e){return Yc.getAllSearchFields()[e]}}function ea(e,t){if(1&e&&(o.dc(0),o.fc(1,"td",5),o.bd(2),o.ec(),o.cc()),2&e){const e=t.$implicit;o.Lb(2),o.dd(" ",e," ")}}function ta(e,t){if(1&e&&(o.dc(0),o.fc(1,"tr"),o.Zc(2,ea,3,1,"ng-container",4),o.ac(3,"td"),o.ac(4,"td"),o.ec(),o.cc()),2&e){const e=o.tc(2);o.Lb(2),o.Ac("ngForOf",e.columnHeaders)}}function ia(e,t){if(1&e&&(o.fc(0,"option",14),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=t.$implicit;o.Ac("ngValue",e),o.Lb(1),o.dd(" ",o.vc(2,2,e.name)," ")}}function na(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"tr"),o.fc(2,"td",6),o.fc(3,"div"),o.fc(4,"input",7),o.pc("ngModelChange",function(e){return t.$implicit.field=e})("ngModelChange",function(i){o.Rc(e);const n=t.$implicit;return o.tc(2).changeField(i,n)}),o.uc(5,"translate"),o.ec(),o.ec(),o.ec(),o.fc(6,"td",6),o.fc(7,"div",8),o.fc(8,"select",9),o.pc("ngModelChange",function(e){return t.$implicit.operator=e})("ngModelChange",function(i){o.Rc(e);const n=t.$implicit;return o.tc(2).changeOperator(n,i)}),o.Zc(9,ia,3,4,"option",10),o.ec(),o.ec(),o.ec(),o.fc(10,"td",6),o.fc(11,"div"),o.fc(12,"input",7),o.pc("ngModelChange",function(e){return t.$implicit.value=e})("ngModelChange",function(){return o.Rc(e),o.tc(2).changeInput()}),o.ec(),o.ec(),o.ec(),o.fc(13,"td"),o.fc(14,"button",11),o.pc("click",function(){o.Rc(e);const i=t.$implicit;return o.tc(2).addCondition(i)}),o.uc(15,"translate"),o.uc(16,"translate"),o.ac(17,"i",12),o.ec(),o.ec(),o.fc(18,"td"),o.fc(19,"button",11),o.pc("click",function(){o.Rc(e);const i=t.$implicit;return o.tc(2).removeCondition(i)}),o.uc(20,"translate"),o.uc(21,"translate"),o.ac(22,"i",13),o.ec(),o.ec(),o.ec(),o.cc()}if(2&e){const e=t.$implicit,i=o.tc(2);o.Lb(4),o.Ac("ngModel",e.field)("disabled",i.disabled),o.Mb("aria-label",o.vc(5,17,"common.filters.add.condition"))("aria-label",i.columnHeaders[0]),o.Lb(4),o.Ac("ngModel",e.operator)("disabled",i.disabled),o.Mb("aria-label",i.columnHeaders[1]),o.Lb(1),o.Ac("ngForOf",i.getOperators()),o.Lb(3),o.Ac("ngModel",e.value)("disabled",i.disabled),o.Mb("aria-label",i.columnHeaders[2]),o.Lb(2),o.Bc("pTooltip",o.vc(15,19,"common.filters.add.condition")),o.Ac("disabled",i.disabled),o.Mb("aria-label",o.vc(16,21,"common.filters.add.condition")),o.Lb(5),o.Bc("pTooltip",o.vc(20,23,"common.filters.remove.condition")),o.Ac("disabled",i.data.conditions.length<=1),o.Mb("aria-label",o.vc(21,25,"common.filters.remove.condition"))}}function ca(e,t){if(1&e&&(o.fc(0,"ul",1),o.fc(1,"table",2),o.Zc(2,ta,5,1,"ng-container",3),o.Zc(3,na,23,27,"ng-container",4),o.ec(),o.ec()),2&e){const e=o.tc();o.Lb(2),o.Ac("ngIf",e.columnHeaders),o.Lb(1),o.Ac("ngForOf",e.data.conditions)}}let aa=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.data={conditions:[]},this.config={fields:{}},this.markDirty=new o.p,this.defaultEmptyList=[]}ngOnInit(){}ngOnChanges(e){const t=this.config,i=typeof t;if("object"!==i)throw new Error(`Expected 'config' must be a valid object, got ${i} instead.`);t.fields&&(this.fields=Object.keys(t.fields).map(e=>{const i=t.fields[e];return i.value=i.value||e,i}))}addCondition(){if(this.disabled)return;let e="";this.fields&&this.fields.length>0&&(e=this.fields[0].name),this.data.conditions=this.data.conditions.concat([{field:e,value:"",operator:sa[0]}]),this.handleDataChange()}removeCondition(e){if(this.disabled)return;const t=this.data;t.conditions=t.conditions.filter(t=>t!==e),this.handleDataChange()}getDefaultValue(e){switch(typeof e){case"function":return e();default:return e}}getOperators(){return sa}get value(){return this.data}set value(e){this.data=e||{conditions:[]},this.handleDataChange()}handleDataChange(){this.changeDetectorRef.markForCheck(),this.markDirty.emit("changed")}changeOperator(e,t){this.disabled||(e.operator=t,this.handleDataChange())}changeInput(){this.disabled||this.handleDataChange()}changeField(e,t){this.disabled||this.handleDataChange()}getFields(e){return this.fields}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(o.h))},e.\u0275cmp=o.Tb({type:e,selectors:[["ac-condition-builder"]],inputs:{disabled:"disabled",data:"data",columnHeaders:"columnHeaders",config:"config",value:"value"},outputs:{markDirty:"markDirty"},features:[o.Jb],decls:1,vars:1,consts:[["class","conditionbuilder",4,"ngIf"],[1,"conditionbuilder"],[1,"conditionTable"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"conditionColHdr"],[1,"conditionCell"],["type","text","tabindex","0",3,"ngModel","disabled","ngModelChange"],[1,"select-arrow-icon"],["tabindex","0",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue",4,"ngFor","ngForOf"],["showDelay","250","tabindex","0",1,"plusminus",3,"disabled","pTooltip","click"],[1,"dlt-icon-plus-circle","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-minus-circle","dlg-icon-btn","dlt-icon"],["tabindex","0",3,"ngValue"]],template:function(e,t){1&e&&o.Zc(0,ca,4,2,"ul",0),2&e&&o.Ac("ngIf",t.data&&t.data.conditions)},directives:[r.o,r.n,Pe.c,Pe.n,Pe.q,Pe.x,ee.a,Pe.r,Pe.B],pipes:[n.c],styles:["ul[_ngcontent-%COMP%]{list-style:none;margin:0;overflow:hidden;padding:0}li[_ngcontent-%COMP%]{padding:7px}.row[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:400;font-size:.875rem;display:block;width:100%;line-height:1.5rem;height:1.5rem;padding:0 .5rem;color:#333;background-color:#fff;border-radius:0;border:1px solid gray}.conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:enabled, .conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px;border-radius:0}.conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:.875rem;width:100%;height:1.5rem;line-height:1.5rem;padding:0 5px 0 .5rem;color:#333;border-radius:0;border:1px solid gray;display:block;background-color:#fff;margin:0 20px 0 0;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover:enabled, .conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px}.select-arrow-icon[_ngcontent-%COMP%]:after{line-height:1.5rem}.conditionbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400;height:1.5rem;line-height:1.5rem;vertical-align:middle;border:none;outline:none;background-color:#fff}.conditionbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:enabled{color:var(--wmio-primary-color,#1776bf)}.plusminus[_ngcontent-%COMP%]{display:inline-block;position:relative}.plusminus[_ngcontent-%COMP%]:focus{border:1px solid #1776bf!important;outline:1px solid #1776bf!important;box-shadow:none!important;outline-offset:-2px}table.conditionTable[_ngcontent-%COMP%]{width:100%;padding-left:0;padding-right:0}.conditionColHdr[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;line-height:1;color:#333;padding-bottom:.025rem;padding-right:.02rem}.conditionCell[_ngcontent-%COMP%], .conditionColHdr[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;padding-left:.46rem}.conditionCell[_ngcontent-%COMP%]{padding-right:.6rem}"]}),e})();const sa=[{value:"=",name:"common.operator.equals"},{value:"Contains",name:"common.operator.contains"},{value:"NotContains",name:"common.operator.notContains"},{value:"!=",name:"common.operator.notEquals"},{value:">",name:"common.operator.greaterThan"},{value:">=",name:"common.operator.greaterThanEqual"},{value:"<",name:"common.operator.lessThan"},{value:"<=",name:"common.operator.lessThanEqual"}],ra=["searchOverlay"],oa=["acConditionBuilder"],la=["acSearchBuilder"],da=function(){return{"min-height":"200px","min-width":"620px"}},ua=function(){return{"min-width":"150px",width:"11rem","line-height":"1.5rem",height:"1.5rem"}};let ha=(()=>{class e{constructor(e,t){this.translate=e,this.sharedMessageService=t,this.onAdvancedSearchReset=new o.p,this.onAdvancedSearchApply=new o.p,this.config=Yc.getAdvancedSearchBuilderConfig(),this.query=null,this.conditions=null,this.conditionConfig={},this.isDirty=!1,this._isAndQuery=!1,this._initialDataSetDone=!1,this.searchColHdrs=[],this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){this.searchColHdrs=[this.translate.instant("monitoring.services.logFieldName"),this.translate.instant("common.labels.operator"),this.translate.instant("common.labels.value")]}showSearchOverlay(){const e=this.serviceSearchQuery.tableFilters;let t=this.serviceSearchQuery.searchTerms;t||(t=new Array);for(let c=0;c<e.length;c++){const i=e[c];if("topLevelOnly"===i.filterBy)this.serviceSearchQuery.rootLevelServiceOnly=i.filterValue;else if("isAnd"===i.filterBy)this.serviceSearchQuery.andQuery=i.filterValue;else if("statusSet"===i.filterBy)this.serviceSearchQuery.status=i.filterValue;else if("customData"===i.filterBy&&i.filterValue){const e=[];i.filterValue.map(t=>e.push(Object.assign({},t))),this.serviceSearchQuery.logFields=e}else t.push({field:i.filterBy,value:i.filterValue})}0===t.length&&t.push(this.createDefaultSearchRow()),this.serviceSearchQuery.searchTerms=t,this.query={searchTerms:this.serviceSearchQuery.searchTerms};let i=this.serviceSearchQuery.logFields;i&&0!==i.length||(i=new Array,i.push(this.createDefaultConditionRow())),this.serviceSearchQuery.logFields=i,this.conditions={conditions:this.serviceSearchQuery.logFields};const n=this;setTimeout(()=>{n.acSearchBuilder.setFocus(),this._initialDataSetDone=!0},200),this.enableModality(),this._isAndQuery=this.serviceSearchQuery.andQuery,this.makeComponentsAccessible(),this.isDirty=!1}toggle(e){this.searchOverlay&&this.searchOverlay.toggle(e)}statusChange(e){this.serviceSearchQuery.status=e.value,this.isDirty=!0}cancelSearch(){this.searchOverlay.hide()}applySearch(){const e=this.acConditionBuilder.data.conditions;this.serviceSearchQuery.searchTerms=this.acSearchBuilder.data.searchTerms,this.serviceSearchQuery.logFields=e,this.onAdvancedSearchApply.emit(this.serviceSearchQuery),this.searchOverlay.hide()}setOrQuery(){this.serviceSearchQuery.andQuery=!1,this.isDirty=!0}setAndQuery(){this.serviceSearchQuery.andQuery=!0,this.isDirty=!0}resetSearch(){this.serviceSearchQuery.searchTerms=null,this.serviceSearchQuery.logFields=null,this.serviceSearchQuery.status=null,this.serviceSearchQuery.andQuery=!0,this.serviceSearchQuery.rootLevelServiceOnly=!1,this.searchOverlay.hide(),this.isDirty=!0,this.onAdvancedSearchReset.emit(this.serviceSearchQuery)}createDefaultSearchRow(){return{field:this.config.searchFields.serviceName.name,value:null,isISService:!0}}createDefaultConditionRow(){return{field:null,value:null,operator:sa[0]}}getSearchField(e){return this.config.searchFields[e]}handleKeydown(e){this.isDirty=!0,27===e.keyCode&&this.searchOverlay.hide()}statusEnter(){document.querySelector("#statusSelect").click()}enableModality(){if(this.searchOverlay&&!this.searchOverlay.mask){this.searchOverlay.mask=document.createElement("div"),this.searchOverlay.mask.style.zIndex=String(parseInt(this.searchOverlay.container.style.zIndex)-1);let e="ui-widget-overlay ui-dialog-mask";this.searchOverlay.blockScroll&&(e+=" ui-dialog-mask-scrollblocker"),l.b.addMultipleClasses(this.searchOverlay.mask,e),this.searchOverlay.closable&&this.searchOverlay.dismissableMask&&(this.maskClickListener=this.searchOverlay.renderer.listen(this.searchOverlay.mask,"click",e=>{this.searchOverlay.close(e)})),document.body.appendChild(this.searchOverlay.mask),this.searchOverlay.blockScroll&&l.b.addClass(document.body,"ui-overflow-hidden")}}disableModality(){if(this.searchOverlay&&this.searchOverlay.mask){if(this.unbindMaskClickListener(),document.body.removeChild(this.searchOverlay.mask),this.searchOverlay.blockScroll){const e=document.body.children;let t;for(let i=0;i<e.length;i++)if(l.b.hasClass(e[i],"ui-dialog-mask-scrollblocker")){t=!0;break}t||l.b.removeClass(document.body,"ui-overflow-hidden")}this.searchOverlay.mask=null}}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}hideSearchOverlay(){this.disableModality(),this.isDirty=!1,this._initialDataSetDone=!1}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementsByTagName("p-multiSelect")[0];e&&j.K.makeMultiCheckboxAccessible(e,this.translate.instant("common.filters.multiselect.select.options"),this.translate.instant("monitoring.search.deselect.all"),this.translate.instant("monitoring.search.select.all"))},100)}ngOnDestroy(){this.disableModality(),this.subscription.unsubscribe()}markDirty(){this.isDirty=!0}ngDoCheck(){this._isAndQuery!==this.serviceSearchQuery.andQuery&&this._initialDataSetDone&&this.markDirty()}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(n.d),o.Zb(j.B))},e.\u0275cmp=o.Tb({type:e,selectors:[["ac-service-search"]],viewQuery:function(e,t){if(1&e&&(o.hd(ra,1),o.hd(oa,1),o.hd(la,1)),2&e){let e;o.Oc(e=o.qc())&&(t.searchOverlay=e.first),o.Oc(e=o.qc())&&(t.acConditionBuilder=e.first),o.Oc(e=o.qc())&&(t.acSearchBuilder=e.first)}},hostBindings:function(e,t){1&e&&o.pc("keydown",function(e){return t.handleKeydown(e)},!1,o.Qc)},inputs:{serviceSearchQuery:"serviceSearchQuery",serviceStatusList:"serviceStatusList"},outputs:{onAdvancedSearchReset:"onAdvancedSearchReset",onAdvancedSearchApply:"onAdvancedSearchApply"},decls:66,vars:57,consts:[["focusOnShow","true",3,"baseZIndex","appendTo","onShow","onHide"],["searchOverlay",""],[1,"filter-top-row"],[1,"isac-overlay-title-wrapper"],[1,"isac-overlay-details-title"],[1,"svc-filter-label-wrapper"],["for","searchConditionSwitchSvc",1,"dlt-form-label","padding-top-5","padding-right-5"],[1,"padding-left-5","dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"toggle-btn","toggle-inline"],[1,"dlt-fieldset","sm-switch","fliter-switch-item"],[1,"dlt-switch-item"],["id","searchConditionSwitchSvc","type","checkbox","ngDefaultControl","",1,"dlt-switch-input",3,"ngModel","ngModelChange"],[1,"dlt-switch-text","switch-div"],[1,"dlt-switch-appearance","dlt-on-off"],[1,"on"],[1,"off"],[1,"dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"filter-title-buttons-wrapper"],["tabindex","0","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-close","isac-dlg-close-icon-btn","dlg-icon-btn","dlt-icon"],[1,"filter-row"],[1,"dlt-form-label"],[1,"searchArea"],[3,"data","config","markDirty"],["acSearchBuilder",""],["id","statusFilterRefSvcId","tabindex","0","autofocusFilter","true","dropdownIcon","dlt-icon-dropdown",3,"options","ngModel","filter","defaultLabel","maxSelectedLabels","baseZIndex","onPanelShow","onChange","ngModelChange","keydown.enter"],["statusFilterRefSvc",""],[3,"data","config","columnHeaders","markDirty"],["acConditionBuilder",""],[1,"ftr-container"],[1,"ftr-item"],[1,"dlt-checkbox","root-checkbox"],["type","checkbox","id","rootLevelServicesOnlyCheckbox","name","","tabindex","0",3,"ngModel","ngModelChange"],["for","rootLevelServicesOnlyCheckbox"],[1,"ftr-divider"],["tabindex","0",1,"dlt-button","dlt-button-primary",3,"disabled","click"],[1,"footer-btn-divider"],["tabindex","0",1,"dlt-button","dlt-button-secondary","dlg-rt-btn",3,"click"]],template:function(e,t){1&e&&(o.fc(0,"p-overlayPanel",0,1),o.pc("onShow",function(){return t.showSearchOverlay()})("onHide",function(){return t.hideSearchOverlay()}),o.fc(2,"div",2),o.fc(3,"div",3),o.fc(4,"div",4),o.bd(5),o.uc(6,"translate"),o.ec(),o.ec(),o.fc(7,"div",5),o.fc(8,"label",6),o.bd(9),o.uc(10,"translate"),o.ec(),o.fc(11,"label",7),o.pc("click",function(){return t.setOrQuery()}),o.bd(12),o.uc(13,"translate"),o.ec(),o.fc(14,"div",8),o.fc(15,"fieldset",9),o.fc(16,"div",10),o.fc(17,"input",11),o.pc("ngModelChange",function(e){return t.serviceSearchQuery.andQuery=e}),o.ec(),o.fc(18,"div",12),o.ac(19,"span",13),o.ac(20,"span",14),o.ac(21,"span",15),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(22,"label",16),o.pc("click",function(){return t.setAndQuery()}),o.bd(23),o.uc(24,"translate"),o.ec(),o.ec(),o.fc(25,"div",17),o.fc(26,"button",18),o.pc("click",function(){return t.cancelSearch()}),o.uc(27,"translate"),o.uc(28,"translate"),o.ac(29,"i",19),o.ec(),o.ec(),o.ec(),o.fc(30,"div",20),o.fc(31,"label",21),o.bd(32),o.uc(33,"translate"),o.ec(),o.ec(),o.fc(34,"div",22),o.fc(35,"ac-search-builder",23,24),o.pc("markDirty",function(){return t.markDirty}),o.ec(),o.ec(),o.ac(37,"hr",20),o.fc(38,"div",20),o.fc(39,"label",21),o.bd(40),o.uc(41,"translate"),o.ec(),o.ec(),o.fc(42,"p-multiSelect",25,26),o.pc("onPanelShow",function(){return t.makeComponentsAccessible()})("onChange",function(e){return t.statusChange(e)})("ngModelChange",function(e){return t.serviceSearchQuery.status=e})("keydown.enter",function(){return t.statusEnter()}),o.uc(44,"translate"),o.ec(),o.ac(45,"hr",20),o.fc(46,"div",22),o.fc(47,"ac-condition-builder",27,28),o.pc("markDirty",function(){return t.markDirty}),o.ec(),o.ec(),o.fc(49,"p-footer"),o.fc(50,"div",29),o.fc(51,"div",30),o.fc(52,"div",31),o.fc(53,"input",32),o.pc("ngModelChange",function(e){return t.serviceSearchQuery.rootLevelServiceOnly=e})("ngModelChange",function(){return t.markDirty()}),o.ec(),o.fc(54,"label",33),o.bd(55),o.uc(56,"translate"),o.ec(),o.ec(),o.ec(),o.ac(57,"div",34),o.fc(58,"div",30),o.fc(59,"button",35),o.pc("click",function(){return t.applySearch()}),o.bd(60),o.uc(61,"translate"),o.ec(),o.ac(62,"div",36),o.fc(63,"button",37),o.pc("click",function(){return t.resetSearch()}),o.bd(64),o.uc(65,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec()),2&e&&(o.Wc(o.Fc(55,da)),o.Ac("baseZIndex",1)("appendTo","body"),o.Lb(5),o.cd(o.vc(6,31,"common.label.AdvancedSearch")),o.Lb(4),o.cd(o.vc(10,33,"common.labels.SearchCondition")),o.Lb(3),o.cd(o.vc(13,35,"common.labels.or")),o.Lb(5),o.Ac("ngModel",t.serviceSearchQuery.andQuery),o.Lb(6),o.cd(o.vc(24,37,"common.labels.and")),o.Lb(3),o.Bc("pTooltip",o.vc(27,39,"common.close.title")),o.Mb("aria-label",o.vc(28,41,"common.close.title")),o.Lb(6),o.cd(o.vc(33,43,"common.labels.searchArea")),o.Lb(3),o.Ac("data",t.query)("config",t.config),o.Lb(5),o.dd(" ",o.vc(41,45,"monitoring.services.service.status"),""),o.Lb(2),o.Wc(o.Fc(56,ua)),o.Bc("defaultLabel",o.vc(44,47,"common.all")),o.Ac("options",t.serviceStatusList)("ngModel",t.serviceSearchQuery.status)("filter",!1)("maxSelectedLabels",4)("baseZIndex",2e3),o.Lb(5),o.Ac("data",t.conditions)("config",t.conditionConfig)("columnHeaders",t.searchColHdrs),o.Lb(6),o.Ac("ngModel",t.serviceSearchQuery.rootLevelServiceOnly),o.Lb(2),o.cd(o.vc(56,49,"monitoring.services.rootLevelServicesOnly")),o.Lb(4),o.Ac("disabled",!t.isDirty),o.Lb(1),o.cd(o.vc(61,51,"common.apply")),o.Lb(4),o.cd(o.vc(65,53,"common.reset")))},directives:[Si.a,Pe.a,Pe.c,Pe.n,Pe.q,ee.a,Bi,Ni.a,aa,d.g],pipes:[n.c],styles:[".margin-right-5[_ngcontent-%COMP%]{margin-right:5px}.dlt-switch-text[_ngcontent-%COMP%]{margin-top:5px}.toggle-inline[_ngcontent-%COMP%]{float:left}.toggle-btn[_ngcontent-%COMP%]{margin:0 7px}.btn-group[_ngcontent-%COMP%]{padding:.875rem 0 0}.conditionlabel1Width[_ngcontent-%COMP%]{width:16rem;margin-right:21px}.conditionlabel2Width[_ngcontent-%COMP%]{min-width:8rem;padding-right:7px}.searchArea[_ngcontent-%COMP%]{margin-left:-7px!important}p-multiselect[_ngcontent-%COMP%]:focus{outline:3px solid #1776bf}.filter-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:0;margin-left:0}.filter-top-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:6px 0 1rem}.footer-buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0}.root-checkbox[_ngcontent-%COMP%]{margin-right:10rem;padding:0}.ftr-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:1.5rem}.ftr-item[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.ftr-divider[_ngcontent-%COMP%]{display:flex;flex:1}.fliter-switch-item[_ngcontent-%COMP%]{margin-top:3px}.svc-filter-label-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-left:1rem;margin-top:-5px}.switch-div[_ngcontent-%COMP%]{margin-bottom:.5rem}"]}),e})();const pa=["isMonSvcExeTable"],ga=["tablePrefs"],ma=["tablePrefsOverlay"],fa=["selectAllCheckbox"];function ba(e,t){if(1&e){const e=o.gc();o.fc(0,"div",7),o.fc(1,"div",20),o.fc(2,"d3-donut-chart",21),o.pc("pieItemClicked",function(t){return o.Rc(e),o.tc(2).pieItemClicked(t)}),o.ec(),o.ec(),o.fc(3,"div",22),o.fc(4,"app-chart-legend",23),o.pc("legendItemClicked",function(t){return o.Rc(e),o.tc(2).pieItemClicked(t)}),o.ec(),o.ec(),o.fc(5,"div",24),o.ac(6,"img",25),o.uc(7,"translate"),o.bd(8),o.uc(9,"translate"),o.ec(),o.ec()}if(2&e){const e=o.tc(2);o.Lb(2),o.Ac("data",e.donutChartData)("heightInput","160px"),o.Lb(2),o.Ac("data",e.legendsData)("heightInput","160px"),o.Lb(2),o.Bc("alt",o.vc(7,6,"common.chart.donut.infolabel")),o.Lb(2),o.dd(" ",o.vc(9,8,"common.chart.donut.infolabel")," ")}}function va(e,t){1&e&&o.ac(0,"ac-loader")}function ya(e,t){if(1&e&&o.ac(0,"ac-d3-stacked-bar-chart",26),2&e){const e=o.tc(2);o.Ac("chartno",0)("data",e.barData)("columnKeyColorArray",e.columnKeyColorArray)("heightInput","160px")("chartXAxisTitle",e.chartXAxisTitle)}}function Ca(e,t){1&e&&o.ac(0,"ac-loader")}function Sa(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",53),o.fc(2,"label",54),o.bd(3),o.uc(4,"translate"),o.ec(),o.fc(5,"button",55),o.pc("click",function(t){o.Rc(e);const i=o.Pc(12);return o.tc(3).showBasicFilter(),i.toggle(t)}),o.bd(6),o.uc(7,"translate"),o.ec(),o.fc(8,"button",56),o.pc("click",function(t){o.Rc(e);const i=o.Pc(14);return o.tc(3).showAdvancedSearch(),i.toggle(t)}),o.bd(9),o.uc(10,"translate"),o.ec(),o.fc(11,"isac-lib-filter-overlay-panel",57,58),o.pc("onFiltersReset",function(t){return o.Rc(e),o.tc(3).onBasicFiltersReset(t)})("onFiltersApply",function(t){return o.Rc(e),o.tc(3).onBasicFiltersApply(t)})("onFilterChange",function(t){return o.Rc(e),o.tc(3).onFilterChange(t)}),o.ec(),o.fc(13,"ac-service-search",59,60),o.pc("onAdvancedSearchApply",function(t){return o.Rc(e),o.tc(3).onAdvancedSearchApply(t)})("onAdvancedSearchReset",function(t){return o.Rc(e),o.tc(3).onAdvancedSearchReset(t)}),o.ec(),o.fc(15,"isac-lib-filter-tags",61),o.pc("onClearAll",function(t){return o.Rc(e),o.tc(3).onClearAllFilters(t)})("onClearFilter",function(t){return o.Rc(e),o.tc(3).onClearFilter(t)}),o.ec(),o.ec(),o.cc()}if(2&e){const e=o.tc(3);o.Lb(3),o.cd(o.vc(4,8,"common.table.search")),o.Lb(3),o.cd(o.vc(7,10,"common.basic")),o.Lb(3),o.cd(o.vc(10,12,"common.advanced")),o.Lb(2),o.Ac("styleClass","filter-overlaypanel-content")("tableFilters",e.serviceListStateService.basicSearchFilters),o.Lb(2),o.Ac("serviceSearchQuery",e.serviceListStateService.serviceSearchQuery)("serviceStatusList",e.statusList),o.Lb(2),o.Ac("filterTags",e.filterTags)}}const xa=function(e){return{value1:1e4,value2:e}};function La(e,t){if(1&e){const e=o.gc();o.fc(0,"div",62),o.fc(1,"div",63),o.ac(2,"span",64),o.fc(3,"div",65),o.bd(4),o.uc(5,"translate"),o.ec(),o.fc(6,"span",66),o.pc("click",function(){return o.Rc(e),o.tc(3).hideMaxResultWarning()}),o.uc(7,"translate"),o.ec(),o.ec(),o.ec()}if(2&e){const e=o.tc(3);o.Lb(4),o.dd(" ",o.wc(5,2,"monitoring.maxrowsreached",o.Gc(7,xa,e.actualRowCount))," "),o.Lb(2),o.Bc("pTooltip",o.vc(7,5,"common.close.title"))}}const wa=function(e,t){return{"text-align":e,width:t}};function Ta(e,t){if(1&e&&(o.fc(0,"th",72),o.uc(1,"translate"),o.fc(2,"div",73),o.fc(3,"label",74),o.bd(4),o.uc(5,"translate"),o.ac(6,"p-sortIcon",75),o.ec(),o.ec(),o.ec()),2&e){const e=o.tc().$implicit;o.Bc("pTooltip",o.vc(1,6,e.header)),o.Bc("id",e.field),o.Ac("pSortableColumn",e.field)("ngStyle",o.Hc(10,wa,e.hdrAlign,e.userConfiguredColumnWidth)),o.Lb(4),o.dd(" ",o.vc(5,8,e.header)," "),o.Lb(2),o.Ac("field",e.field)}}function Ia(e,t){if(1&e&&(o.dc(0),o.Zc(1,Ta,7,13,"th",71),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function Ma(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",76),o.ac(2,"ac-loader"),o.ec(),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.Mb("colspan",e.tableInfo.tableColumnInfo.length)}}function Oa(e,t){if(1&e){const e=o.gc();o.fc(0,"tr"),o.fc(1,"td",67),o.fc(2,"p-tableHeaderCheckbox",68,69),o.pc("click",function(){o.Rc(e);const t=o.Pc(4);return o.tc(3).selectAllRows(t.checked)}),o.ec(),o.ec(),o.Zc(5,Ia,2,1,"ng-container",70),o.ec(),o.Zc(6,Ma,3,1,"tr",17)}if(2&e){const e=o.tc(3);o.Lb(2),o.Bc("pTooltip",e.getTooltipForSelectAll()),o.Lb(3),o.Ac("ngForOf",e.tableInfo.tableColumnInfo),o.Lb(1),o.Ac("ngIf",e.fetchingTableData)}}function _a(e,t){if(1&e&&(o.fc(0,"a",87),o.fc(1,"span",88),o.bd(2),o.uc(3,"smartTruncatePart1Pipe"),o.ec(),o.fc(4,"span",89),o.bd(5),o.uc(6,"smartTruncatePart2Pipe"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit;o.Bc("pTooltip",t[e.field]),o.Cc("routerLink","/monitoring/service/",t.CONTEXTID,""),o.Mb("aria-label",t[e.field]),o.Lb(2),o.cd(o.wc(3,5,t[e.field],3)),o.Lb(3),o.cd(o.wc(6,8,t[e.field],3))}}function Da(e,t){if(1&e&&(o.fc(0,"div",90),o.uc(1,"durationFormat"),o.fc(2,"span",88),o.bd(3),o.uc(4,"durationFormatTrimmed"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit;o.Bc("pTooltip",o.xc(1,2,t[e.field],"ms","dHHmmssSSS")),o.Lb(3),o.cd(o.vc(4,6,t[e.field]))}}function Pa(e,t){if(1&e&&(o.fc(0,"div",90),o.uc(1,"preferredDateTime"),o.fc(2,"span",88),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit,i=o.tc(3);o.Bc("pTooltip",o.xc(1,2,t[e.field],i.preferencesService,i.dateTimePreferenceService)),o.Lb(3),o.cd(o.xc(4,6,t[e.field],i.preferencesService,i.dateTimePreferenceService))}}function Aa(e,t){if(1&e&&(o.fc(0,"div",90),o.fc(1,"span",88),o.bd(2),o.uc(3,"smartTruncatePart1Pipe"),o.ec(),o.fc(4,"span",89),o.bd(5),o.uc(6,"smartTruncatePart2Pipe"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit;o.Bc("pTooltip",t[e.field]),o.Lb(2),o.cd(o.wc(3,3,t[e.field],3)),o.Lb(3),o.cd(o.wc(6,6,t[e.field],3))}}function ka(e,t){if(1&e&&(o.fc(0,"div",90),o.fc(1,"span",88),o.bd(2),o.uc(3,"smartTruncatePart1Pipe"),o.ec(),o.fc(4,"span",89),o.bd(5),o.uc(6,"smartTruncatePart2Pipe"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit,i=o.tc(3);o.Bc("pTooltip",i.getStatus(t[e.field])),o.Lb(2),o.cd(o.wc(3,3,i.getStatus(t[e.field]),3)),o.Lb(3),o.cd(o.wc(6,6,i.getStatus(t[e.field]),3))}}function Ra(e,t){if(1&e){const e=o.gc();o.fc(0,"div"),o.fc(1,"span",91),o.fc(2,"button",92),o.pc("click",function(t){o.Rc(e);const i=o.tc(2).$implicit,n=o.tc().$implicit;return o.tc(3).ccidSelected(t,n[i.field])}),o.uc(3,"translate"),o.uc(4,"translate"),o.ac(5,"i",93),o.ec(),o.ec(),o.fc(6,"span",94),o.bd(7),o.ec(),o.ec()}if(2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit;o.Lb(2),o.Bc("pTooltip",o.vc(3,4,"monitoring.services.custom.context.id.filter")),o.Mb("aria-label",o.vc(4,6,"monitoring.services.custom.context.id.filter")),o.Lb(4),o.Bc("pTooltip",t[e.field]),o.Lb(1),o.dd(" ",t[e.field]," ")}}const Ea=function(e){return{"text-align":e}};function Fa(e,t){if(1&e){const e=o.gc();o.fc(0,"td",81),o.fc(1,"span",82,83),o.fc(3,"div"),o.Zc(4,_a,7,11,"a",84),o.Zc(5,Da,5,8,"div",85),o.Zc(6,Pa,5,10,"div",85),o.Zc(7,Aa,7,9,"div",85),o.Zc(8,ka,7,9,"div",85),o.Zc(9,Ra,8,8,"div",17),o.ec(),o.fc(10,"p-contextMenu",86),o.pc("onShow",function(){o.Rc(e);const t=o.tc().$implicit,i=o.tc().$implicit;return o.tc(3).showCopyMenu(t.field,i[t.field])}),o.ec(),o.ec(),o.ec()}if(2&e){const e=o.Pc(2),t=o.tc(),i=t.$implicit,n=t.index,c=o.tc().$implicit,a=o.tc(3);o.Ac("ngStyle",o.Gc(10,Ea,i.cellAlign)),o.Lb(4),o.Ac("ngIf",0==n),o.Lb(1),o.Ac("ngIf",0!=n&&"DURATION"==i.field),o.Lb(1),o.Ac("ngIf",0!=n&&("FIRSTTIME"==i.field||"LASTTIME"==i.field)),o.Lb(1),o.Ac("ngIf",0!=n&&"LASTSTATUSDECODE"!=i.field&&"DURATION"!=i.field&&"FIRSTTIME"!=i.field&&"LASTTIME"!=i.field&&"CUSTOMCONTEXTID"!=i.field),o.Lb(1),o.Ac("ngIf",0!=n&&"LASTSTATUSDECODE"==i.field),o.Lb(1),o.Ac("ngIf",2==n&&null!=c[i.field]),o.Lb(1),o.Bc("id",c[i.field]),o.Ac("target",e)("model",a.svcMenuItems)}}function Ba(e,t){if(1&e&&(o.dc(0),o.Zc(1,Fa,11,12,"td",80),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function Na(e,t){if(1&e){const e=o.gc();o.fc(0,"tr",77),o.pc("keydown.enter",function(){o.Rc(e);const i=t.$implicit;return o.tc(3).onKeydownEnter(i.CONTEXTID)}),o.fc(1,"td",78),o.ac(2,"p-tableCheckbox",79),o.ec(),o.Zc(3,Ba,2,1,"ng-container",70),o.ec()}if(2&e){const e=t.$implicit,i=o.tc(3);o.Ac("pSelectableRow",e),o.Lb(2),o.Ac("value",e),o.Lb(1),o.Ac("ngForOf",i.tableInfo.tableColumnInfo)}}function Va(e,t){if(1&e&&(o.fc(0,"tr",96),o.fc(1,"td",97),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.Mb("colspan",e.tableInfo.tableColumnInfo.length),o.Lb(1),o.dd(" ",o.vc(3,2,"common.table.no.items")," ")}}function Ha(e,t){if(1&e&&o.Zc(0,Va,4,4,"tr",95),2&e){const e=o.tc(3);o.Ac("ngIf",null!=e.serviceExecutions)}}const Za=function(e,t,i){return{first:e,rows:t,totalRecords:i}};function za(e,t){if(1&e&&(o.fc(0,"div"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.dd(" ",o.wc(2,1,"common.table.items.page.info",o.Ic(4,Za,e.first,e.rows,e.totalRecords))," ")}}function ja(e,t){1&e&&(o.fc(0,"div"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.cd(o.vc(2,1,"common.table.zero.items")))}function Ua(e,t){if(1&e&&(o.Zc(0,za,3,8,"div",4),o.Zc(1,ja,3,3,"ng-template",null,98,o.ad)),2&e){const e=o.Pc(2),t=o.tc(3);o.Ac("ngIf",t.totalRecords>0)("ngIfElse",e)}}const $a=function(e){return{zebrastripes:e}},Ka=function(){return[20,40,60,200]};function Qa(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"p-overlayPanel",27,28),o.ac(3,"isac-lib-table-preferences",null,29),o.ec(),o.fc(5,"div",30),o.fc(6,"table",31),o.fc(7,"tr"),o.fc(8,"td"),o.Zc(9,Sa,16,14,"ng-container",17),o.ec(),o.fc(10,"td",32),o.fc(11,"section",33),o.fc(12,"div",34),o.fc(13,"section",35),o.fc(14,"div",36),o.fc(15,"div",37),o.fc(16,"div",38),o.fc(17,"button",39),o.pc("click",function(t){o.Rc(e);const i=o.Pc(2),n=o.tc(2);return i.toggle(t),n.showTablePrefs(t)}),o.uc(18,"translate"),o.uc(19,"translate"),o.ac(20,"i",40),o.ec(),o.ec(),o.fc(21,"div",38),o.fc(22,"button",41),o.pc("click",function(){o.Rc(e);const t=o.Pc(26);return o.tc(2).toggleFullScreen(t)}),o.uc(23,"translate"),o.uc(24,"translate"),o.ac(25,"i",42,43),o.ec(),o.ec(),o.ec(),o.fc(27,"button",44),o.pc("click",function(){return o.Rc(e),o.tc(2).resubmitServices()}),o.uc(28,"translate"),o.bd(29),o.uc(30,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(31,"div",45),o.Zc(32,La,8,9,"div",46),o.fc(33,"p-table",47,48),o.pc("onLazyLoad",function(t){return o.Rc(e),o.tc(2).lazyLoadServiceTableResults(t)})("selectionChange",function(t){return o.Rc(e),o.tc(2).selectedServices=t})("onRowUnselect",function(t){return o.Rc(e),o.tc(2).onRowUnselect(t)})("onRowSelect",function(t){return o.Rc(e),o.tc(2).onRowSelect(t)})("firstChange",function(t){return o.Rc(e),o.tc(2).first=t})("onColResize",function(t){return o.Rc(e),o.tc(2).columnResize(t)}),o.Zc(35,Oa,7,3,"ng-template",49),o.Zc(36,Na,4,3,"ng-template",50),o.Zc(37,Ha,1,1,"ng-template",51),o.Zc(38,Ua,3,2,"ng-template",52),o.ec(),o.ec(),o.ec(),o.cc()}if(2&e){const e=o.tc(2);o.Lb(1),o.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),o.Lb(8),o.Ac("ngIf",e.isLocalizationResourcesLoaded),o.Lb(8),o.Bc("pTooltip",o.vc(18,27,"common.table.settings")),o.Mb("aria-label",o.vc(19,29,"common.table.settings")),o.Lb(5),o.Bc("pTooltip",o.vc(23,31,"common.showFullScreen")),o.Nb("aria-label","",o.vc(24,33,"common.showFullScreen")," "),o.Lb(5),o.Ac("disabled",!(e.isResubmittable&&e.selectedServices.length>0)),o.Mb("aria-label",o.vc(28,35,"common.table.resubmit")),o.Lb(2),o.dd("",o.vc(30,37,"common.table.resubmit")," "),o.Lb(3),o.Ac("ngIf",e.showMaxRowsReachedMsg),o.Lb(1),o.Ac("ngClass",o.Gc(39,$a,e.tableInfo.showZebraStripes))("columns",e.tableInfo.tableColumnInfo)("value",e.serviceExecutions)("paginator",!0)("rows",e.tableInfo.pageSize)("totalRecords",e.totalRecords)("rowsPerPageOptions",o.Fc(41,Ka))("paginatorDropdownAppendTo","body")("lazy",!0)("lazyLoadOnInit",!1)("selection",e.selectedServices)("first",e.first)("showPageLinks",!1)("showJumpToPageDropdown",!0)("resizableColumns",!0)("responsive",!1)}}const Wa=function(e){return{hidden:e}};function qa(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",6),o.fc(2,"div",7),o.fc(3,"div",8),o.fc(4,"h1"),o.bd(5),o.uc(6,"translate"),o.ec(),o.ec(),o.fc(7,"div",9),o.fc(8,"isac-lib-date-timerange-panel",10),o.pc("onSelectTimeRange",function(t){return o.Rc(e),o.tc().processSelectedTimeRange(t)})("onRefreshContent",function(t){return o.Rc(e),o.tc().refreshServiceListContent(t)})("onRefreshIntervalChanged",function(t){return o.Rc(e),o.tc().refreshIntervalChanged(t)}),o.ec(),o.ec(),o.ec(),o.fc(9,"div",11),o.fc(10,"div",12),o.fc(11,"div",13),o.fc(12,"div",14),o.fc(13,"span"),o.bd(14),o.uc(15,"translate"),o.ec(),o.fc(16,"span",15),o.bd(17),o.ec(),o.ec(),o.Zc(18,ba,10,10,"div",16),o.Zc(19,va,1,0,"ac-loader",17),o.ec(),o.fc(20,"div",18),o.fc(21,"div",14),o.bd(22),o.uc(23,"translate"),o.ec(),o.Zc(24,ya,1,5,"ac-d3-stacked-bar-chart",19),o.Zc(25,Ca,1,0,"ac-loader",17),o.ec(),o.ec(),o.ec(),o.Zc(26,Qa,39,42,"ng-container",4),o.ec(),o.cc()}if(2&e){const e=o.tc(),t=o.Pc(12);o.Lb(5),o.cd(o.vc(6,17,e.tableInfo.tableId)),o.Lb(3),o.Ac("timeRange",e.serviceListStateService.timeRange)("refreshInterval",e.serviceListStateService.refreshInterval)("isCustomTimeRange",!0)("alignSelector","right")("showRefresh",!0)("showAutoRefresh",!0),o.Lb(1),o.Ac("ngClass",o.Gc(23,Wa,e.serviceListStateService.fullScreenTable)),o.Lb(5),o.cd(o.vc(15,19,"monitoring.services.executions")),o.Lb(3),o.cd(e.totalExecutions),o.Lb(1),o.Ac("ngIf",e.chartDataFetched),o.Lb(1),o.Ac("ngIf",e.fetchingChartData),o.Lb(3),o.dd(" ",o.vc(23,21,"monitoring.barchart.history"),""),o.Lb(2),o.Ac("ngIf",e.chartDataFetched),o.Lb(1),o.Ac("ngIf",e.fetchingChartData),o.Lb(1),o.Ac("ngIf",e.isTableDataAvailable)("ngIfElse",t)}}function Xa(e,t){1&e&&(o.fc(0,"div",103),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.cd(o.vc(2,1,"monitoring.error.information")))}function Ga(e,t){if(1&e&&(o.fc(0,"div",104),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorInformation)}}function Ja(e,t){if(1&e&&(o.fc(0,"div",104),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage1)}}function Ya(e,t){if(1&e&&(o.fc(0,"div",104),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage2)}}function es(e,t){if(1&e&&(o.fc(0,"div",104),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage3)}}function ts(e,t){if(1&e&&(o.fc(0,"div",99),o.bd(1),o.uc(2,"translate"),o.ec(),o.fc(3,"ul"),o.fc(4,"li",100),o.bd(5),o.uc(6,"translate"),o.ec(),o.fc(7,"li",100),o.bd(8),o.uc(9,"translate"),o.ec(),o.fc(10,"li",100),o.bd(11),o.uc(12,"translate"),o.ec(),o.fc(13,"li",100),o.bd(14),o.uc(15,"translate"),o.ec(),o.fc(16,"li",100),o.bd(17),o.uc(18,"translate"),o.ec(),o.ec(),o.Zc(19,Xa,3,3,"div",101),o.Zc(20,Ga,2,1,"div",102),o.Zc(21,Ja,2,1,"div",102),o.Zc(22,Ya,2,1,"div",102),o.Zc(23,es,2,1,"div",102)),2&e){const e=o.tc();o.Lb(1),o.dd(" ",o.vc(2,11,"monitoring.services.unavailable.message")," "),o.Lb(4),o.dd(" ",o.vc(6,13,"monitoring.services.unavailable.ensure1")," "),o.Lb(3),o.dd(" ",o.vc(9,15,"monitoring.services.unavailable.ensure2")," "),o.Lb(3),o.dd(" ",o.vc(12,17,"monitoring.services.unavailable.ensure3")," "),o.Lb(3),o.dd(" ",o.vc(15,19,"monitoring.services.unavailable.ensure4")," "),o.Lb(3),o.dd(" ",o.vc(18,21,"monitoring.services.unavailable.ensure5")," "),o.Lb(2),o.Ac("ngIf",e.monitoringErrorInformation||e.monitoringErrorMessage1||e.monitoringErrorMessage2||e.monitoringErrorMessage3),o.Lb(1),o.Ac("ngIf",e.monitoringErrorInformation),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage1),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage2),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage3)}}let is=(()=>{class e{constructor(e,t,i,n,c,a,r,o,l,d,u,h,g){this.translate=i,this.sharedMessageService=n,this.serviceListStateService=c,this.router=a,this.toastr=r,this.dateTimeService=o,this.cd=l,this.clipboard=d,this.durationFormatTrimmedPipe=u,this.preferredDateTimePipe=h,this.preferencesService=g,this.destroyed$=new p.a,this.homeLink="#/integration/dashboard/overview",this.isChartDataAvailable=!0,this.isTableDataAvailable=!0,this.filterTags=[],this.first=1,this.pageCount=0,this.tableInfo=new j.J("",[]),this.subs=[],this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.isResubmittable=!1,this.svcMenuItems=[],this.serviceAPIService=e,this.tableSettingsService=t,this.serviceListStateService.timeRange||(this.serviceListStateService.timeRange=s.TimerangePickerService.getDefaultTimerange()),this.serviceListStateService.refreshInterval||(this.serviceListStateService.refreshInterval=0),this.translate.setDefaultLang("en"),this.subs.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})),this.copiedToCB={copiedName:"",copiedValue:""}}ngOnInit(){this.checkMonitorStatus()}initializeServicesList(){this.setDefault(),this.chartDataFetched=!1,this.fetchingChartData=!0,this.loading=!0,this.fetchingTableData=!0,this.subs.push(this.tableSettingsService.getTableInfo("monitoring.services.service.executions").subscribe(e=>{this.tableInfo=e,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.tableSettingsService.changeShowHideInfo(this.tableInfo)})),this.subs.push(this.translate.get("common.reset").subscribe(()=>{this.isLocalizationResourcesLoaded=!0,this.statusList=[{label:this.translate.instant("monitoring.services.service.status.started"),value:"started"},{label:this.translate.instant("monitoring.services.service.status.completed"),value:"completed"},{label:this.translate.instant("monitoring.services.service.status.failed"),value:"failed"},{label:this.translate.instant("monitoring.services.service.status.resubmitted"),value:"resubmitted"}],this.initTableFilters(),this.updateFilterTags()})),this.serviceListStateService.timeRange||(this.serviceListStateService.timeRange=s.TimerangePickerService.getDefaultTimerange()),this.serviceListStateService.refreshInterval||(this.serviceListStateService.refreshInterval=0),this.initSearchQuery(),this.setChartData(),this.pageCount=0,this.getFilteredServiceList(this.serviceListStateService.tableFilters),this.svcMenuItems=[{label:this.translate.instant("common.copy"),icon:"dlt-icon-copy",command:e=>{this.copyService(e)}}]}refresh(){this.setChartData(),this.refreshServiceList()}checkMonitorStatus(){this.subs.push(this.serviceAPIService.getMonitorStatus().pipe(Object(g.a)(this.destroyed$)).subscribe(e=>{e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"enabled"===e.status?(this.isTableDataAvailable=!0,this.initializeServicesList()):e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"disabled"===e.status?(this.monitoringErrorMessage2=this.translate.instant("monitoring.wmmonitor.disabled"),this.isTableDataAvailable=!1):this.isTableDataAvailable=!1},e=>{this.isTableDataAvailable=!1,this.monitoringErrorMessage2=Object(j.L)(e,this.translate)}))}setChartData(){this.chartDataFetched=!1,this.fetchingChartData=!0,this.donutChartData=null,this.totalExecutions=0,this.barData=null;let e=null,t=null,i=null;const n=this;this.serviceListStateService.timeRange.durationInHours?(e=this.serviceListStateService.timeRange.durationInHours,this.handleOneandSixHoursDurationAsCustomTime(e,t,i)):(t=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.endTime)),this.subs.push(this.serviceAPIService.getServiceExecutionChartData(e,t,i).pipe(Object(g.a)(this.destroyed$)).subscribe(c=>{if(c&&c.hasOwnProperty("serviceArray")){const a=n.serviceAPIService.summarizedChartData(c,e,t,i);n.barData=a.get("barData"),n.chartXAxisTitle=a.get("barChartLabel"),n.donutChartData=a.get("donutData"),n.legendsData=a.get("columnKeyColorArray"),n.columnKeyColorArray=a.get("columnKeyColorArray"),n.totalExecutions=c.totalExecutions}else this.donutChartData=null,this.barData=null,this.chartXAxisTitle=null,this.totalExecutions=0;n.chartDataFetched=!0,n.fetchingChartData=!1,this.isChartDataAvailable=!0},e=>{this.chartDataFetched=!0,this.fetchingChartData=!1,this.donutChartData=null,this.barData=null,this.chartXAxisTitle=null,this.totalExecutions=0,this.isChartDataAvailable=!1,this.monitoringErrorInformation=Object(j.L)(e,this.translate),e.message&&(this.monitoringErrorMessage1=e.message)}))}handleOneandSixHoursDurationAsCustomTime(e,t,i){}setDefault(){this.loading=!1,this.tableInfo.sortField=this.tableInfo.defaultSortField,this.tableInfo.sortOrder=this.tableInfo.defaultSortOrder,this.resetPager()}resetPager(){this.first=1,this.pageCount=0,this.totalRecords=0,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=this.tableInfo.pageSize}columnResize(e){const t=document.getElementsByTagName("th");if(t&&t.length>0){const e=Array.from(t);this.tableSettingsService.columnResize(e,this.tableInfo)}}lazyLoadServiceTableResults(e){this.renderServiceTableResults(e);const t=e.filters,i=[];Object.keys(t).forEach(e=>{this.addFilterIfNotInList({filterBy:e,filterValue:t[e].value,type:"text",label:e})}),this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]),this.getFilteredServiceList(i.length>0?i:this.serviceListStateService.tableFilters)}addFilterIfNotInList(e){for(let t=0;t<this.serviceListStateService.tableFilters.length;t++)if(this.serviceListStateService.tableFilters[t].filterBy===e.filterBy)return void(this.serviceListStateService.tableFilters[t]=e);this.serviceListStateService.tableFilters.push(e)}getFilteredServiceList(e){j.K.setTableCheckBoxIndeterminate(!1),this.selectedServices=[],this.fetchingTableData=!0;const t=[];let i=null,n=null;e.map(e=>t.push(Object.assign({},e))),this.truncateLogfieldKeys(t),this.serviceListStateService.timeRange.durationInHours?t.push({filterBy:"durationInHours",filterValue:this.serviceListStateService.timeRange.durationInHours}):(i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.startTime),n=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.endTime)),this.serviceExecutions=void 0,this.subs.push(this.serviceAPIService.getServiceExecutionList(this.pageCount,this.tableInfo.pageSize,this.tableInfo.sortField,"asc"===this.tableInfo.sortOrder?"TRUE":"FALSE",i,n,t).pipe(Object(g.a)(this.destroyed$)).subscribe(e=>{e&&(this.totalRecords=e.totalCounts?e.totalCounts:0,this.serviceExecutions=e.services?e.services:[],this.loading=!1,this.showMaxRowsReachedMsg=!!e.rowCount,this.actualRowCount=e.rowCount),this.fetchingTableData=!1,this.isTableDataAvailable=!0,this.makeComponentsAccessible()},e=>{this.loading=!1,this.serviceExecutions=[],this.totalRecords=null,this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.fetchingTableData=!1,this.isTableDataAvailable=!1,e.message&&(this.monitoringErrorMessage2=e.message),e.error&&e.error.message&&(this.monitoringErrorMessage3=e.error.message)}))}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementById("headerCheckbox");e&&j.K.makeTableCheckboxAccessible(e,this.translate.instant("common.table.header.checkbox.title"));const t=document.getElementsByTagName("p-tablecheckbox");let i=0;if(t&&t.length>0)for(i=0;i<t.length;i++)j.K.makeTableCheckboxAccessible(t[i],this.translate.instant("common.table.row.checkbox.title"));const n=document.getElementsByTagName("p-paginator");if(n&&n.length>0)for(i=0;i<n.length;i++)j.K.makePaginatorAccessible(n[i],this.translate.instant("common.table.pagination.go.back.first.page"),this.translate.instant("common.table.pagination.advance.last.page"),this.translate.instant("common.table.pagination.go.back.previous.page"),this.translate.instant("common.table.pagination.advance.next.page"),this.translate.instant("common.table.pagination.select.page"),this.translate.instant("common.table.pagination.select.number.rows"))},100)}hideMaxResultWarning(){this.showMaxRowsReachedMsg=!1}refreshServiceListContent(e){this.refresh()}refreshServiceList(){this.getFilteredServiceList(this.serviceListStateService.tableFilters)}refreshIntervalChanged(e){this.serviceListStateService.refreshInterval=e.value?e.value:0}renderServiceTableResults(e){e?(this.tableInfo.sortField=e.sortField,this.tableInfo.sortOrder="desc",1===e.sortOrder&&(this.tableInfo.sortOrder="asc"),this.first=e.first+1,e.rows&&(this.pageCount=Math.floor(e.first/e.rows),this.tableInfo.pageSize=e.rows)):this.setDefault(),this.getRowCount(),this.cd.detectChanges()}getRowCount(){this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=(this.pageCount+1)*this.tableInfo.pageSize,this.totalRecords>0&&this.totalRecords<this.rows&&(this.rows=this.totalRecords)}getTime(e){return e.getTime()}clearSearch(e,t,i){e.filter("",t,i)}processSelectedTimeRange(e){this.serviceListStateService.timeRange=e,this.resetPager(),this.setChartData(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}pieItemClicked(e){const t=e.label;if(this.serviceListStateService.tableFilters&&0!==this.serviceListStateService.tableFilters.length){for(let e=0;e<this.serviceListStateService.tableFilters.length;e++)if("statusSet"===this.serviceListStateService.tableFilters[e].filterBy){this.serviceListStateService.tableFilters[e].filterValue=[t];break}}else this.serviceListStateService.tableFilters=[],this.serviceListStateService.tableFilters.push({filterBy:"statusSet",filterValue:[t],label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList});this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onFilterChange(e){if(this.serviceListStateService.tableFilters&&0!==this.serviceListStateService.tableFilters.length){for(let t=0;t<this.serviceListStateService.tableFilters.length;t++)if(this.serviceListStateService.tableFilters[t].filterBy===e.filterBy){this.serviceListStateService.tableFilters[t]=s.CommonUtil.cloneObject(e);break}}else this.serviceListStateService.tableFilters=[],this.serviceListStateService.tableFilters.push(e);this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onBasicFiltersReset(){for(let e=this.serviceListStateService.tableFilters.length-1;e>=0;--e){const t=this.serviceListStateService.tableFilters[e];t.filterBy==t.filterBy&&this.serviceListStateService.tableFilters.splice(e,1)}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onClearFilter(e){for(let t=0;t<this.serviceListStateService.tableFilters.length;t++){let i=this.serviceListStateService.tableFilters[t];if(i.filterBy===e.filterBy){if("customData"===e.filterBy)i=e;else if("statusSet"===e.filterBy){if(this.filterTags&&this.filterTags.length>0){let t=0;for(let i=0;i<this.filterTags.length;i++)if("statusSet"===this.filterTags[i].filterBy&&this.filterTags[i].filterValue===e.filterValue){t=i;break}if(t>-1&&this.filterTags.splice(t,1),this.serviceListStateService.tableFilters&&this.serviceListStateService.tableFilters.length>0)for(let i=0;i<this.serviceListStateService.tableFilters.length;i++)if("statusSet"===this.serviceListStateService.tableFilters[i].filterBy){if(this.serviceListStateService.tableFilters[i].filterValue&&this.serviceListStateService.tableFilters[i].filterValue.length>0){let t=-1;for(let n=0;n<this.serviceListStateService.tableFilters[i].filterValue.length;n++)if(this.serviceListStateService.tableFilters[i].filterValue[n]===e.filterValue){t=n;break}t>-1&&this.serviceListStateService.tableFilters[i].filterValue.splice(t,1)}break}return void this.getFilteredServiceList(this.serviceListStateService.tableFilters)}}else this.serviceListStateService.tableFilters.splice(t,1);break}}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onClearAllFilters(){this.serviceListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onBasicFiltersApply(e){this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]);for(let t=0;t<e.length;t++){const i=e[t];let n=!1;for(let e=0;e<this.serviceListStateService.tableFilters.length;e++)if(this.serviceListStateService.tableFilters[e].filterBy===i.filterBy){this.serviceListStateService.tableFilters[e]=i,n=!0;break}n||this.serviceListStateService.tableFilters.push(s.CommonUtil.cloneObject(i))}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}updateFilterTags(){this.resetPager();const e=[];this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]);for(let t=0;t<this.serviceListStateService.tableFilters.length;t++){const i=this.serviceListStateService.tableFilters[t];"statusSet"===i.filterBy&&i.filterValue?(this.updateDisplayvalueForStatus(i).forEach(t=>{e.push(t)}),this.filterTags=e):null==i.filterDisplayValue&&(i.filterDisplayValue=i.filterValue),null!==i.filterValue&&"statusSet"!==i.filterBy&&e.push(i)}this.filterTags=e}updateDisplayvalueForStatus(e){const t=[];for(let i=0;i<e.filterValue.length;i++){const n=e.filterValue[i];for(let i=0;i<this.statusList.length;i++){const c=this.statusList[i];if(c.value===n){t.push({filterBy:"statusSet",filterValue:c.value,label:e.label,type:"text",filterDisplayValue:c.label});break}}}return t}getDefaultBasicSearchTableFilters(){return[{filterBy:"statusSet",filterValue:null,label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList},{filterBy:"serviceName",filterValue:null,label:"monitoring.services.service.name1",type:"text",isISService:!0}]}initTableFilters(){this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[])}initSearchQuery(){this.serviceListStateService.serviceSearchQuery||(this.serviceListStateService.serviceSearchQuery=this.getDefaultServiceSearchQuery())}getDefaultServiceSearchQuery(){return this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]),{searchTerms:null,tableFilters:this.serviceListStateService.tableFilters,logFields:null,status:null,rootLevelServiceOnly:!1,andQuery:!0}}onAdvancedSearchApply(e){this.serviceListStateService.serviceSearchQuery=e;const t=this.serviceListStateService.serviceSearchQuery.searchTerms,i=[];for(let c=0;c<t.length;c++){const e=t[c];if(!e.value)continue;const n=Yc.getSearchField(e.field),a={filterBy:n.name,filterValue:e.value,label:n.label,type:n.type,options:this.statusList,filterDisplayValue:n.value};a.filterValue&&i.push(a)}const n=new Array;for(let c=0;c<this.serviceListStateService.serviceSearchQuery.logFields.length;c++){const e=this.serviceListStateService.serviceSearchQuery.logFields[c];e.field&&e.operator&&n.push(e)}n.length>0&&i.push({filterBy:"customData",filterValue:n,label:"customData",type:"condition",filterDisplayValue:n}),i.push({filterBy:"statusSet",filterValue:this.serviceListStateService.serviceSearchQuery.status,label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList}),this.serviceListStateService.serviceSearchQuery.rootLevelServiceOnly&&i.push({filterBy:"topLevelOnly",filterValue:this.serviceListStateService.serviceSearchQuery.rootLevelServiceOnly,label:"monitoring.services.rootLevelServicesOnly",type:"boolean"}),this.serviceListStateService.serviceSearchQuery.andQuery||i.push({filterBy:"isAnd",filterValue:this.serviceListStateService.serviceSearchQuery.andQuery,label:"common.labels.SearchCondition",filterDisplayValue:this.translate.instant("common.labels.or"),type:"boolean"}),this.serviceListStateService.tableFilters=i,this.updateFilterTags(),this.getFilteredServiceList(i)}onAdvancedSearchReset(e){this.serviceListStateService.serviceSearchQuery=e,this.serviceListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}toggleFullScreen(e){this.serviceListStateService.fullScreenTable?(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen")):(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen")),this.serviceListStateService.fullScreenTable=!this.serviceListStateService.fullScreenTable}showBasicFilter(){this.serviceListStateService.basicSearchFilters=this.getDefaultBasicSearchTableFilters();for(let e=0;e<this.serviceListStateService.tableFilters.length;e++){const t=this.serviceListStateService.tableFilters[e];"statusSet"===t.filterBy&&t.filterValue?this.serviceListStateService.basicSearchFilters[0].filterValue=t.filterValue:"serviceName"===t.filterBy&&t.filterValue&&(this.serviceListStateService.basicSearchFilters[1].filterValue=t.filterValue)}}showAdvancedSearch(){this.serviceListStateService.serviceSearchQuery=this.getDefaultServiceSearchQuery()}truncateLogfieldKeys(e){for(let t=0;t<e.length;t++){const i=e[t];if("customData"===i.filterBy&&i.filterValue){let e=new Array;for(let t=0;t<i.filterValue.length;t++){const n=i.filterValue[t];e.push({n:n.field,o:n.operator.value,v:n.value})}i.filterValue=e}}}onKeydownEnter(e){this.router.navigateByUrl("/monitoring/service/"+e)}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe()),this.destroyed$.next(!0),this.destroyed$.complete()}handleKeydown(e){27===e.keyCode?this.tablePrefsOverlay&&this.tablePrefsOverlay.hide():13===e.keyCode&&e.target&&"showColumns"===e.target.id&&this.tablePrefsOverlay&&this.tablePrefsOverlay.hide()}showTablePrefs(e){const t=this;setTimeout(()=>{t.tablePrefs.setFocus()},10)}onRowUnselect(e){this.checkResubmittable()}onRowSelect(e){this.checkResubmittable()}getTooltipForSelectAll(){return j.K.isTableHeaderCheckBoxIndeterminate()?this.translate.instant("monitoring.services.deselect.all.tooltip"):this.selectAllCheckbox&&this.serviceExecutions&&this.serviceExecutions.length>0?this.translate.instant(this.selectAllCheckbox.checked?"monitoring.services.deselect.all.tooltip":"monitoring.services.select.all.tooltip"):""}selectAllRows(e){if(j.K.isTableHeaderCheckBoxIndeterminate())return j.K.setTableCheckBoxIndeterminate(!1),this.selectedServices=[],void(this.isResubmittable=!1);if(j.K.setTableCheckBoxIndeterminate(!1),e){if(this.isResubmittable=!0,this.rowCheckBoxes&&this.rowCheckBoxes.length>0){const e=[];this.rowCheckBoxes.forEach(t=>{1===t.value.RESUBMITTABLE&&e.push(t.value)}),this.selectedServices=e,0===this.selectedServices.length&&this.toastr.warning(this.translate.instant("monitoring.services.no.resubmittable.services"),this.translate.instant("monitoring.services.no.resubmittable.services.title")),this.selectedServices.length>0&&this.rowCheckBoxes.length!==e.length&&j.K.setTableCheckBoxIndeterminate(!0)}}else this.isResubmittable=!1}checkResubmittable(){if(j.K.setTableCheckBoxIndeterminate(!1),this.isResubmittable=!0,this.selectedServices&&this.selectedServices.length>0){for(const e of this.selectedServices)1!==e.RESUBMITTABLE&&(this.isResubmittable=!1);this.rowCheckBoxes.length!==this.selectedServices.length&&j.K.setTableCheckBoxIndeterminate(!0)}else this.isResubmittable=!1}resubmitServices(){const e=new Array;for(const t of this.selectedServices)e.push(t.CONTEXTID);this.serviceAPIService.resubmitServices(e).subscribe(e=>{e&&e.message&&e.message.length>0&&e.resubmittedServices&&e.resubmittedServices.length>0&&this.toastr.success(this.translate.instant("monitoring.services.multiple.service.resubmit.success.msg",{msg:e.message}),this.translate.instant("monitoring.services.multiple.service.resubmit.success.title")),this.refreshServiceList()},e=>{const t=Object(j.L)(e,this.translate);this.toastr.error(t,this.translate.instant("monitoring.services.multiple.service.resubmit.failed.title"))})}showCopyMenu(e,t){this.copiedToCB.copiedName=e,this.copiedToCB.copiedValue=t}copyService(e){let t=this.copiedToCB.copiedValue;"DURATION"===this.copiedToCB.copiedName?t=this.durationFormatTrimmedPipe.transform(t):"FIRSTTIME"!==this.copiedToCB.copiedName&&"LASTTIME"!==this.copiedToCB.copiedName||(t=this.preferredDateTimePipe.transform(new Date(t),this.preferencesService)),this.clipboard.copy(t)}goToHomePage(){this.router.navigateByUrl(this.homeLink)}getStatus(e){return"Completed"===e?this.translate.instant("monitoring.services.service.status.completed"):"Failed"===e?this.translate.instant("monitoring.services.service.status.failed"):"Started"===e?this.translate.instant("monitoring.services.service.status.started"):"Resubmitted"===e?this.translate.instant("monitoring.services.service.status.resubmitted"):e}ccidSelected(e,t){this.onFilterChange({filterBy:"customContextID",filterValue:t,label:"monitoring.services.service.custom.context.id",type:"text"})}showHelp(){}}return e.\u0275fac=function(t){return new(t||e)(o.Zb($n),o.Zb(s.TableSettingsService),o.Zb(n.d),o.Zb(j.B),o.Zb(Jc),o.Zb(h.f),o.Zb(Q.b),o.Zb(s.DateTimeService),o.Zb(o.h),o.Zb(H.a),o.Zb(j.h),o.Zb(j.u),o.Zb(s.PreferencesService))},e.\u0275cmp=o.Tb({type:e,selectors:[["app-service-list"]],viewQuery:function(e,t){if(1&e&&(o.hd(pa,1),o.hd(ga,1),o.hd(ma,1),o.hd(fa,1),o.hd(xi.i,1)),2&e){let e;o.Oc(e=o.qc())&&(t.isMonSvcExeTable=e.first),o.Oc(e=o.qc())&&(t.tablePrefs=e.first),o.Oc(e=o.qc())&&(t.tablePrefsOverlay=e.first),o.Oc(e=o.qc())&&(t.selectAllCheckbox=e.first),o.Oc(e=o.qc())&&(t.rowCheckBoxes=e)}},hostBindings:function(e,t){1&e&&o.pc("keydown",function(e){return t.handleKeydown(e)},!1,o.Qc)},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"svclistcontainer"],[1,"row"],[1,"col","page-title"],[1,"d-flex","col","justify-content-end",2,"min-width","615px"],[3,"timeRange","refreshInterval","isCustomTimeRange","alignSelector","showRefresh","showAutoRefresh","onSelectTimeRange","onRefreshContent","onRefreshIntervalChanged"],[1,"chartContainerSvc",3,"ngClass"],[1,"row","chart-row"],[1,"col-4"],[1,"header"],[2,"padding-left","10px"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col-8"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle",4,"ngIf"],[1,"col-5"],[3,"data","heightInput","pieItemClicked"],[1,"col-7","border-right"],[3,"data","heightInput","legendItemClicked"],[1,"donutInfo"],["src","assets/images/svgs/Chart-info-icon.svg",2,"width","16px","height","16px",3,"alt"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay",""],["tablePrefs",""],[1,"dlt-data-table-container"],["width","100%"],[2,"vertical-align","top","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[2,"display","inline-flex"],[1,"dlt-dropdown"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],["showDelay","250","tabindex","0","tooltipPosition","left",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandTable",""],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button",3,"disabled","click"],[1,"dlt-table-wrapper"],["class","dlt-inline warn-border",4,"ngIf"],["sortMode","single","sortOrder","-1","dataKey","CONTEXTID","columnResizeMode","fit",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","lazyLoadOnInit","selection","first","showPageLinks","showJumpToPageDropdown","resizableColumns","responsive","onLazyLoad","selectionChange","onRowUnselect","onRowSelect","firstChange","onColResize"],["isMonSvcExeTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorleft"],[1,"filterCell"],[2,"margin-right","10px"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","searchButton",3,"click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button","searchButton",3,"click"],[3,"styleClass","tableFilters","onFiltersReset","onFiltersApply","onFilterChange"],["filterOverlayPanel",""],[3,"serviceSearchQuery","serviceStatusList","onAdvancedSearchApply","onAdvancedSearchReset"],["advancedSearchOverlayPanel",""],[3,"filterTags","onClearAll","onClearFilter"],[1,"dlt-inline","warn-border"],[1,"dlg-title-wrapper"],[1,"dlt-icon-warning","warn-icon"],[1,"inline-message"],["showDelay","250",1,"dlt-icon-close","close-icon","closeWarning",3,"pTooltip","click"],[1,"tableHeaderSelectAll"],["tooltipPosition","top",3,"pTooltip","click"],["selectAllCheckbox","","e",""],[4,"ngFor","ngForOf"],["pResizableColumn","","tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip","id",4,"ngIf"],["pResizableColumn","","tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip","id"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data","centerAlignText"],[3,"pSelectableRow","keydown.enter"],[1,"selection-checkbox",2,"color","#000"],[3,"value"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["aria-haspopup","true"],["copyVal",""],["showDelay","250","tooltipPosition","top","class","svcLink",3,"pTooltip","routerLink",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["appendTo","body",3,"target","model","id","onShow"],["showDelay","250","tooltipPosition","top",1,"svcLink",3,"pTooltip","routerLink"],[1,"firstPart"],[1,"lastPart"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"custom-context-id-span1"],["tabindex","0","tooltipPosition","top","showDelay","250",1,"dlt-button","dlt-button-icon","dlt-icon-sm","svc-list-filter-btn",3,"pTooltip","click"],[1,"dlt-icon-filter","dlg-icon-btn"],["showDelay","250","tooltipPosition","top",1,"custom-context-id-span2",3,"pTooltip"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"table-data"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(o.fc(0,"div",0),o.fc(1,"ol",1),o.fc(2,"li"),o.fc(3,"a",2),o.bd(4),o.uc(5,"translate"),o.ec(),o.ec(),o.fc(6,"li"),o.fc(7,"a",3),o.bd(8),o.uc(9,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.Zc(10,qa,27,25,"ng-container",4),o.Zc(11,ts,24,23,"ng-template",null,5,o.ad)),2&e){const e=o.Pc(12);o.Lb(4),o.cd(o.vc(5,4,"masthead.administration")),o.Lb(4),o.cd(o.vc(9,6,"monitoring.services.tab")),o.Lb(2),o.Ac("ngIf",t.isChartDataAvailable)("ngIfElse",e)}},directives:[h.i,r.o,s.DateTimerangePanelComponent,r.m,gi,bi,s.ACLoaderComponent,Ci,Si.a,s.TablePreferencesComponent,ee.a,xi.h,d.k,s.FilterOverlayPanelComponent,ha,s.FilterTagsComponent,xi.j,r.n,xi.d,xi.g,r.p,xi.f,xi.e,xi.i,N],pipes:[n.c,j.F,j.G,j.g,j.h,j.u],styles:[".breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.svclistcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap;overflow:none;min-width:-moz-fit-content;min-width:fit-content}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.serviceExecution-table[_ngcontent-%COMP%]{margin:10px}.service-table-wrapper[_ngcontent-%COMP%]{padding:5px}.data-table-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;color:#333;position:relative;display:flex;line-height:2rem;white-space:nowrap}.serviceExecution-table[_ngcontent-%COMP%]   .table-toolbar[_ngcontent-%COMP%]{display:flex;width:100%;height:2rem;align-items:flex-end;justify-content:flex-end}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{max-width:300px}.serviceExecution-table[_ngcontent-%COMP%]   .xs-button[_ngcontent-%COMP%]{line-height:1.75rem;margin:2px 10px 2px 0}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-dropdown[_ngcontent-%COMP%]{line-height:2rem;margin:0 10px 0 0}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-button-icon[_ngcontent-%COMP%]{height:1.75rem!important;width:1.75rem!important}.dashed-line[_ngcontent-%COMP%]{border-top:1px dashed #cccccb}.row1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:-15px;padding-top:22px}.padding-right-10[_ngcontent-%COMP%]{padding-top:10px}.padding-top-5[_ngcontent-%COMP%]{padding-top:5px}.padding-bottom-20[_ngcontent-%COMP%]{padding-bottom:20px}.padding-bottom-30[_ngcontent-%COMP%]{padding-bottom:30px}.margin-left-right-10[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.hidden[_ngcontent-%COMP%]{display:none}.legend-panel[_ngcontent-%COMP%]{background:#fff none repeat scroll 0 0;height:auto;position:absolute;right:20px;top:60px}.panel[_ngcontent-%COMP%]{margin-top:27px!important;border:1px solid #cccccb;padding:0 10px}.padding-top-30[_ngcontent-%COMP%]{padding-top:30px}.chartContainerSvc[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.row.chart-row[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border:1px solid #dadada;background-color:#fff;margin-bottom:20px;margin-top:10px}.header[_ngcontent-%COMP%]{color:#666;padding-left:2px;padding-right:2px;margin-bottom:0;padding-top:10px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:20px}.donutInfo[_ngcontent-%COMP%]{color:#666;padding-top:0;padding-bottom:10px;padding-left:10px;font-size:.7rem}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.dlt-inline[_ngcontent-%COMP%]{width:100%;margin-top:10px}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}.dlt-icon-tbl[_ngcontent-%COMP%]{width:40px}.filterCell[_ngcontent-%COMP%]{margin-top:0}.closeWarning[_ngcontent-%COMP%]{cursor:pointer}.side-panel-collapse-icon[_ngcontent-%COMP%]{font-size:24px;line-height:48px}.post-short-meta-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-wrap:wrap;align-items:center}.searchButton[_ngcontent-%COMP%]{display:inline!important}.tb-vert[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important}a.svcLink[_ngcontent-%COMP%]{color:var(--wmio-primary-color,#1776bf)!important}a.svcLink[_ngcontent-%COMP%]:focus, a.svcLink[_ngcontent-%COMP%]:hover{text-decoration:underline!important}.firstPart[_ngcontent-%COMP%], .lastPart[_ngcontent-%COMP%]{text-decoration:inherit!important}.custom-context-id-span1[_ngcontent-%COMP%]{float:right;white-space:nowrap}.custom-context-id-span2[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.svc-list-filter-btn[_ngcontent-%COMP%]{float:none;vertical-align:top;min-width:1erm}"]}),e})();new Z.f({"Content-Type":"application/json"});let ns=(()=>{class e{constructor(e,t,i){this.http=e,this.translateService=t,this.preferencesService=i,this.dataManagementUrl="/admin/monitor",i.getLocaleInfo().subscribe(e=>{this.localeInfo=e})}getArchiveInfo(){const e=j.K.getISBaseUrl();return this.http.get(e+this.dataManagementUrl+"/archive/info")}getArchiveResults(e,t,i="CTRL_INSERT_DT",n){const c=j.K.getISBaseUrl()+this.dataManagementUrl+"/archive/results",a=(new Z.g).set("pageNumber",e).set("pageSize",t).set("sortColumn",i).set("sortAscending",n);return this.http.get(c,{params:a})}archiveDelete(e,t,i,n,c,a){let s=j.K.getISBaseUrl()+this.dataManagementUrl+"/archive?archiveAction="+e;t&&(s=s+"&days="+t),i&&(s=s+"&todate="+i),n&&(s=s+"&batchSize="+n),c&&(s=s+"&status="+c),s=s+"&region="+encodeURIComponent(this.localeInfo.timeZone);let r="";for(const o of a)r=r+"&dataTypes[]="+o;return s+=r,this.http.post(s,{})}getMonitorStatus(){const e=j.K.getISBaseUrl();return this.http.get(e+"/admin/monitor/status")}log(e){o.fb&&console.log(`ServiceApiService: ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o.mc(Z.b),o.mc(n.d),o.mc(s.PreferencesService))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var cs=i("VhXZ"),as=i("c/fn");const ss=["tablePrefs1"],rs=["tablePrefs2"],os=["archiveInfoCard"],ls=["archiveHistCard"];function ds(e,t){if(1&e&&(o.fc(0,"div",79),o.bd(1),o.uc(2,"preferredDateTime"),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.dd(" ",o.xc(2,1,e.dateDVal,e.preferencesService,e.dateTimePreferenceService)," ")}}function us(e,t){if(1&e&&(o.fc(0,"div",80),o.bd(1),o.uc(2,"preferredDateTime"),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.dd(" ",o.xc(2,1,e.dateDVal,e.preferencesService,e.dateTimePreferenceService)," ")}}const hs=function(){return{"min-width":"150px"}};function ps(e,t){if(1&e){const e=o.gc();o.fc(0,"div",20),o.fc(1,"div",21),o.fc(2,"div",22),o.fc(3,"isac-lib-simple-card",23),o.uc(4,"translate"),o.ac(5,"hr",24),o.fc(6,"div"),o.fc(7,"fieldset"),o.fc(8,"table",25),o.ac(9,"col",26),o.ac(10,"col",27),o.ac(11,"col",28),o.fc(12,"tr"),o.fc(13,"td",29),o.fc(14,"div",30),o.fc(15,"div",31),o.fc(16,"div",32),o.fc(17,"input",33,34),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).daysToRetainOption=t}),o.uc(19,"translate"),o.ec(),o.fc(20,"label",35),o.bd(21),o.uc(22,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(23,"td"),o.fc(24,"div",36),o.fc(25,"input",37),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).numDaysRetainVal=t}),o.uc(26,"translate"),o.uc(27,"translate"),o.ec(),o.fc(28,"div",38),o.fc(29,"button",39),o.uc(30,"translate"),o.uc(31,"translate"),o.ac(32,"i",40),o.ec(),o.fc(33,"button",41),o.uc(34,"translate"),o.uc(35,"translate"),o.ac(36,"i",42),o.ec(),o.ec(),o.ec(),o.ec(),o.ac(37,"td"),o.ec(),o.fc(38,"tr"),o.fc(39,"td",29),o.fc(40,"div",30),o.fc(41,"div",31),o.fc(42,"div",32),o.fc(43,"input",43,44),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).daysToRetainOption=t}),o.uc(45,"translate"),o.ec(),o.fc(46,"label",45),o.bd(47),o.uc(48,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(49,"td",46),o.Zc(50,ds,3,5,"div",47),o.Zc(51,us,3,5,"div",48),o.ec(),o.fc(52,"td",46),o.fc(53,"button",49),o.pc("showDaterangepicker",function(t){return o.Rc(e),o.tc(3).showDaterangepicker(t)})("applyDaterangepicker",function(t){return o.Rc(e),o.tc(3).applyDaterangepicker(t)}),o.uc(54,"translate"),o.uc(55,"translate"),o.ac(56,"i",50),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(57,"div",21),o.fc(58,"div",22),o.fc(59,"isac-lib-simple-card",23),o.uc(60,"translate"),o.ac(61,"hr",24),o.fc(62,"div",51),o.fc(63,"div",52),o.fc(64,"table",53),o.ac(65,"col",26),o.ac(66,"col",26),o.ac(67,"col",54),o.ac(68,"col",26),o.fc(69,"tr"),o.fc(70,"td",55),o.fc(71,"div",56),o.fc(72,"input",57,58),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).servicesChecked=t})("change",function(t){return o.Rc(e),o.tc(3).servicesChkChanged(t)}),o.ec(),o.fc(74,"label",59,60),o.bd(76),o.uc(77,"translate"),o.ec(),o.ec(),o.ec(),o.fc(78,"td"),o.fc(79,"p-dropdown",61,62),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).servicesDataTypeVal=t}),o.uc(81,"translate"),o.uc(82,"translate"),o.ec(),o.ec(),o.ac(83,"td"),o.ac(84,"td"),o.ec(),o.fc(85,"tr"),o.fc(86,"td",55),o.fc(87,"div",56),o.fc(88,"input",63),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).documentsChecked=t})("change",function(t){return o.Rc(e),o.tc(3).documentsChkChanged(t)}),o.ec(),o.fc(89,"label",64,65),o.bd(91),o.uc(92,"translate"),o.ec(),o.ec(),o.ec(),o.ac(93,"td"),o.ac(94,"td"),o.ac(95,"td"),o.ec(),o.fc(96,"tr"),o.fc(97,"td",66),o.fc(98,"div",56),o.fc(99,"input",67),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).serverDataChecked=t})("change",function(t){return o.Rc(e),o.tc(3).serverDataChkChanged(t)}),o.ec(),o.fc(100,"label",68),o.bd(101),o.uc(102,"translate"),o.ec(),o.ec(),o.ec(),o.ac(103,"td"),o.fc(104,"td",69),o.fc(105,"label",70),o.bd(106),o.uc(107,"translate"),o.ec(),o.ec(),o.fc(108,"td",71),o.fc(109,"div",36),o.fc(110,"input",72),o.pc("ngModelChange",function(t){return o.Rc(e),o.tc(3).archivingBatchSize=t}),o.uc(111,"translate"),o.ec(),o.fc(112,"div",38),o.fc(113,"button",73),o.uc(114,"translate"),o.uc(115,"translate"),o.ac(116,"i",40),o.ec(),o.fc(117,"button",74),o.uc(118,"translate"),o.uc(119,"translate"),o.ac(120,"i",42),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(121,"div",75),o.fc(122,"button",76),o.pc("click",function(){return o.Rc(e),o.tc(3).archive()}),o.uc(123,"translate"),o.uc(124,"translate"),o.bd(125),o.uc(126,"translate"),o.ec(),o.fc(127,"button",77),o.pc("click",function(){return o.Rc(e),o.tc(3).archive(!0)}),o.uc(128,"translate"),o.uc(129,"translate"),o.bd(130),o.uc(131,"translate"),o.ec(),o.ec(),o.ac(132,"hr",78),o.ec()}if(2&e){const e=o.tc(3);o.Lb(3),o.Bc("label",o.vc(4,53,"monitoring.archive.retention.time.period")),o.Lb(14),o.Ac("ngModel",e.daysToRetainOption),o.Mb("aria-label",o.vc(19,55,"monitoring.archive.retain.number.of.days")),o.Lb(4),o.cd(o.vc(22,57,"monitoring.archive.retain.number.of.days")),o.Lb(3),o.Mb("disabled","retenPd"===e.daysToRetainOption?"disabled":""),o.Lb(1),o.Bc("pTooltip",o.vc(27,61,"monitoring.archive.retain.number.of.days")),o.Ac("ngModel",e.numDaysRetainVal)("disabled","retenPd"===e.daysToRetainOption),o.Mb("aria-label",o.vc(26,59,"monitoring.archive.retain.number.of.days")),o.Lb(4),o.Bc("pTooltip",o.vc(31,65,"common.spinner.increase")),o.Ac("disabled","retenPd"===e.daysToRetainOption),o.Mb("aria-label",o.vc(30,63,"common.spinner.increase")),o.Lb(4),o.Bc("pTooltip",o.vc(35,69,"common.spinner.decrease")),o.Ac("disabled","retenPd"===e.daysToRetainOption),o.Mb("aria-label",o.vc(34,67,"common.spinner.decrease")),o.Lb(10),o.Ac("ngModel",e.daysToRetainOption),o.Mb("aria-label",o.vc(45,71,"monitoring.archive.retention.period.start.date")),o.Lb(4),o.cd(o.vc(48,73,"monitoring.archive.retention.period.start.date")),o.Lb(3),o.Ac("ngIf","numDays"===e.daysToRetainOption),o.Lb(1),o.Ac("ngIf","numDays"!=e.daysToRetainOption),o.Lb(2),o.Bc("pTooltip",o.vc(54,75,"monitoring.archive.calendar.selection")),o.Ac("options",e.dateOptions)("disabled","numDays"===e.daysToRetainOption),o.Mb("aria-label",o.vc(55,77,"monitoring.archive.calendar.selection")),o.Lb(6),o.Bc("label",o.vc(60,79,"monitoring.archive.data.types")),o.Lb(13),o.Ac("ngModel",e.servicesChecked),o.Lb(4),o.dd(" ",o.vc(77,81,"monitoring.archive.data.type.services")," "),o.Lb(3),o.Wc(o.Fc(115,hs)),o.Bc("pTooltip",o.vc(81,83,"monitoring.archive.service.status.tooltip")),o.Ac("options",e.serviceTypeVals)("ngModel",e.servicesDataTypeVal)("disabled",!e.servicesChecked),o.Mb("aria-label",o.vc(82,85,"monitoring.archive.service.status.tooltip")),o.Lb(9),o.Ac("ngModel",e.documentsChecked),o.Lb(3),o.dd(" ",o.vc(92,87,"monitoring.archive.data.type.documents")," "),o.Lb(8),o.Ac("ngModel",e.serverDataChecked),o.Lb(2),o.cd(o.vc(102,89,"monitoring.archive.data.type.server.data")),o.Lb(5),o.dd(" ",o.vc(107,91,"monitoring.archive.archiving.batch.size")," "),o.Lb(4),o.Ac("ngModel",e.archivingBatchSize),o.Mb("aria-label",o.vc(111,93,"monitoring.archive.archiving.batch.size")),o.Lb(3),o.Bc("pTooltip",o.vc(115,97,"common.spinner.increase")),o.Mb("aria-label",o.vc(114,95,"common.spinner.increase")),o.Lb(4),o.Bc("pTooltip",o.vc(119,101,"common.spinner.decrease")),o.Mb("aria-label",o.vc(118,99,"common.spinner.decrease")),o.Lb(5),o.Bc("pTooltip",o.vc(123,103,"monitoring.archive.archive.and.delete")),o.Ac("disabled",!e.servicesChecked&&!e.documentsChecked&&!e.serverDataChecked),o.Mb("aria-label",o.vc(124,105,"monitoring.archive.archive.and.delete")),o.Lb(3),o.dd(" ",o.vc(126,107,"monitoring.archive.archive.and.delete")," "),o.Lb(2),o.Bc("pTooltip",o.vc(128,109,"monitoring.archive.delete.only")),o.Ac("disabled",!e.servicesChecked&&!e.documentsChecked&&!e.serverDataChecked),o.Mb("aria-label",o.vc(129,111,"monitoring.archive.delete.only")),o.Lb(3),o.dd(" ",o.vc(131,113,"monitoring.archive.delete.only")," ")}}const gs=function(e){return{width:e}};function ms(e,t){if(1&e&&o.ac(0,"col",112),2&e){const e=o.tc().$implicit;o.Cc("id","SUMMARY_",e.field,""),o.Ac("ngStyle",o.Gc(2,gs,e.userConfiguredColumnWidth?e.userConfiguredColumnWidth:e.width))}}function fs(e,t){if(1&e&&(o.dc(0),o.Zc(1,ms,1,4,"col",111),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function bs(e,t){if(1&e&&(o.fc(0,"colgroup",109),o.Zc(1,fs,2,1,"ng-container",110),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.Ac("ngForOf",e.archiveInfoTableInfo.tableColumnInfo)}}const vs=function(e){return{"text-align":e}};function ys(e,t){if(1&e&&(o.fc(0,"th",115),o.uc(1,"translate"),o.fc(2,"div",116),o.fc(3,"label",117),o.bd(4),o.uc(5,"translate"),o.ac(6,"p-sortIcon",118),o.ec(),o.ec(),o.ec()),2&e){const e=o.tc().$implicit;o.Bc("pTooltip",o.vc(1,5,e.header)),o.Ac("pSortableColumn",e.field)("ngStyle",o.Gc(9,vs,e.hdrAlign)),o.Lb(4),o.dd(" ",o.vc(5,7,e.header)," "),o.Lb(2),o.Ac("field",e.field)}}function Cs(e,t){if(1&e&&(o.dc(0),o.Zc(1,ys,7,11,"th",114),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function Ss(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",119),o.ac(2,"ac-loader"),o.ec(),o.ec()),2&e){const e=o.tc(5);o.Lb(1),o.Mb("colspan",e.archiveInfoTableInfo.tableColumnInfo.length)}}function xs(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,Cs,2,1,"ng-container",110),o.ec(),o.Zc(2,Ss,3,1,"tr",113)),2&e){const e=o.tc(4);o.Lb(1),o.Ac("ngForOf",e.archiveInfoTableInfo.tableColumnInfo),o.Lb(1),o.Ac("ngIf",e.fetchingInfoTableData)}}function Ls(e,t){if(1&e&&(o.fc(0,"div",123),o.fc(1,"span",124),o.bd(2),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit;o.Bc("pTooltip",t[e.field]),o.Lb(2),o.cd(t[e.field])}}function ws(e,t){if(1&e&&(o.fc(0,"div",123),o.uc(1,"preferredDateTime"),o.fc(2,"span",124),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit,i=o.tc(4);o.Bc("pTooltip",o.xc(1,2,t[e.field],i.preferencesService,i.dateTimePreferenceService)),o.Lb(3),o.cd(o.xc(4,6,t[e.field],i.preferencesService,i.dateTimePreferenceService))}}const Ts=function(e,t){return{width:e,"text-align":t}};function Is(e,t){if(1&e&&(o.fc(0,"td",121),o.fc(1,"span"),o.Zc(2,Ls,3,2,"div",122),o.Zc(3,ws,5,10,"div",122),o.ec(),o.ec()),2&e){const e=o.tc().$implicit;o.Ac("ngStyle",o.Hc(3,Ts,e.width,e.cellAlign)),o.Lb(2),o.Ac("ngIf","EARLIEST"!=e.field&&"LATEST"!=e.field),o.Lb(1),o.Ac("ngIf","EARLIEST"==e.field||"LATEST"==e.field)}}function Ms(e,t){if(1&e&&(o.dc(0),o.Zc(1,Is,4,6,"td",120),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function Os(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,Ms,2,1,"ng-container",110),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.Ac("ngForOf",e.archiveInfoTableInfo.tableColumnInfo)}}function _s(e,t){if(1&e&&(o.fc(0,"tr",126),o.fc(1,"td",119),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e){const e=o.tc(5);o.Lb(1),o.Mb("colspan",e.archiveInfoTableInfo.tableColumnInfo.length),o.Lb(1),o.dd(" ",o.vc(3,2,"common.table.no.items")," ")}}function Ds(e,t){if(1&e&&o.Zc(0,_s,4,4,"tr",125),2&e){const e=o.tc(4);o.Ac("ngIf",null!=e.archiveInfo)}}const Ps=function(){return{height:"100%"}},As=function(e){return{zebrastripes:e}};function ks(e,t){if(1&e){const e=o.gc();o.fc(0,"div",81),o.fc(1,"div",82),o.fc(2,"div"),o.fc(3,"div",83),o.fc(4,"isac-lib-simple-card",84,85),o.uc(6,"translate"),o.fc(7,"table",86),o.fc(8,"tr"),o.fc(9,"td",87),o.fc(10,"section",88),o.fc(11,"div",89),o.fc(12,"section",90),o.fc(13,"div",91),o.fc(14,"div",92),o.fc(15,"button",93),o.pc("click",function(t){o.Rc(e);const i=o.Pc(29),n=o.tc(3);return i.toggle(t),n.showTablePrefs1(t)}),o.uc(16,"translate"),o.uc(17,"translate"),o.ac(18,"i",94),o.ec(),o.ec(),o.fc(19,"div",95),o.fc(20,"button",93),o.pc("click",function(){o.Rc(e);const t=o.Pc(25);return o.tc(3).toggleFullScreenArchiveInfo(t)}),o.uc(21,"translate"),o.uc(22,"translate"),o.uc(23,"translate"),o.ac(24,"i",96,97),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(26,"div",82),o.fc(27,"div",98),o.fc(28,"p-overlayPanel",99,100),o.ac(30,"isac-lib-table-preferences",null,101),o.ec(),o.fc(32,"div",102),o.fc(33,"div",103),o.fc(34,"p-table",104),o.pc("onColResize",function(t){return o.Rc(e),o.tc(3).columnResizeSummary(t)}),o.Zc(35,bs,2,1,"ng-template",105),o.Zc(36,xs,3,2,"ng-template",106),o.Zc(37,Os,2,1,"ng-template",107),o.Zc(38,Ds,1,1,"ng-template",108),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec()}if(2&e){const e=o.tc(3);o.Lb(4),o.Bc("label",o.vc(6,15,"monitoring.archive.info.results")),o.Lb(11),o.Bc("pTooltip",o.vc(16,17,"common.table.settings")),o.Mb("aria-label",o.vc(17,19,"common.table.settings")),o.Lb(5),o.Bc("pTooltip",1==e.archiveInfoFullScreen?o.vc(21,21,"common.exitFullScreen"):o.vc(22,23,"common.showFullScreen")),o.Mb("aria-label",o.vc(23,25,"common.showFullScreen")),o.Lb(8),o.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),o.Lb(6),o.Wc(o.Fc(27,Ps)),o.Bc("scrollHeight",e.archiveInfoScrollHeight),o.Ac("ngClass",o.Gc(28,As,e.archiveInfoTableInfo.showZebraStripes))("columns",e.archiveInfoTableInfo.tableColumnInfo)("value",e.archiveInfo)("scrollable",!0)("resizableColumns",!0)}}function Rs(e,t){if(1&e&&o.ac(0,"col",112),2&e){const e=o.tc().$implicit;o.Cc("id","HISTORY_",e.field,""),o.Ac("ngStyle",o.Gc(2,gs,e.userConfiguredColumnWidth?e.userConfiguredColumnWidth:e.width))}}function Es(e,t){if(1&e&&(o.dc(0),o.Zc(1,Rs,1,4,"col",111),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function Fs(e,t){if(1&e&&(o.fc(0,"colgroup",135),o.Zc(1,Es,2,1,"ng-container",110),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.Ac("ngForOf",e.archiveHistoryTableInfo.tableColumnInfo)}}function Bs(e,t){if(1&e&&(o.fc(0,"th",115),o.uc(1,"translate"),o.fc(2,"div",116),o.fc(3,"label",117),o.bd(4),o.uc(5,"translate"),o.ac(6,"p-sortIcon",118),o.ec(),o.ec(),o.ec()),2&e){const e=o.tc().$implicit;o.Bc("pTooltip",o.vc(1,5,e.header)),o.Ac("pSortableColumn",e.field)("ngStyle",o.Gc(9,vs,e.hdrAlign)),o.Lb(4),o.dd(" ",o.vc(5,7,e.header)," "),o.Lb(2),o.Ac("field",e.field)}}function Ns(e,t){if(1&e&&(o.dc(0),o.Zc(1,Bs,7,11,"th",114),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function Vs(e,t){if(1&e&&(o.fc(0,"tr"),o.fc(1,"td",136),o.ac(2,"ac-loader"),o.ec(),o.ec()),2&e){const e=o.tc(5);o.Lb(1),o.Mb("colspan",e.archiveHistoryTableInfo.tableColumnInfo.length)}}function Hs(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,Ns,2,1,"ng-container",110),o.ec(),o.Zc(2,Vs,3,1,"tr",113)),2&e){const e=o.tc(4);o.Lb(1),o.Ac("ngForOf",e.archiveHistoryTableInfo.tableColumnInfo),o.Lb(1),o.Ac("ngIf",e.fetchingHistTableData)}}function Zs(e,t){if(1&e&&(o.fc(0,"div",123),o.fc(1,"span",124),o.bd(2),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit;o.Bc("pTooltip",t[e.field]),o.Lb(2),o.cd(t[e.field])}}function zs(e,t){if(1&e&&(o.fc(0,"div",123),o.uc(1,"preferredDateTime"),o.fc(2,"span",124),o.bd(3),o.uc(4,"preferredDateTime"),o.ec(),o.ec()),2&e){const e=o.tc(2).$implicit,t=o.tc().$implicit,i=o.tc(4);o.Bc("pTooltip",o.xc(1,2,t[e.field],i.preferencesService,i.dateTimePreferenceService)),o.Lb(3),o.cd(o.xc(4,6,t[e.field],i.preferencesService,i.dateTimePreferenceService))}}function js(e,t){if(1&e&&(o.fc(0,"td",121),o.fc(1,"span"),o.Zc(2,Zs,3,2,"div",122),o.Zc(3,zs,5,10,"div",122),o.ec(),o.ec()),2&e){const e=o.tc().$implicit;o.Ac("ngStyle",o.Hc(3,Ts,e.width,e.cellAlign)),o.Lb(2),o.Ac("ngIf","CTRL_INSERT_DT"!=e.field&&"CTRL_UPDATE_DT"!=e.field),o.Lb(1),o.Ac("ngIf","CTRL_INSERT_DT"==e.field||"CTRL_UPDATE_DT"==e.field)}}function Us(e,t){if(1&e&&(o.dc(0),o.Zc(1,js,4,6,"td",120),o.cc()),2&e){const e=t.$implicit;o.Lb(1),o.Ac("ngIf",!e.hide)}}function $s(e,t){if(1&e&&(o.fc(0,"tr"),o.Zc(1,Us,2,1,"ng-container",110),o.ec()),2&e){const e=o.tc(4);o.Lb(1),o.Ac("ngForOf",e.archiveHistoryTableInfo.tableColumnInfo)}}function Ks(e,t){if(1&e&&(o.fc(0,"tr",126),o.fc(1,"td",119),o.bd(2),o.uc(3,"translate"),o.ec(),o.ec()),2&e){const e=o.tc(5);o.Lb(1),o.Mb("colspan",e.archiveHistoryTableInfo.tableColumnInfo.length),o.Lb(1),o.dd(" ",o.vc(3,2,"common.table.no.items")," ")}}function Qs(e,t){if(1&e&&o.Zc(0,Ks,4,4,"tr",125),2&e){const e=o.tc(4);o.Ac("ngIf",null!=e.archiveResults)}}const Ws=function(e,t,i){return{first:e,rows:t,totalRecords:i}};function qs(e,t){if(1&e&&(o.fc(0,"div"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e){const e=o.tc(5);o.Lb(1),o.dd(" ",o.wc(2,1,"common.table.items.page.info",o.Ic(4,Ws,e.archiveHistoryTableFirst,e.archiveHistoryTableRows,e.totalArchiveResultRecords))," ")}}function Xs(e,t){1&e&&(o.fc(0,"div"),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.cd(o.vc(2,1,"common.table.zero.items")))}function Gs(e,t){if(1&e&&(o.Zc(0,qs,3,8,"div",4),o.Zc(1,Xs,3,3,"ng-template",null,137,o.ad)),2&e){const e=o.Pc(2),t=o.tc(4);o.Ac("ngIf",t.totalArchiveResultRecords>0)("ngIfElse",e)}}const Js=function(){return[20,40,60]};function Ys(e,t){if(1&e){const e=o.gc();o.fc(0,"div",81),o.fc(1,"div",82),o.fc(2,"div"),o.fc(3,"div",127),o.fc(4,"isac-lib-simple-card",84,128),o.uc(6,"translate"),o.fc(7,"table",86),o.fc(8,"tr"),o.fc(9,"td",129),o.fc(10,"section",88),o.fc(11,"div",89),o.fc(12,"section",90),o.fc(13,"div",91),o.fc(14,"div",92),o.fc(15,"button",93),o.pc("click",function(t){o.Rc(e);const i=o.Pc(29),n=o.tc(3);return i.toggle(t),n.showTablePrefs2(t)}),o.uc(16,"translate"),o.uc(17,"translate"),o.ac(18,"i",94),o.ec(),o.ec(),o.fc(19,"div",95),o.fc(20,"button",93),o.pc("click",function(){o.Rc(e);const t=o.Pc(25);return o.tc(3).toggleFullScreenArchiveHistory(t)}),o.uc(21,"translate"),o.uc(22,"translate"),o.uc(23,"translate"),o.ac(24,"i",96,130),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.fc(26,"div",82),o.fc(27,"div",98),o.fc(28,"p-overlayPanel",99,131),o.ac(30,"isac-lib-table-preferences",null,132),o.ec(),o.fc(32,"div",102),o.fc(33,"div",103),o.fc(34,"p-table",133),o.pc("onLazyLoad",function(t){return o.Rc(e),o.tc(3).lazyLoadArchiveResults(t)})("onColResize",function(t){return o.Rc(e),o.tc(3).columnResizeHistory(t)}),o.Zc(35,Fs,2,1,"ng-template",105),o.Zc(36,Hs,3,2,"ng-template",106),o.Zc(37,$s,2,1,"ng-template",107),o.Zc(38,Qs,1,1,"ng-template",108),o.Zc(39,Gs,3,2,"ng-template",134),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.ec()}if(2&e){const e=o.tc(3);o.Lb(4),o.Bc("label",o.vc(6,23,"monitoring.archive.history")),o.Lb(11),o.Bc("pTooltip",o.vc(16,25,"common.table.settings")),o.Mb("aria-label",o.vc(17,27,"common.table.settings")),o.Lb(5),o.Bc("pTooltip",1==e.archiveHistoryFullScreen?o.vc(21,29,"common.exitFullScreen"):o.vc(22,31,"common.showFullScreen")),o.Mb("aria-label",o.vc(23,33,"common.showFullScreen")),o.Lb(8),o.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),o.Lb(6),o.Wc(o.Fc(35,Ps)),o.Bc("scrollHeight",e.archiveHistoryScrollHeight),o.Ac("ngClass",o.Gc(36,As,e.archiveHistoryTableInfo.showZebraStripes))("columns",e.archiveHistoryTableInfo.tableColumnInfo)("value",e.archiveResults)("paginator",!0)("rows",e.archiveHistoryTableInfo.pageSize)("totalRecords",e.totalArchiveResultRecords)("rowsPerPageOptions",o.Fc(38,Js))("paginatorDropdownAppendTo","body")("lazy",!0)("scrollable",!0)("showPageLinks",!1)("showJumpToPageDropdown",!0)("resizableColumns",!0)}}function er(e,t){if(1&e&&(o.fc(0,"div",15),o.fc(1,"div",16),o.fc(2,"div",17),o.Zc(3,ps,133,116,"div",18),o.Zc(4,ks,39,30,"div",19),o.Zc(5,Ys,40,39,"div",19),o.ec(),o.ec(),o.ec()),2&e){const e=o.tc(2);o.Lb(3),o.Ac("ngIf",!e.archiveHistoryFullScreen&&!e.archiveInfoFullScreen),o.Lb(1),o.Ac("ngIf",!e.archiveHistoryFullScreen),o.Lb(1),o.Ac("ngIf",!e.archiveInfoFullScreen)}}function tr(e,t){if(1&e){const e=o.gc();o.dc(0),o.fc(1,"div",6),o.fc(2,"div",7),o.fc(3,"table",8),o.fc(4,"tr"),o.fc(5,"td",9),o.fc(6,"h1"),o.bd(7),o.uc(8,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.ec(),o.Zc(9,er,6,3,"div",10),o.ec(),o.fc(10,"p-confirmDialog",11,12),o.fc(12,"p-footer"),o.fc(13,"button",13),o.pc("click",function(){return o.Rc(e),o.Pc(11).accept()}),o.uc(14,"translate"),o.uc(15,"translate"),o.ec(),o.fc(16,"button",14),o.pc("click",function(){return o.Rc(e),o.Pc(11).reject()}),o.uc(17,"translate"),o.uc(18,"translate"),o.ec(),o.ec(),o.ec(),o.cc()}if(2&e){const e=o.tc();o.Lb(7),o.cd(o.vc(8,6,"monitoring.archive.archiving.and.removal")),o.Lb(2),o.Ac("ngIf",e.isLocalizationResourcesLoaded),o.Lb(4),o.Bc("label",o.vc(14,8,"common.yes.button.text")),o.Mb("aria-label",o.vc(15,10,"common.yes.button.text")),o.Lb(3),o.Bc("label",o.vc(17,12,"common.no.button.text")),o.Mb("aria-label",o.vc(18,14,"common.no.button.text"))}}function ir(e,t){1&e&&(o.fc(0,"div",142),o.bd(1),o.uc(2,"translate"),o.ec()),2&e&&(o.Lb(1),o.cd(o.vc(2,1,"monitoring.error.information")))}function nr(e,t){if(1&e&&(o.fc(0,"div",143),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorInformation)}}function cr(e,t){if(1&e&&(o.fc(0,"div",143),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage1)}}function ar(e,t){if(1&e&&(o.fc(0,"div",143),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage2)}}function sr(e,t){if(1&e&&(o.fc(0,"div",143),o.bd(1),o.ec()),2&e){const e=o.tc(2);o.Lb(1),o.cd(e.monitoringErrorMessage3)}}function rr(e,t){if(1&e&&(o.fc(0,"div",138),o.bd(1),o.uc(2,"translate"),o.ec(),o.fc(3,"ul"),o.fc(4,"li",139),o.bd(5),o.uc(6,"translate"),o.ec(),o.fc(7,"li",139),o.bd(8),o.uc(9,"translate"),o.ec(),o.fc(10,"li",139),o.bd(11),o.uc(12,"translate"),o.ec(),o.fc(13,"li",139),o.bd(14),o.uc(15,"translate"),o.ec(),o.ec(),o.Zc(16,ir,3,3,"div",140),o.Zc(17,nr,2,1,"div",141),o.Zc(18,cr,2,1,"div",141),o.Zc(19,ar,2,1,"div",141),o.Zc(20,sr,2,1,"div",141)),2&e){const e=o.tc();o.Lb(1),o.dd(" ",o.vc(2,10,"monitoring.data.management.unavailable.message")," "),o.Lb(4),o.dd(" ",o.vc(6,12,"monitoring.services.unavailable.ensure1")," "),o.Lb(3),o.dd(" ",o.vc(9,14,"monitoring.services.unavailable.ensure2")," "),o.Lb(3),o.dd(" ",o.vc(12,16,"monitoring.services.unavailable.ensure3")," "),o.Lb(3),o.dd(" ",o.vc(15,18,"monitoring.services.unavailable.ensure4")," "),o.Lb(2),o.Ac("ngIf",e.monitoringErrorInformation||e.monitoringErrorMessage1||e.monitoringErrorMessage2||e.monitoringErrorMessage3),o.Lb(1),o.Ac("ngIf",e.monitoringErrorInformation),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage1),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage2),o.Lb(1),o.Ac("ngIf",e.monitoringErrorMessage3)}}const or=[{path:"",component:zn,redirectTo:"services"},{path:"",component:zn,children:[{path:"services",component:is,pathMatch:"full"},{path:"service/:id",component:Gc},{path:"documents",component:_n,pathMatch:"full"},{path:"document/:id",component:oi,pathMatch:"full"},{path:"data-management",component:(()=>{class e{constructor(e,t,i,n,c,a,s,r){this.sharedMessageService=t,this.translate=i,this.toastr=n,this.cd=s,this.preferencesService=r,this.destroyed$=new p.a,this.DATERANGEPICKER_TIME_FORMAT="MM/DD/YYYY hh:mm a",this.dateOptions={singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,timePickerSeconds:!0,showCustomRangeLabel:!1,showDropdowns:!0,disableInput:!1,autoUpdateInput:!1,startDate:0,endDate:0,locale:{format:this.DATERANGEPICKER_TIME_FORMAT,firstDay:1}},this.daysToRetainOption="numDays",this.numDaysRetainVal=30,this.archivingBatchSize=100,this.subs=[],this.archiveInfoTableInfo=new j.J("",[]),this.archiveHistoryTableInfo=new j.J("",[]),this.archiveHistoryTableLoading=!1,this.archiveHistoryTableFirst=1,this.archiveHistoryTablePageCount=1,this.archiveHistoryTableRows=0,this.showMaxArchiveResultRowsReachedMsg=!1,this.archiveHistoryFullScreen=!1,this.archiveInfoFullScreen=!1,this.archiveHistoryScrollHeight="220px",this.archiveInfoScrollHeight="220px",this.fetchingInfoTableData=!1,this.fetchingHistTableData=!1,this.servicesChecked=!1,this.documentsChecked=!1,this.serverDataChecked=!1,this.isWmMonitorAvailable=!0,this.archiveMessage={messages:[],errorMessages:[]},this.dataManagementService=e,this.tableSettingsService=c,this.confirmationService=a,this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){const e={separator:" "+this.translate.instant("common.calendar.separator")+" ",applyLabel:this.translate.instant("common.calendar.applyLabel"),cancelLabel:this.translate.instant("common.calendar.cancelLabel"),fromLabel:this.translate.instant("common.calendar.fromLabel"),toLabel:this.translate.instant("common.calendar.toLabel"),customRangeLabel:this.translate.instant("common.calendar.customRangeLabel"),weekLabel:this.translate.instant("common.calendar.weekLabel"),daysOfWeek:[this.translate.instant("common.calendar.daysOfWeek.Su"),this.translate.instant("common.calendar.daysOfWeek.Mo"),this.translate.instant("common.calendar.daysOfWeek.Tu"),this.translate.instant("common.calendar.daysOfWeek.We"),this.translate.instant("common.calendar.daysOfWeek.Th"),this.translate.instant("common.calendar.daysOfWeek.Fr"),this.translate.instant("common.calendar.daysOfWeek.Sa")],monthNames:[this.translate.instant("common.calendar.monthNames.January"),this.translate.instant("common.calendar.monthNames.February"),this.translate.instant("common.calendar.monthNames.March"),this.translate.instant("common.calendar.monthNames.April"),this.translate.instant("common.calendar.monthNames.May"),this.translate.instant("common.calendar.monthNames.June"),this.translate.instant("common.calendar.monthNames.July"),this.translate.instant("common.calendar.monthNames.August"),this.translate.instant("common.calendar.monthNames.September"),this.translate.instant("common.calendar.monthNames.October"),this.translate.instant("common.calendar.monthNames.November"),this.translate.instant("common.calendar.monthNames.December")]},t=Object.assign(e,this.dateOptions.locale);this.dateOptions.locale=t,this.checkMonitorStatus()}initializeDataManagement(){this.setArchiveHistoryTableDefault(),this.fetchingInfoTableData=!1,this.fetchingHistTableData=!1,this.archiveHistoryTableLoading=!0;const e=new Date;e.setDate(e.getDate()-30),this.dateDVal=+e,this.dateOptions.startDate=this.clonedDateTime(this.dateDVal),this.dateOptions.endDate=this.clonedDateTime(this.dateDVal),this.getArchiveInfo(),this.subs.push(this.tableSettingsService.getTableInfo("monitoring.archive.info.results").subscribe(e=>{this.archiveInfoTableInfo=e,this.archiveInfoTableInfo.pageSize||(this.archiveInfoTableInfo.pageSize=20)})),this.subs.push(this.tableSettingsService.getTableInfo("monitoring.archive.history.results").subscribe(e=>{this.archiveHistoryTableInfo=e,this.archiveHistoryTableInfo.pageSize||(this.archiveHistoryTableInfo.pageSize=20)})),this.subs.push(this.translate.get("common.reset").subscribe(()=>{this.isLocalizationResourcesLoaded=!0;const e=this.translate.instant("monitoring.archive.data.type.completed"),t=this.translate.instant("monitoring.archive.data.type.completed.failed");this.serviceTypeVals=[{label:e,value:e,title:e},{label:t,value:t,title:t}],this.servicesDataTypeVal=e}))}checkMonitorStatus(){this.subs.push(this.dataManagementService.getMonitorStatus().pipe(Object(g.a)(this.destroyed$)).subscribe(e=>{e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"enabled"===e.status&&this.initializeDataManagement()},e=>{}))}ngAfterViewInit(){this.makeComponentsAccessible()}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementById("servicesDataType");e&&j.K.makeDropdownAccessible(e,this.translate.instant("monitoring.archive.service.status.tooltip"));const t=document.getElementsByTagName("p-paginator");if(t&&t.length>0){let e=0;for(e=0;e<t.length;e++)j.K.makePaginatorAccessible(t[e],this.translate.instant("common.table.pagination.go.back.first.page"),this.translate.instant("common.table.pagination.advance.last.page"),this.translate.instant("common.table.pagination.go.back.previous.page"),this.translate.instant("common.table.pagination.advance.next.page"),this.translate.instant("common.table.pagination.select.page"),this.translate.instant("common.table.pagination.select.number.rows"))}},400)}servicesChkChanged(e){this.servicesChecked=e.target.checked}documentsChkChanged(e){this.documentsChecked=e.target.checked}serverDataChkChanged(e){this.serverDataChecked=e.target.checked}showTablePrefs1(e){const t=this;this.tableSettingsService.changeShowHideInfo(this.archiveInfoTableInfo),setTimeout(()=>{t.tablePrefs1.setFocus()},10)}showTablePrefs2(e){const t=this;this.tableSettingsService.changeShowHideInfo(this.archiveHistoryTableInfo),setTimeout(()=>{t.tablePrefs2.setFocus()},10)}toggleFullScreenArchiveHistory(e){this.archiveHistoryFullScreen=!this.archiveHistoryFullScreen,this.archiveHistoryFullScreen?(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen"),this.archiveHistoryScrollHeight="1000px"):(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen"),this.archiveHistoryScrollHeight="220px"),this.archiveHistCard.setShowExpandCollapse(!this.archiveHistoryFullScreen)}toggleFullScreenArchiveInfo(e){this.archiveInfoFullScreen=!this.archiveInfoFullScreen,this.archiveInfoFullScreen?(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen"),this.archiveInfoScrollHeight="1000px"):(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen"),this.archiveInfoScrollHeight="220px"),this.archiveInfoCard.setShowExpandCollapse(!this.archiveInfoFullScreen)}archive(e){e?this.confirmationService.confirm({message:this.translate.instant("monitoring.archive.confirm.delete.message"),header:this.translate.instant("monitoring.archive.confirm.delete.title"),icon:"pi pi-info-circle",accept:()=>{this.performArchive(!0)},reject:()=>{}}):this.performArchive(!1)}performArchive(e){let t=!1,i=!1,n=!1;if(!(this.servicesChecked||this.documentsChecked||this.serverDataChecked)){const e=this.translate.instant("monitoring.archive.select.data.type.err.msg"),t=this.translate.instant("monitoring.archive.select.data.type.err.title");return void this.toastr.error(e,t)}t=this.servicesChecked,i=this.documentsChecked,n=this.serverDataChecked;let c="ARCHIVE";e&&(c="DELETE");const a=this.daysToRetainOption;let s,r,o;"numDays"===a?s=this.numDaysRetainVal:"retenPd"===a&&(r=this.dateDVal);const l=new Array(0);t&&(l.push("service"),o=this.servicesDataTypeVal),i&&l.push("document"),n&&l.push("server"),this.archiveDelete(c,s,r,this.archivingBatchSize,o,l)}getArchiveInfo(){this.fetchingInfoTableData=!0,this.dataManagementService.getArchiveInfo().subscribe(e=>{e&&(this.archiveInfo=e.archiveInfo,this.displayMessages()),this.fetchingInfoTableData=!1},e=>{this.fetchingInfoTableData=!1,this.isWmMonitorAvailable=!1,e.message&&(this.monitoringErrorMessage2=e.message),e.error&&e.error.message&&(this.monitoringErrorMessage3=e.error.message)})}getArchiveResults(){this.fetchingHistTableData=!0,this.dataManagementService.getArchiveResults(this.archiveHistoryTablePageCount,this.archiveInfoTableInfo.pageSize,this.archiveInfoTableInfo.sortField,"asc"===this.archiveInfoTableInfo.sortOrder?"TRUE":"FALSE").subscribe(e=>{e&&(this.archiveResults=e.archiveResults,this.totalArchiveResultRecords=this.archiveResults&&this.archiveResults.length>0&&e.totalCounts?e.totalCounts:0,this.fetchingHistTableData=!1,this.archiveHistoryTableLoading=!1)},e=>{this.archiveHistoryTableLoading=!1,this.fetchingHistTableData=!1,this.totalArchiveResultRecords=null,this.archiveResults=[],this.toastr.error(Object(j.L)(e,this.translate),this.translate.instant("common.error"))})}archiveDelete(e,t,i,n,c,a){this.archiveDeleteComplete=!1,this.archiveHistoryTableLoading=!0,this.fetchingInfoTableData=!0,this.fetchingHistTableData=!0,this.dataManagementService.archiveDelete(e,t,i,n,c,a).subscribe(e=>{e&&(e.message&&(this.archiveMessage.messages=e.message),e.errorMessage&&(this.archiveMessage.errorMessages=e.errorMessage),this.archiveDeleteComplete=!0),this.refreshTables()},e=>{this.archiveDeleteComplete=!0,this.toastr.error(Object(j.L)(e,this.translate),this.translate.instant("monitoring.archive.error.title"),{enableHtml:!0})})}refreshTables(){this.resetPager(),this.getArchiveInfo(),this.getArchiveResults()}setArchiveHistoryTableDefault(){this.archiveHistoryTableLoading=!1,this.archiveInfoTableInfo.sortField=this.archiveInfoTableInfo.defaultSortField,this.archiveInfoTableInfo.sortOrder=this.archiveInfoTableInfo.defaultSortOrder,this.resetPager()}resetPager(){this.archiveHistoryTableFirst=1,this.archiveHistoryTablePageCount=0,this.totalArchiveResultRecords=0,this.archiveInfoTableInfo.pageSize||(this.archiveInfoTableInfo.pageSize=20),this.archiveHistoryTableRows=this.archiveInfoTableInfo.pageSize}renderServiceTableResults(e){e?(this.archiveInfoTableInfo.sortField=e.sortField,this.archiveInfoTableInfo.sortOrder="desc",1===e.sortOrder&&(this.archiveInfoTableInfo.sortOrder="asc"),this.archiveHistoryTableFirst=e.first+1,e.rows&&(this.archiveHistoryTablePageCount=Math.floor(e.first/e.rows),this.archiveInfoTableInfo.pageSize=e.rows)):this.setArchiveHistoryTableDefault(),this.getRowCount(),this.cd.detectChanges()}getRowCount(){this.archiveHistoryTableRows=(this.archiveHistoryTablePageCount+1)*this.archiveInfoTableInfo.pageSize,this.totalArchiveResultRecords>0&&this.totalArchiveResultRecords<this.archiveHistoryTableRows&&(this.archiveHistoryTableRows=this.totalArchiveResultRecords)}columnResizeSummary(e){const t=document.getElementById("SUMMARY_COLGROUP");if(t){const e=t.querySelectorAll('*[id^="SUMMARY_"]');if(e&&e.length>0){const t=Array.from(e);this.tableSettingsService.columnResize(t,this.archiveInfoTableInfo)}}}columnResizeHistory(e){const t=document.getElementById("HISTORY_COLGROUP");if(t){const e=t.querySelectorAll('*[id^="HISTORY_"]');if(e&&e.length>0){const t=Array.from(e);this.tableSettingsService.columnResize(t,this.archiveHistoryTableInfo)}}}lazyLoadArchiveResults(e){this.renderServiceTableResults(e),this.getArchiveResults()}clearMessages(){this.archiveMessage.messages=null,this.archiveMessage.errorMessages=null,this.uncheckDataTypes()}uncheckDataTypes(){this.servicesChecked=!1,this.documentsChecked=!1,this.serverDataChecked=!1}displayMessages(){if(this.archiveMessage.messages&&this.archiveMessage.messages.length>0){let e="";for(let t=0;t<this.archiveMessage.messages.length;t++)e+=this.archiveMessage.messages[t],t<this.archiveMessage.messages.length-1&&(e+="<hr>");this.toastr.success(e,this.translate.instant("monitoring.archive.success.title"),{enableHtml:!0})}if(this.archiveMessage.errorMessages&&this.archiveMessage.errorMessages.length>0){let e="";for(let t=0;t<this.archiveMessage.errorMessages.length;t++)e+=this.archiveMessage.errorMessages[t],t<this.archiveMessage.errorMessages.length-1&&(e+="<hr>");this.toastr.error(e,this.translate.instant("monitoring.archive.error.title"),{enableHtml:!0})}this.clearMessages()}applyDaterangepicker(e){e&&e.picker&&e.picker.startDate&&e.picker.startDate._d&&(this.dateDVal=Date.parse(e.picker.startDate._d))}showDaterangepicker(e){this.dateOptions.endDate=this.dateDVal,e&&e.picker&&e.picker.setEndDate(this.dateDVal)}clonedDateTime(e){return e&&e.clone?e.clone():K(e)}blurHandler(e){const t=oe.validateDate(e.target.value,this.translate),i=this.translate.instant("serviceinput.validate.invalid.entry");t&&this.toastr.error(t,i)}showHelp(){}ngOnDestroy(){this.subscription.unsubscribe(),this.subs.forEach(e=>e.unsubscribe()),this.destroyed$.next(!0),this.destroyed$.complete()}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(ns),o.Zb(j.B),o.Zb(n.d),o.Zb(Q.b),o.Zb(s.TableSettingsService),o.Zb(d.b),o.Zb(o.h),o.Zb(s.PreferencesService))},e.\u0275cmp=o.Tb({type:e,selectors:[["app-data-management"]],viewQuery:function(e,t){if(1&e&&(o.hd(ss,1),o.hd(rs,1),o.hd(os,1),o.hd(ls,1)),2&e){let e;o.Oc(e=o.qc())&&(t.tablePrefs1=e.first),o.Oc(e=o.qc())&&(t.tablePrefs2=e.first),o.Oc(e=o.qc())&&(t.archiveInfoCard=e.first),o.Oc(e=o.qc())&&(t.archiveHistCard=e.first)}},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"dataManagementContainer"],[1,"dlg-title-wrapper"],["width","100%","role","presentation"],[1,"page-title"],["class","data-mgmt",4,"ngIf"],["header","Confirmation","icon","pi pi-exclamation-triangle"],["cd",""],["type","button","pButton","","icon","pi pi-check",3,"label","click"],["type","button","pButton","","icon","pi pi-times",3,"label","click"],[1,"data-mgmt"],[1,"row","d-flex","justify-content-between"],[1,"col"],["class","row rowone",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","rowone"],[1,"colone"],[1,"data-mgmt-card0"],[3,"label"],[1,"hr1"],["height","100%",1,"margin-left-10-px"],["width","10%"],["width","85%"],["width","5%"],["nowrap",""],[1,"ui-g",2,"margin-left","14px"],[1,"ui-g-12"],[1,"dlt-radio-button"],["type","radio","name","group1","value","numDays","id","numDaysRetainRB",3,"ngModel","ngModelChange"],["numDaysRetainRB",""],["for","numDaysRetainRB",1,"rb-label"],[1,"dlt-form-group"],["id","numDaysRetain","type","number","min","0","max","9999999","aria-labelledby","numDaysRetainRB","showDelay","250",1,"dlt-number-input",3,"ngModel","disabled","pTooltip","ngModelChange"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"disabled","pTooltip"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"disabled","pTooltip"],[1,"dlt-icon-caret-down","number-step-down-icon"],["type","radio","name","group1","value","retenPd","id","retenPdStartRB",3,"ngModel","ngModelChange"],["retenPdStartRB",""],["for","retenPdStartRB",1,"rb-label"],["nowrap","","align","left"],["class","reten-pd-dt form-control","aria-labelledby","retenPdStartRB","disabled","",4,"ngIf"],["class","reten-pd-dt form-control","aria-labelledby","retenPdStartRB",4,"ngIf"],["id","retenPdCalendar","tabindex","0","type","button","daterangepicker","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","options","disabled","showDaterangepicker","applyDaterangepicker"],[1,"dlt-icon-calendar","dlg-icon-btn","dlt-icon"],[1,"col-12",2,"padding-right","30px"],[1,"ui-g",2,"width","100%","margin-top","-1.0rem","margin-left","1.0rem"],[1,"datatypes","margin-right-10-px"],["width","70%"],[1,"leftmiddle"],[1,"dlt-checkbox"],["type","checkbox","id","dtServices","name","dtServices","tabindex","0",3,"ngModel","ngModelChange","change"],["dtServices",""],["for","dtServices","id","dtServicesLbl","name","dtServicesLbl"],["dtServicesLbl",""],["id","servicesDataType","inputId","servicesDataType","name","servicesDataType","aria-labelledby","dtServicesLbl","showDelay","250","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","pTooltip","disabled","ngModelChange"],["servicesDataType",""],["type","checkbox","id","dtDocuments","name","dtDocuments","tabindex","0",3,"ngModel","ngModelChange","change"],["for","dtDocuments","id","dtDocumentsLbl","name","dtDocumentsLbl"],["dtDocumentsLbl",""],[2,"white-space","nowrap"],["type","checkbox","id","dtServerData","name","","tabindex","0",3,"ngModel","ngModelChange","change"],["for","dtServerData"],[1,"rightmiddle1"],["id","archBatchSizeLabel","for","archBatchSize",1,"leftmiddle"],[1,"rightmiddle2"],["id","archBatchSize","type","number","min","1","max","9999999","aria-labelledby","archBatchSizeLabel",1,"dlt-number-input",3,"ngModel","ngModelChange"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip"],[1,"buttons-wrapper"],["type","button","id","archive-and-delete-btn","showDelay","250",1,"dlt-button","dlt-button-secondary",3,"pTooltip","disabled","click"],["type","button","id","delete-only-btn","showDelay","250",1,"dlt-button","dlt-button-secondary",3,"pTooltip","disabled","click"],[1,"hr3"],["aria-labelledby","retenPdStartRB","disabled","",1,"reten-pd-dt","form-control"],["aria-labelledby","retenPdStartRB",1,"reten-pd-dt","form-control"],[1,"row"],[1,"col-12"],[1,"data-mgmt-card1"],["showExpandCollapse","true",3,"label"],["archiveInfoCard",""],[1,"tblToolbar",2,"width","100%","margin-left","-3.0rem","margin-right","-3.0rem"],[2,"vertical-align","middle","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[1,"dlt-dropdown",2,"margin-right","0.5rem"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],[1,"dlt-dropdown"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandArchiveInfoTable",""],[1,"archiveresultcontainer"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay1",""],["tablePrefs1",""],[1,"dlt-data-table-container"],[1,"dlt-table-wrapper"],["responsiveLayout","scroll",3,"ngClass","columns","value","scrollable","scrollHeight","resizableColumns","onColResize"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["id","SUMMARY_COLGROUP"],[4,"ngFor","ngForOf"],[3,"ngStyle","id",4,"ngIf"],[3,"ngStyle","id"],[4,"ngIf"],["pResizableColumn","","tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip",4,"ngIf"],["pResizableColumn","","tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"firstPart0"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"data-mgmt-card2"],["archiveHistCard",""],["align","right"],["expandArchiveHistoryTable",""],["tablePrefsOverlay2",""],["tablePrefs2",""],["lazyLoadOnInit","true","sortMode","single","sortOrder","-1","dataKey","CTRL_INSERT_DT","responsiveLayout","scroll",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","scrollable","scrollHeight","showPageLinks","showJumpToPageDropdown","resizableColumns","onLazyLoad","onColResize"],["pTemplate","paginatorleft"],["id","HISTORY_COLGROUP"],[1,"table-data","centerAlignText"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(o.fc(0,"div",0),o.fc(1,"ol",1),o.fc(2,"li"),o.fc(3,"a",2),o.bd(4),o.uc(5,"translate"),o.ec(),o.ec(),o.fc(6,"li"),o.fc(7,"a",3),o.bd(8),o.uc(9,"translate"),o.ec(),o.ec(),o.ec(),o.ec(),o.Zc(10,tr,19,16,"ng-container",4),o.Zc(11,rr,21,20,"ng-template",null,5,o.ad)),2&e){const e=o.Pc(12);o.Lb(4),o.cd(o.vc(5,4,"masthead.administration")),o.Lb(4),o.cd(o.vc(9,6,"monitoring.data.management.tab")),o.Lb(2),o.Ac("ngIf",t.isWmMonitorAvailable)("ngIfElse",e)}},directives:[h.i,r.o,cs.a,d.g,as.b,s.SimpleCardComponent,Pe.u,Pe.c,Pe.n,Pe.q,Pe.s,ee.a,s.DaterangePickerComponent,Pe.a,De.a,Si.a,s.TablePreferencesComponent,xi.h,r.m,d.k,r.n,r.p,xi.d,xi.g,xi.f,s.ACLoaderComponent],pipes:[n.c,j.u],styles:[".breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.dataManagementContainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem}.page-title[_ngcontent-%COMP%], .section-title[_ngcontent-%COMP%]{width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.section-title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:700;margin-top:-1rem;margin-left:0}.hr1[_ngcontent-%COMP%]{margin-top:.4rem}.hr1[_ngcontent-%COMP%], .hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem}.hr2[_ngcontent-%COMP%], .hr3[_ngcontent-%COMP%]{margin-top:0}.hr3[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-right:0}.data-mgmt[_ngcontent-%COMP%]{padding-top:1rem}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.col-12[_ngcontent-%COMP%]{padding-right:10px;padding-left:10px}.colone[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-left:10px;margin-right:10px}.data-mgmt-card0[_ngcontent-%COMP%]{min-height:180px}.data-mgmt-card0[_ngcontent-%COMP%], .data-mgmt-card1[_ngcontent-%COMP%]{min-width:560px}.data-mgmt-card0[_ngcontent-%COMP%], .data-mgmt-card1[_ngcontent-%COMP%], .data-mgmt-card2[_ngcontent-%COMP%]{padding-bottom:1rem;width:100%;height:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.datepicker[_ngcontent-%COMP%], .table-condensed[_ngcontent-%COMP%]{width:500px}.reten-pd-dt[_ngcontent-%COMP%]{height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;display:block;font-family:Roboto,Helvetica,Arial,sans-serif;background-color:#eaeaea;color:#000}.reten-pd-dt[_ngcontent-%COMP%]:disabled, .reten-pd-dt[disabled][_ngcontent-%COMP%]{color:#595959}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.archiveresultcontainer[_ngcontent-%COMP%]{height:100%;width:100%;padding-left:1.6rem;padding-right:1.6rem;padding-bottom:1rem;overflow:auto}.tblToolbar[_ngcontent-%COMP%]{margin-left:1rem;margin-right:3.5rem;margin-top:-1.9rem}.dataTypeCheckbox[_ngcontent-%COMP%]{padding-top:0;padding-bottom:1rem}label.leftmiddle[_ngcontent-%COMP%]{padding-top:.6rem!important;padding-bottom:0!important}td.leftmiddle[_ngcontent-%COMP%]{vertical-align:middle;align:left;padding-top:8px;padding-bottom:8px}td.rightmiddle1[_ngcontent-%COMP%], td.rightmiddle2[_ngcontent-%COMP%]{vertical-align:middle;text-align:right;padding-right:.4rem;white-space:nowrap}td.rightmiddle2[_ngcontent-%COMP%]{padding-top:4px}table.datatypes[_ngcontent-%COMP%]{width:100%;margin-right:1.5rem}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0;margin-bottom:.4rem;width:100%}.dlt-checkbox[_ngcontent-%COMP%]{padding-top:0}.firstPart0[_ngcontent-%COMP%], .lastPart0[_ngcontent-%COMP%]{color:#000}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}.margin-left-10-px[_ngcontent-%COMP%]{margin-left:10px}.margin-right-10-px[_ngcontent-%COMP%]{margin-right:10px!important}label.rb-label[_ngcontent-%COMP%]{margin-left:.4rem;margin-right:.6rem}.center[_ngcontent-%COMP%]{margin-left:-1px;margin-top:-1px}.center[_ngcontent-%COMP%], .center1[_ngcontent-%COMP%], .center2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:18px;height:18px;transform:translate(-50%,-50%);display:block}.center2[_ngcontent-%COMP%]{margin-top:-1px}"]}),e})(),pathMatch:"full"}]}];let lr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Xb({type:e}),e.\u0275inj=o.Wb({imports:[[h.j.forChild(or)],h.j]}),e})();var dr=i("nWvw");let ur=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Xb({type:e}),e.\u0275inj=o.Wb({imports:[[r.c,Pe.j,ee.b,n.b.forChild({loader:{provide:n.a,useFactory:hr,deps:[Z.b]},extend:!0})]]}),e})();function hr(e){return new j.r(e,[])}var pr=i("FjU+");let gr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Xb({type:e}),e.\u0275inj=o.Wb({providers:[r.e,j.u],imports:[[r.c,ur,Qn.b,Pe.j,Pe.v,j.t,s.Daterangepicker,De.b,pr.b,ee.b,n.b.forChild({loader:{provide:n.a,useFactory:mr,deps:[Z.b]},extend:!0})],Qn.b,j.t]}),e})();function mr(e){return new j.r(e,[])}var fr=i("YvBs");let br=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Xb({type:e}),e.\u0275inj=o.Wb({providers:[j.F,j.G,d.i,dr.a,j.g,j.u,j.h,j.E,s.D3HelperService,d.b,{provide:s.IServiceDashboard,useClass:s.IServicesDashboardServiceImpl}],imports:[[r.c,s.TablesModule,a.a,s.ISACSharedModule,lr,j.t,dr.c,te.b,c.g,n.b.forChild({loader:{provide:n.a,useFactory:vr,deps:[Z.b]},extend:!0}),Pe.j,Pe.v,gr,fr.a,pr.b,s.Daterangepicker,cs.b,z.b,V,H.b],j.t]}),e})();function vr(e){return new j.r(e,[])}}}]);